module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements},this.error=function(e){return console.error(e),!1},this.log=function(e){return console.log(e),!0}};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(16)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n={change:[]};t.tree=[{id:"root",fields:[]}];var r=function(){n.change.forEach(function(e){return e(t.tree)})};this.updateState=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var u=[];o.forEach(function(e){var t=i.fields.findIndex(function(t){return t.id===e.id});-1===t?u.push(e):i.fields=i.fields.map(function(n,r){return r===t?e:n})}),u.length&&(i.fields=i.fields.concat(u))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var l=0;l<a.length;l++){var f=a[l].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,o),a(t.tree),r()},this.getState=function(){return t.tree},this.clearState=function(){var e=t.tree[0],n=e.fields.length;return e.fields.forEach(function(e,t){e.flushDroppedElements(function(){t===n-1&&r()})}),!0},this.addEventListener=function(e,t){var r=null;return"function"!=typeof t?(a.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(n,e)?(n[e].push(t),r=t):a.default.error("No such event"),r)},this.removeEventListener=function(e,t){Object.prototype.hasOwnProperty.call(n,e)?n[e]=n[e].filter(function(e){return e!==t}):a.default.error("No such event")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),u=f(n(3)),l=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props.capacity;return i.default.createElement("div",{ref:this.canvasRef,className:(n&&n===t.length?"no-space":"")+" canvas",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t){return e._renderDragItem(r({},t))}))}}]),t}(),p=function(){var e=this;this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initialElements.length){var n=e.props.id,o=t.map(function(t){return r({},t,{key:t.id,dropzoneID:n,showBasicContent:!1,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:o,droppedElements:o},e._updateState)}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==n})},e._updateState)},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.id,o=n.parentID;u.default.updateState(r,o,e.state.droppedElements,t)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=l.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!l.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),l.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),l.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation(),l.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var n=e.props.onDrop,o=JSON.parse(t.dataTransfer.getData("data"));return o=r({},o),n?n(o,e._addElement):e._addElement(o)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=l.default.getDraggedElement(),s=!t||!t.id,u=t.id&&e.state.droppedElements.filter(function(e){return e.id===t.id}).length;if(s||u)return l.default.error("Duplicate or invalid ID");var f=e.state.droppedElements.concat(r({},t,{key:t.id,dropzoneID:o,showBasicContent:!1,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement}));return a&&f.length>a?l.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:f},function(){i&&"function"==typeof i.checkAndRemoveElement&&i.checkAndRemoveElement(),e._updateState()}),{dropzoneID:o,elements:f})},this._renderDragItem=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};c.propTypes={id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,initialElements:s.default.instanceOf(s.default.array),parentID:s.default.string.isRequired},c.defaultProps={initialElements:[],onElementMove:function(){return!0}},t.default=c},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,f=[],c=n(5);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=u||(u=v(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\r\n\r\n/* Prevent the text contents of draggable elements from being selectable. */\r\n[draggable] {\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n\r\n  /* Required to make elements draggable in old WebKit */\r\n  -khtml-user-drag: element;\r\n  -webkit-user-drag: element;\r\n}\r\n\r\n/* class gets appended to canvas when user dragging over on it */\r\n.inside {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n}\r\n\r\n.trash-box.inside,\r\n.canvas.inside.no-space {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n}\r\n\r\n.canvas {\r\n  padding: 10px;\r\n  width: 100%;\r\n  min-width: 100px;\r\n  min-height: 70vh;\r\n  box-sizing: border-box;\r\n  background: #dce3eb;\r\n  border: 1px solid #bec2c7;\r\n}\r\n\r\n.palette {\r\n  padding: 10px;\r\n  min-height: 70vh;\r\n  background: #fff;\r\n  float: right;\r\n  box-sizing: border-box;\r\n  border: 1px solid #2476e2;\r\n}\r\n\r\n.drag-item {\r\n  background-color: #dae5f5;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #2476e2;\r\n}\r\n\r\n.palette-wrapper .drag-item {\r\n  background-color: #2476e2;\r\n}\r\n\r\n.drag-item + div {\r\n  margin-top: 10px;\r\n}\r\n\r\n.trash-box {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: 10px 0;\r\n  color: #000;\r\n  background: #fcd2d2;\r\n  text-align: center;\r\n}\r\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),i=u(n(2)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,u=o(t);return n._manageInsideClass(e,"remove"),u&&s.default.getAttemptToRemove()&&(i(t.elementID),a()),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();l.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},l.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=l(a),s=l(n(2)),u=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=l(a),s=l(n(2)),u=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._dragEnd=function(e){e.stopPropagation(),u.default.setDraggedElement(null)},r._dragStart=function(e){e.stopPropagation();var t=r.props,n=t.id,o=t.type,a=t.name,i=t.payload,s=t.dropzoneID,l=t.removeElement,f=t.checkAndRemoveElement,c={id:n,type:o,name:a,payload:i};e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(c)),s&&u.default.setDraggedElement({elementID:n,dropzoneID:s,removeElement:l,checkAndRemoveElement:f})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this.props.elementProps;return i.default.createElement("div",r({className:"drag-item",onDragStart:this._dragStart,onDragEnd:this._dragEnd,draggable:!0},e),this.props.children)}}]),t}();c.propTypes={id:s.default.string.isRequired,name:s.default.string,dropzoneID:s.default.string,payload:s.default.instanceOf(s.default.object),elementProps:s.default.instanceOf(s.default.object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},c.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null},t.default=c},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,u],c=0;(l=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(14),a=n(13);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root"})))}},function(e,t,n){"use strict";var r=f(n(17)),o=f(n(4)),a=f(n(12)),i=f(n(11)),s=f(n(10)),u=f(n(3)),l=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,state:u.default,core:l.default,registerPaletteElements:l.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFzaC9UcmFzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2FudmFzL0NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvcmUiLCJDb3JlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImdldEF0dGVtcHRUb1JlbW92ZSIsImF0dGVtcHRUb1JlbW92ZSIsInNldEF0dGVtcHRUb1JlbW92ZSIsInN0YXR1cyIsInNldERyYWdnZWRFbGVtZW50IiwiZHJhZ2dlZEVsZW1lbnQiLCJnZXREcmFnZ2VkRWxlbWVudCIsInJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzIiwicmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyIsImdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJlcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVxdWlyZSIsIl9jb3JlIiwic3RhdGUiLCJTdGF0ZSIsImV2ZW50IiwiY2hhbmdlIiwidHJlZSIsImlkIiwiZmllbGRzIiwibm90aWZ5U3RhdGVDaGFuZ2UiLCJmb3JFYWNoIiwiZSIsInVwZGF0ZVN0YXRlIiwiZHJvcHpvbmVJRCIsInBhcmVudElEIiwiY2IiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUiLCJ1cGRhdGVkRmllbGRzIiwibWF0Y2hlZFBhcmVudENhbnZhcyIsImZpbmQiLCJmaWVsZCIsInJldHVyblN0YXR1cyIsImZpZWxkc1RvQmVBZGRlZCIsInVGaWVsZCIsImZpZWxkSW5kZXgiLCJmaW5kSW5kZXgiLCJmIiwicHVzaCIsIm1hcCIsImNvbmNhdCIsImZpbHRlciIsImNoaWxkRmllbGRzIiwiZ2V0U3RhdGUiLCJjbGVhclN0YXRlIiwicm9vdE5vZGUiLCJ0b3BMZXZlbEZpZWxkcyIsInRvcExldmVsRWxlbWVudCIsImZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInJldHVybkNCIiwiX2NvcmUyIiwiZGVmYXVsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcmVhY3QiLCJEcm9wem9uZSIsInByb3BzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwiX2luaXRpYWxpc2VQcm9wcyIsImNhbnZhc1JlZiIsIl9yZWFjdDIiLCJjcmVhdGVSZWYiLCJpbml0aWFsRWxlbWVudHMiLCJkcm9wcGVkRWxlbWVudHMiLCJfc2V0SW5pdGlhbEVsZW1lbnRzIiwiX3JlZiIsIl90aGlzMiIsImNhcGFjaXR5IiwiY3JlYXRlRWxlbWVudCIsInJlZiIsImNsYXNzTmFtZSIsIm9uRHJhZ092ZXIiLCJfb25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwiX29uRHJhZ0xlYXZlIiwib25EcmFnRW50ZXIiLCJfb25EcmFnRW50ZXIiLCJvbkRyb3AiLCJfb25Ecm9wIiwib25EcmFnRW5kIiwiX29uRHJhZ0VuZCIsIl9yZW5kZXJEcmFnSXRlbSIsIl9leHRlbmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiX3RoaXMzIiwidXBkYXRlZEluaXRpYWxJdGVtcyIsImtleSIsInNob3dCYXNpY0NvbnRlbnQiLCJyZW1vdmVFbGVtZW50IiwiX3JlbW92ZUVsZW1lbnQiLCJfZmx1c2hEcm9wcGVkRWxlbWVudHMiLCJjaGVja0FuZFJlbW92ZUVsZW1lbnQiLCJfY2hlY2tBbmRSZW1vdmVFbGVtZW50Iiwic2V0U3RhdGUiLCJfdXBkYXRlU3RhdGUiLCJfbWFuYWdlSW5zaWRlQ2xhc3MiLCJfcmVmMiIsImFjdGlvbiIsInRhcmdldCIsImN1cnJlbnQiLCJjbGFzc0xpc3QiLCJlbGVtZW50SUQiLCJpbmRleCIsIl9wcm9wcyIsIl9zdGF0ZTIiLCJlbGVtZW50TW92ZWQiLCJvbkVsZW1lbnRNb3ZlIiwiYXR0ZW1wdFRvTW92ZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJfYWRkRWxlbWVudCIsInVwZGF0ZWREYXRhIiwiX3Byb3BzMiIsImludmFsaWRVcGRhdGVkRGF0YSIsImtleUFscmVhZHlQcmVzZW50IiwibmV3RWxlbWVudHMiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJ0eXBlIiwiY29tcG9uZW50IiwicHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwibnVtYmVyIiwiZnVuYyIsImluc3RhbmNlT2YiLCJhcnJheSIsImRlZmF1bHRQcm9wcyIsImNzcyIsImxvY2F0aW9uIiwid2luZG93IiwiRXJyb3IiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiaW5kZXhPZiIsInN0cmluZ2lmeSIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiZ2V0RWxlbWVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwib3B0aW9ucyIsIml0ZW0iLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4Iiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwiam9pbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwidG9TdHJpbmciLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJobXIiLCJsb2NhbHMiLCJUcmFzaCIsInRyYXNoUmVmIiwiZWxlbWVudFRvQmVUcmFzaGVkIiwiX3RoaXMkcHJvcHMiLCJvbkJlZm9yZVRyYXNoIiwib25BZnRlclRyYXNoIiwiY2hpbGRyZW4iLCJvbmVPZlR5cGUiLCJhcnJheU9mIiwiUGFsZXR0ZSIsIl9yZW5kZXJMaXN0IiwicGFsZXR0ZUVsZW1lbnRzIiwicHJvcFZhbHVlIiwiaXNFcnJvciIsIkRyYWdnYWJsZSIsIl9kcmFnRW5kIiwiX2RyYWdTdGFydCIsInBheWxvYWQiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsImVsZW1lbnRQcm9wcyIsIm9uRHJhZ1N0YXJ0IiwiZHJhZ2dhYmxlIiwidmFsaWRhdGVGb3JtYXQiLCJmb3JtYXQiLCJjb25kaXRpb24iLCJhIiwiYiIsImFyZ3MiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhhdFJldHVybnNBcmd1bWVudCIsImludmFyaWFudCIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0Iiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImJvb2wiLCJzeW1ib2wiLCJhbnkiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsIl9Ecm9wem9uZTIiLCJDYW52YXMiXSwibWFwcGluZ3MiOiIyQkFDQSxJQUFBQSxLQUdB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QTVRLG1CQUNBOE4sb0JBQ0FMLGtCQUNBVCxnQkFHQTlQLGdCQUNBcEIsZUFHQVcsd0JBQXlCbUQsRUFBQUMsUUFBS3BEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOCk7XG4iLCJjbGFzcyBDb3JlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIG1haW4gb2JqZWN0L3N0b3JlXHJcbiAgICBjb25zdCBjb3JlID0ge307XHJcblxyXG4gICAgLy8gYWxsIHB1YmxpYyBnZXR0ZXIvc2V0dGVyIGdvZXMgaGVyZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gZ2V0IGF0dGVtcHRUb1JlbW92ZVxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGF0dGVtcHRUb1JlbW92ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmdldEF0dGVtcHRUb1JlbW92ZSA9ICgpID0+IChjb3JlLmF0dGVtcHRUb1JlbW92ZSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgdXNlcidzIGF0dGVtcHQgdG8gcmVtb3ZlIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXR1c1xyXG4gICAgICovXHJcbiAgICB0aGlzLnNldEF0dGVtcHRUb1JlbW92ZSA9IChzdGF0dXMpID0+IHtcclxuICAgICAgY29yZS5hdHRlbXB0VG9SZW1vdmUgPSBzdGF0dXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyYWdnZWQgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRyYWdnZWRFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0RHJhZ2dlZEVsZW1lbnQgPSAoZHJhZ2dlZEVsZW1lbnQpID0+IHtcclxuICAgICAgY29yZS5kcmFnZ2VkRWxlbWVudCA9IGRyYWdnZWRFbGVtZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBkcmFnZ2VkIGVsZW1lbnRcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0RHJhZ2dlZEVsZW1lbnQgPSAoKSA9PiAoY29yZS5kcmFnZ2VkRWxlbWVudCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZWdpc3RlciBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIC0gcGFsZXR0ZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICB0aGlzLnJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzID0gKHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpID0+IHtcclxuICAgICAgY29yZS5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gcmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZXR1cm4gcmVnaXN0ZXJlZCBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gYXJyYXkgb2YgcGFsZXR0ZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICB0aGlzLmdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgPSAoKSA9PiAoY29yZS5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKTtcclxuXHJcbiAgICAvKiBlc2xpbnQgbm8tY29uc29sZTowICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBnaXZlIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gYW55IG1lc3NhZ2UgdG8gYmUgcHJpbnRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLmVycm9yID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGxvZyBhIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gYW55IG1lc3NhZ2UgdG8gYmUgcHJpbnRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLmxvZyA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjb3JlID0gbmV3IENvcmUoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvcmU7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsImltcG9ydCBjb3JlIGZyb20gJy4vY29yZSc7XHJcblxyXG5jbGFzcyBTdGF0ZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBhbGwgcHJpdmF0ZSB2YXJpYmFsZSBnb2VzIGhlcmVcclxuICAgIGNvbnN0IHN0YXRlID0ge307XHJcbiAgICBjb25zdCBldmVudCA9IHtcclxuICAgICAgY2hhbmdlOiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzZXQgYmFzZVxyXG4gICAgc3RhdGUudHJlZSA9IFt7XHJcbiAgICAgIGlkOiAncm9vdCcsXHJcbiAgICAgIGZpZWxkczogW11cclxuICAgIH1dO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgdXBkYXRlIHRoZSBjb3JyZXNwb25kaW5nIG5vZGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50SURcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZGF0ZWRGaWVsZHMgLSBuZXcgZmllbGRzL2VsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWVsZHMgLSBmaWVsZHMvZWxlbWVudHMgb2YgY3VycmVudCBjYW52YXNcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBjb25zdCB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGZpZWxkcyA9IHN0YXRlLnRyZWUpID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2hlZFBhcmVudENhbnZhcyA9IGZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLmlkID09PSBwYXJlbnRJRCk7XHJcbiAgICAgIGxldCByZXR1cm5TdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIGZvdW5kIGVsZW1lbnRcclxuICAgICAgaWYgKG1hdGNoZWRQYXJlbnRDYW52YXMpIHtcclxuICAgICAgICBpZiAoZHJvcHpvbmVJRCA9PT0gcGFyZW50SUQpIHtcclxuICAgICAgICAgIC8vIGZpcnN0IHRpbWUsIGNyZWF0ZSBmaWVsZHNcclxuICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcclxuICAgICAgICB9IGVsc2UgaWYgKCFtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyB8fCAhdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vIHVzZXIgdHJpZWQgdG8gcmVtb3ZlIGVsZW1lbnRzXHJcbiAgICAgICAgICBpZiAoZHJvcHpvbmVJRCAmJiBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcykge1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXHJcbiAgICAgICAgICAgICAgLmZpbHRlcihmID0+IGYuZHJvcHpvbmVJRCAhPT0gZHJvcHpvbmVJRCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtYXRjaGVkIGNhbnZhcyBkb2VzIG5vdCBoYXMgc3VjaCBmaWVsZCwgY3JlYXRlIG9uZVxyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IHVwZGF0ZWRGaWVsZHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGZpZWxkc1RvQmVBZGRlZCA9IFtdO1xyXG4gICAgICAgICAgdXBkYXRlZEZpZWxkcy5mb3JFYWNoKCh1RmllbGQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRJbmRleCA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzLmZpbmRJbmRleChmID0+IGYuaWQgPT09IHVGaWVsZC5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmllbGRJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICBmaWVsZHNUb0JlQWRkZWQucHVzaCh1RmllbGQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAgIC5tYXAoKGYsIGkpID0+IChpID09PSBmaWVsZEluZGV4ID8gdUZpZWxkIDogZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBhZGQgbmV3IGZpZWxkIHRvIGV4aXN0aW5nIGFycmF5XHJcbiAgICAgICAgICBpZiAoZmllbGRzVG9CZUFkZGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzLmNvbmNhdChmaWVsZHNUb0JlQWRkZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuU3RhdHVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLyogZXNsaW50IG5vLWVsc2UtcmV0dXJuOiAwICovXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGNoaWxkRmllbGRzID0gZmllbGRzW2ldLmZpZWxkcztcclxuICAgICAgICAgIGxldCBzdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyBmaWVsZCBoYXMgc3ViLWZpZWxkcywgY2hlY2sgaW5zaWRlIHN1Yi1maWVsZHNcclxuICAgICAgICAgIGlmIChjaGlsZEZpZWxkcykge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGNoaWxkRmllbGRzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldHVyblN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBjaGFuZ2UgQ0JcclxuICAgIGNvbnN0IG5vdGlmeVN0YXRlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcclxuICAgICAgZXZlbnQuY2hhbmdlLmZvckVhY2goZSA9PiBlKHN0YXRlLnRyZWUpKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdG8gdXBkYXRlIHN0YXRlXHJcbiAgICAvLyBvbmNlIHVwZGF0ZSBkb25lLCB0cmlnZ2VycyBDQiBhbmQgbm90aWZ5U3RhdGVDaGFuZ2VcclxuICAgIHRoaXMudXBkYXRlU3RhdGUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcywgY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgICB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcyk7XHJcbiAgICAgIGNiKHN0YXRlLnRyZWUpO1xyXG4gICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBjdXJyZW50IHN0YXRlIG9mIHRyZWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdGF0ZSA9ICgpID0+IChzdGF0ZS50cmVlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGNsZWFyIHRoZSBzdGF0ZVxyXG4gICAgICogbG9vcCB0aG91Z2ggYWxsIHBhcmVudChlbmQgbGV2ZWwpIG5vZGVzLCBhbmQgY2FsbCBgZmx1c2hEcm9wcGVkRWxlbWVudHNgIGZ1bmN0aW9uXHJcbiAgICAgKiBzbyB0aGF0IGNvbXBvbmVudCBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9uIHN0YXRlIGdldHMgZmx1c2hlZFxyXG4gICAgICovXHJcbiAgICB0aGlzLmNsZWFyU3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gc3RhdGUudHJlZVswXTtcclxuICAgICAgY29uc3QgdG9wTGV2ZWxGaWVsZHMgPSByb290Tm9kZS5maWVsZHMubGVuZ3RoO1xyXG5cclxuICAgICAgcm9vdE5vZGUuZmllbGRzLmZvckVhY2goKHRvcExldmVsRWxlbWVudCwgaSkgPT4ge1xyXG4gICAgICAgIHRvcExldmVsRWxlbWVudC5mbHVzaERyb3BwZWRFbGVtZW50cygoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaSA9PT0gdG9wTGV2ZWxGaWVsZHMgLSAxKSB7XHJcbiAgICAgICAgICAgIG5vdGlmeVN0YXRlQ2hhbmdlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gYWRkIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWUsIGNiKSA9PiB7XHJcbiAgICAgIGxldCByZXR1cm5DQiA9IG51bGw7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29yZS5lcnJvcignYGNiYCBwYXJhbSBoYXMgdG8gYmUgZnVuY3Rpb24nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXZlbnQsIGV2ZW50TmFtZSkpIHtcclxuICAgICAgICBldmVudFtldmVudE5hbWVdLnB1c2goY2IpO1xyXG5cclxuICAgICAgICByZXR1cm5DQiA9IGNiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvcmUuZXJyb3IoJ05vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldHVybkNCO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBldmVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoZXZlbnROYW1lLCBjYikgPT4ge1xyXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50LCBldmVudE5hbWUpKSB7XHJcbiAgICAgICAgZXZlbnRbZXZlbnROYW1lXSA9IGV2ZW50W2V2ZW50TmFtZV0uZmlsdGVyKGUgPT4gZSAhPT0gY2IpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvcmUuZXJyb3IoJ05vIHN1Y2ggZXZlbnQnKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHN0YXRlID0gbmV3IFN0YXRlKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzdGF0ZTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBzdGF0ZSBmcm9tICcuLi8uLi9jb3JlL3N0YXRlJztcclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuXHJcbmNsYXNzIERyb3B6b25lIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIC8vIGNyZWF0ZSByZWZyZW5jZSBmb3IgY2FudmFzXHJcbiAgICAvLyB0byBjaGVjayB3aGV0aGVyIGlzIGRyYWdnaW5nIG9uIGN1cnJlbnQgY2FudmFzIG9yIG5vdFxyXG4gICAgdGhpcy5jYW52YXNSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuXHJcbiAgICAvLyBjb21wb25lbnQgc3RhdGVcclxuICAgIC8vIGluaXRpYWxFbGVtZW50cyAtIHRvIGtlZXAgdHJhY2sgb2YgaW5pdGlhbCBlbGVtZW50c1xyXG4gICAgLy8gZHJvcHBlZEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBuZXdseSBhZGRlZCBlbGVtZW50c1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgaW5pdGlhbEVsZW1lbnRzOiBbXSxcclxuICAgICAgZHJvcHBlZEVsZW1lbnRzOiBbXVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyh0aGlzLnByb3BzLmluaXRpYWxFbGVtZW50cyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHsgaW5pdGlhbEVsZW1lbnRzIH0pIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gc2V0IGluaXRpYWwgZWxlbWVudHNcclxuICAgKiBAcGFyYW0gaW5pdGlhbEVsZW1lbnRzIHtBcnJheX0gLSBJdCBob2xkcyBhbGwgaW5pdGlhbCBlbGVtZW50cyB0byBiZSBzaG93biBpbiBjYW52YXNcclxuICAgKi9cclxuICBfc2V0SW5pdGlhbEVsZW1lbnRzID0gKGluaXRpYWxFbGVtZW50cykgPT4ge1xyXG4gICAgLy8gY3VycmVudCBjb21wb25lbnQgc3RhdGUoZHJvcHBlZEVsZW1lbnRzKSBkb2Vzbid0IGhvbGQgYW55IGVsZW1lbnRzXHJcbiAgICAvLyBidXQgaW5pdGlhbEVsZW1lbnRzIGhhcyBzb21lIGVsZW1lbnQgdG8gYmUgc2V0XHJcbiAgICBjb25zdCBnb3RJbml0aWFsSXRlbXMgPSBBcnJheS5pc0FycmF5KGluaXRpYWxFbGVtZW50cykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxFbGVtZW50cy5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmluaXRpYWxFbGVtZW50cy5sZW5ndGg7XHJcblxyXG4gICAgLy8gZm9yIGZpcnN0IHRpbWUgYWRkIGluaXRpYWxFbGVtZW50cyB0byBkcm9wcGVkRWxlbWVudHNcclxuICAgIGlmIChnb3RJbml0aWFsSXRlbXMpIHtcclxuICAgICAgY29uc3QgeyBpZDogZHJvcHpvbmVJRCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgY29uc3QgdXBkYXRlZEluaXRpYWxJdGVtcyA9IGluaXRpYWxFbGVtZW50cy5tYXAoZSA9PiAoe1xyXG4gICAgICAgIC4uLmUsXHJcbiAgICAgICAga2V5OiBlLmlkLFxyXG4gICAgICAgIGRyb3B6b25lSUQsXHJcbiAgICAgICAgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UsXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcclxuICAgICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaW5pdGlhbEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zLFxyXG4gICAgICAgIGRyb3BwZWRFbGVtZW50czogdXBkYXRlZEluaXRpYWxJdGVtc1xyXG4gICAgICB9LCB0aGlzLl91cGRhdGVTdGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB0b2dnbGUvbWFuYWdlIGNsYXNzKGluc2lkZSlcclxuICAgKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhc1xyXG4gICAqIEBwYXJhbSB0YXJnZXQge0RPTX0gLSBjdXJyZW50IGNhbnZhcyB1cG9uIHdoaWNoIHVzZSBpcyBob3ZlcmluZ1xyXG4gICAqIEBwYXJhbSBhY3Rpb24ge1N0cmluZ30gLSBhZGQvcmVtb3ZlIC0gbmFtZSBvZiBhY3Rpb25cclxuICAgKi9cclxuICBfbWFuYWdlSW5zaWRlQ2xhc3MgPSAoeyB0YXJnZXQgfSwgYWN0aW9uKSA9PiB7XHJcbiAgICBpZiAodGhpcy5jYW52YXNSZWYuY3VycmVudCA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3RbYWN0aW9uXSgnaW5zaWRlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZWxlbWVudCBmcm9tIGRyb3BwZWRFbGVtZW50c1xyXG4gICAqIEBwYXJhbSBlbGVtZW50SUQgLSB7U3RyaW5nfSAtIElEIG9mIGVsZW1lbnRcclxuICAgKi9cclxuICBfcmVtb3ZlRWxlbWVudCA9IChlbGVtZW50SUQpID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZWxlbWVudElEKTtcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgZHJvcHBlZEVsZW1lbnRzOiB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maWx0ZXIoKGQsIGkpID0+IChpICE9PSBpbmRleCkpXHJcbiAgICB9LCB0aGlzLl91cGRhdGVTdGF0ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIChub3QgY29tcG9uZW50IHN0YXRlKVxyXG4gICAqIGZ1bmN0aW9uIHdpbGwgZnVydGhlciBjYWxsIGB1cGRhdGVTdGF0ZWAgZnJvbSBzdGF0ZSBBUEksIHdoaWNoIHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX3VwZGF0ZVN0YXRlID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQ6IGRyb3B6b25lSUQsXHJcbiAgICAgIHBhcmVudElEXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBzdGF0ZS51cGRhdGVTdGF0ZShcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgcGFyZW50SUQsXHJcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLFxyXG4gICAgICBjYlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIGZsdXNoIHRoZSBjb21wb25lbnQgc3RhdGVcclxuICAgKiBvbmNlIGNvbXBvbmVudCBzdGF0ZSB0aHMgZmx1c2hlZCwgdGhpcyB3aWxsIGNhbGwgYF91cGRhdGVTdGF0ZWAgdG8gdXBkYXRlIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX2ZsdXNoRHJvcHBlZEVsZW1lbnRzID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IFtdXHJcbiAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoY2IpKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiBjaGVjayBiZWxvdyBwYXJhbWV0ZXJzXHJcbiAgICogMSAtIHVzZXIncyBpbnRlbmQgaXMgdG8gbW92ZSBlbGVtZW50IGZyb20gb25lIGNhbnZhcyB0byBvdGhlclxyXG4gICAqIDIgLSBHZXQgY29uZmlybWF0aW9uIGJlZm9yZSByZW1vdmVcclxuICAgKiBvbmNlIGJvdGggY29uZGl0aW9uIG1hdGNoZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gY3VycmVudCBjYW52YXNcclxuICAgKi9cclxuICBfY2hlY2tBbmRSZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudE1vdmVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgeyByZW1vdmVFbGVtZW50LCBlbGVtZW50SUQgfSA9IGVsZW1lbnRNb3ZlZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMucHJvcHMub25FbGVtZW50TW92ZShlbGVtZW50TW92ZWQpO1xyXG4gICAgY29uc3QgYXR0ZW1wdFRvTW92ZSA9ICFjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpO1xyXG5cclxuICAgIGlmIChzdGF0dXMgJiYgYXR0ZW1wdFRvTW92ZSkge1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRJRCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdGhlIGNhbnZhc1xyXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXHJcbiAgLy8gQHBhcmFtIGUge2V2ZW50fVxyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgY2FudmFzXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBjYW52YXNcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdhZGQnKTtcclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZSBoYXMgZHJvcHBlZCB0aGUgZWxlbWVudCBpbnRvIHRoZSBjYW52YXNcclxuICAgKiBwZXJmb3JtIGFsbCByZXF1aXJlZCBjaGVja3NcclxuICAgKiBmdW5jdGlvbiBhbHNvIHRyaWdnZXJzIGBvbkRyb3BgIHByb3Agc28gdGhhdCB1c2V0IGNhbiBwcm92aWRlIGFkZGl0aW9uYWwgaW5mb1xyXG4gICAqIG9uY2UgYWxsIGRvbmUgYF9hZGRFbGVtZW50YCBnZXQgY2FsbGVkIHdpdGggYWxsIHJlcXVpcmVkIGluZm9cclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJvcCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICBjb25zdCB7IG9uRHJvcCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdkYXRhJykpO1xyXG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xyXG5cclxuICAgIHJldHVybiBvbkRyb3AgPyBvbkRyb3AoZGF0YSwgdGhpcy5fYWRkRWxlbWVudCkgOiB0aGlzLl9hZGRFbGVtZW50KGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gYWRkIGVsZW1lbnQgaW50byBkcm9wcGVkRWxlbWVudHNcclxuICAgKiBwcmlvciB0byBhZGQgaXQgcGVyZm9tIGJlbG93IGNoZWNrXHJcbiAgICogMSAtIGVsZW1lbnQgaGFzIHVuaXF1ZSBrZXlcclxuICAgKiAyIC0gZWxlbWVudCBoYXMgaW52YWxpZCBkYXRhXHJcbiAgICogMyAtIGNoZWNrIGFnYWluc3QgbWF4LWNhcGFjaXR5XHJcbiAgICogb25jZSBlbGVtZW50IGFkZGVkIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHByZXZpb3VzIGNhbnZhc1xyXG4gICAqIEBwYXJhbSB1cGRhdGVkRGF0YSB7T2JqZWN0fSAtIGVsZW1lbnQgaW5mb3JtYXRpb25cclxuICAgKiBAcmV0dXJucyBPYmplY3QgLSBuZXcgbGlzdCBvZiBjYW52YXMgZWxlbWVudHNcclxuICAgKi9cclxuICBfYWRkRWxlbWVudCA9ICh1cGRhdGVkRGF0YSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBpZDogZHJvcHpvbmVJRCxcclxuICAgICAgY2FwYWNpdHlcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3QgZHJhZ2dlZEVsZW1lbnQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcbiAgICBjb25zdCBpbnZhbGlkVXBkYXRlZERhdGEgPSAhdXBkYXRlZERhdGEgfHwgIXVwZGF0ZWREYXRhLmlkO1xyXG4gICAgY29uc3Qga2V5QWxyZWFkeVByZXNlbnQgPSB1cGRhdGVkRGF0YS5pZCAmJlxyXG4gICAgICB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maWx0ZXIoZSA9PiBlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkubGVuZ3RoO1xyXG5cclxuICAgIC8vIGNoZWNrIGZvIHVuaXF1ZSBrZXlcclxuICAgIGlmIChpbnZhbGlkVXBkYXRlZERhdGEgfHwga2V5QWxyZWFkeVByZXNlbnQpIHtcclxuICAgICAgcmV0dXJuIGNvcmUuZXJyb3IoJ0R1cGxpY2F0ZSBvciBpbnZhbGlkIElEJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWFrZSBuZXcgbGlzdFxyXG4gICAgY29uc3QgbmV3RWxlbWVudHMgPSB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5jb25jYXQoe1xyXG4gICAgICAuLi51cGRhdGVkRGF0YSxcclxuICAgICAga2V5OiB1cGRhdGVkRGF0YS5pZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UsXHJcbiAgICAgIHJlbW92ZUVsZW1lbnQ6IHRoaXMuX3JlbW92ZUVsZW1lbnQsXHJcbiAgICAgIGZsdXNoRHJvcHBlZEVsZW1lbnRzOiB0aGlzLl9mbHVzaERyb3BwZWRFbGVtZW50cyxcclxuICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNoZWNrIG5ldyBsaXN0IGFnYWluc3QgbWF4LWNhcGFjaXR5XHJcbiAgICBpZiAoY2FwYWNpdHkgJiYgbmV3RWxlbWVudHMubGVuZ3RoID4gY2FwYWNpdHkpIHtcclxuICAgICAgcmV0dXJuIGNvcmUuZXJyb3IoYE1heGltdW0gY2FwYWNpdHkgb2YgY2FudmFzKCR7ZHJvcHpvbmVJRH0pIGlzICR7Y2FwYWNpdHl9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBjdXJyZW50IGxpc3RcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IG5ld0VsZW1lbnRzXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICAgIGlmIChkcmFnZ2VkRWxlbWVudCAmJiB0eXBlb2YgZHJhZ2dlZEVsZW1lbnQuY2hlY2tBbmRSZW1vdmVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgZHJhZ2dlZEVsZW1lbnQuY2hlY2tBbmRSZW1vdmVFbGVtZW50KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHVwZGF0ZSB0aGUgYXBwbGljYXRpb24gc3RhdGVcclxuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRyb3B6b25lSUQsXHJcbiAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50c1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICogQHBhcmFtIHByb3BzIHtPYmplY3R9IC0gQW4gb2JqZWN0IHdoaWNoIGhvbGQgdGhlIGluZm8gb2YgZHJhZ2dlZCBlbGVtZW50L2NvbXBvbmVudFxyXG4gICAqIEByZXR1cm5zIEpTWFxyXG4gICAqL1xyXG4gIF9yZW5kZXJEcmFnSXRlbSA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpLmZpbmQoZSA9PiBlLnR5cGUgPT09IHByb3BzLnR5cGUpO1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPyA8ZWxlbWVudC5jb21wb25lbnQgey4uLnByb3BzfSAvPiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGRyb3BwZWRFbGVtZW50cyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIGNvbnN0IHsgY2FwYWNpdHkgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy5jYW52YXNSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtjYXBhY2l0eSAmJiBjYXBhY2l0eSA9PT0gZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA/ICduby1zcGFjZScgOiAnJ30gY2FudmFzYH1cclxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLl9vbkRyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XHJcbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XHJcbiAgICAgICAgb25EcmFnRW5kPXt0aGlzLl9vbkRyYWdFbmR9XHJcbiAgICAgID5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkcm9wcGVkRWxlbWVudHMubWFwKGUgPT4gKFxyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmFnSXRlbSh7IC4uLmUgfSlcclxuICAgICAgICAgICkpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5Ecm9wem9uZS5wcm9wVHlwZXMgPSB7XHJcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBjYXBhY2l0eTogUHJvcFR5cGVzLm51bWJlcixcclxuICBvbkRyb3A6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uRWxlbWVudE1vdmU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGluaXRpYWxFbGVtZW50czogUHJvcFR5cGVzLmluc3RhbmNlT2YoUHJvcFR5cGVzLmFycmF5KSxcclxuICBwYXJlbnRJRDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXHJcbn07XHJcblxyXG5Ecm9wem9uZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgaW5pdGlhbEVsZW1lbnRzOiBbXSxcclxuICBvbkVsZW1lbnRNb3ZlOiAoKSA9PiAodHJ1ZSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyb3B6b25lO1xyXG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyogVmVyeSBiYXNpYyBzdHlsZSAqL1xcclxcblxcclxcbi8qIFByZXZlbnQgdGhlIHRleHQgY29udGVudHMgb2YgZHJhZ2dhYmxlIGVsZW1lbnRzIGZyb20gYmVpbmcgc2VsZWN0YWJsZS4gKi9cXHJcXG5bZHJhZ2dhYmxlXSB7XFxyXFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcclxcblxcclxcbiAgLyogUmVxdWlyZWQgdG8gbWFrZSBlbGVtZW50cyBkcmFnZ2FibGUgaW4gb2xkIFdlYktpdCAqL1xcclxcbiAgLWtodG1sLXVzZXItZHJhZzogZWxlbWVudDtcXHJcXG4gIC13ZWJraXQtdXNlci1kcmFnOiBlbGVtZW50O1xcclxcbn1cXHJcXG5cXHJcXG4vKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhcyB3aGVuIHVzZXIgZHJhZ2dpbmcgb3ZlciBvbiBpdCAqL1xcclxcbi5pbnNpZGUge1xcclxcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMCwgMTgwLCA4MSwgMC43NSk7XFxyXFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXHJcXG59XFxyXFxuXFxyXFxuLnRyYXNoLWJveC5pbnNpZGUsXFxyXFxuLmNhbnZhcy5pbnNpZGUubm8tc3BhY2Uge1xcclxcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjUpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjc1KTtcXHJcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjMwLCAyMywgMjMsIDAuNzUpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2FudmFzIHtcXHJcXG4gIHBhZGRpbmc6IDEwcHg7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIG1pbi13aWR0aDogMTAwcHg7XFxyXFxuICBtaW4taGVpZ2h0OiA3MHZoO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJhY2tncm91bmQ6ICNkY2UzZWI7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjYmVjMmM3O1xcclxcbn1cXHJcXG5cXHJcXG4ucGFsZXR0ZSB7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgbWluLWhlaWdodDogNzB2aDtcXHJcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICBmbG9hdDogcmlnaHQ7XFxyXFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgIzI0NzZlMjtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWctaXRlbSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGFlNWY1O1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjMjQ3NmUyO1xcclxcbn1cXHJcXG5cXHJcXG4ucGFsZXR0ZS13cmFwcGVyIC5kcmFnLWl0ZW0ge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI0NzZlMjtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWctaXRlbSArIGRpdiB7XFxyXFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94IHtcXHJcXG4gIHdpZHRoOiAxMDBweDtcXHJcXG4gIGhlaWdodDogMTAwcHg7XFxyXFxuICBtYXJnaW46IDEwcHggMDtcXHJcXG4gIGNvbG9yOiAjMDAwO1xcclxcbiAgYmFja2dyb3VuZDogI2ZjZDJkMjtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBUcmFzaCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIHRyYXNoXHJcbiAgICAvLyB0byBjaGVjayB3aGV0aGVyIGlzIGRyYWdnaW5nIG9uIHRyYXNoIGJveCBvciBub3RcclxuICAgIHRoaXMudHJhc2hSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLnRyYXNoUmVmLmN1cnJlbnQgPT09IHRhcmdldCkge1xyXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0W2FjdGlvbl0oJ2luc2lkZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uRHJvcCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIC8vIGdldCBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuXHJcbiAgICAvLyBkb250IGFsbG93IGVsZW1lbnRzIHdoaWNoIGRpcmVjdGx5IGNvbWluZyBmcm9tIHBhbGV0dGVcclxuICAgIGlmICghZWxlbWVudFRvQmVUcmFzaGVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IG9uQmVmb3JlVHJhc2gsIG9uQWZ0ZXJUcmFzaCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgcmVtb3ZlRWxlbWVudCB9ID0gZWxlbWVudFRvQmVUcmFzaGVkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gb25CZWZvcmVUcmFzaChlbGVtZW50VG9CZVRyYXNoZWQpO1xyXG5cclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICAvLyB1c2VyIHRyaWVkIGFuZCBjb25maXJtIHRvIHJlbW92ZSBlbGVtZW50XHJcbiAgICBpZiAoc3RhdHVzICYmIGNvcmUuZ2V0QXR0ZW1wdFRvUmVtb3ZlKCkpIHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRUb0JlVHJhc2hlZC5lbGVtZW50SUQpO1xyXG5cclxuICAgICAgLy8gYWNrbm93bGVkZ2VcclxuICAgICAgb25BZnRlclRyYXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVzZXQgYXR0ZW1wdCB0byByZW1vdmVcclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgdHJhc2hcclxuICAvLyBgcHJldmVudERlZmF1bHRgIC0gUmVxdWlyZWQuIEFsbG93cyB1cyB0byBkcm9wLlxyXG4gIC8vIEBwYXJhbSBlIHtldmVudH1cclxuICBfb25EcmFnT3ZlciA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGxlYXZpbmcgdGhlIHRyYXNoXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdHJhc2hcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuXHJcbiAgICBpZiAoZWxlbWVudFRvQmVUcmFzaGVkKSB7XHJcbiAgICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdhZGQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICByZWY9e3RoaXMudHJhc2hSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwidHJhc2gtYm94XCJcclxuICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5fb25EcmFnTGVhdmV9XHJcbiAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMuX29uRHJhZ0VudGVyfVxyXG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XHJcbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XHJcbiAgICAgID5cclxuICAgICAgICB7IHRoaXMucHJvcHMuY2hpbGRyZW4gfHwgPHNwYW4+VHJhc2ggQm94PC9zcGFuPiB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblRyYXNoLnByb3BUeXBlcyA9IHtcclxuICBvbkJlZm9yZVRyYXNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkFmdGVyVHJhc2g6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5lbGVtZW50KSxcclxuICAgIFByb3BUeXBlcy5lbGVtZW50XHJcbiAgXSksXHJcbn07XHJcblxyXG5UcmFzaC5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgb25CZWZvcmVUcmFzaDogKCkgPT4gKHRydWUpLFxyXG4gIG9uQWZ0ZXJUcmFzaDogKCkgPT4gKHRydWUpXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFzaDtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBQYWxldHRlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byByZW5kZXIgdGhlIGRyYWdnZWQgZWxlbWVudFxyXG4gICAqIEBwYXJhbSBwcm9wcyB7T2JqZWN0fSAtIEFuIG9iamVjdCB3aGljaCBob2xkIHRoZSBpbmZvIG9mIGRyYWdnZWQgZWxlbWVudC9jb21wb25lbnRcclxuICAgKiBAcmV0dXJucyBKU1hcclxuICAgKi9cclxuICBfcmVuZGVyTGlzdCA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpLmZpbmQoZSA9PiBlLnR5cGUgPT09IHByb3BzLnR5cGUpO1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPyA8ZWxlbWVudC5jb21wb25lbnQgey4uLnByb3BzfSAvPiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHBhbGV0dGVFbGVtZW50cyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbGV0dGVcIj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBwYWxldHRlRWxlbWVudHMubWFwKGl0ZW0gPT4gKFxyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJMaXN0KHsgLi4uaXRlbSwga2V5OiBpdGVtLmlkLCBzaG93QmFzaWNDb250ZW50OiB0cnVlIH0pXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuUGFsZXR0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgcGFsZXR0ZUVsZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZigocHJvcFZhbHVlKSA9PiB7XHJcbiAgICBsZXQgaXNFcnJvciA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGFsbCBwYWxldHRlIGVsZW1lbnRzIHNob3VsZCBoYXZlIHVuaXF1ZSBJRFxyXG4gICAgcHJvcFZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uaWQpIHtcclxuICAgICAgICBpc0Vycm9yID0gJ2BpZGAgaXMgcmVxdWlyZWQgaW4gYWxsIHBhbGV0dGUgZWxlbWVudCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wVmFsdWUuZmlsdGVyKGkgPT4gaS5pZCA9PT0gaXRlbS5pZCkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBvZiBwYWxldHRlIGVsZW1lbnQgc2hvdWxkIGJlIHVuaXF1ZSc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Vycm9yID8gbmV3IEVycm9yKGlzRXJyb3IpIDogdHJ1ZTtcclxuICB9KVxyXG59O1xyXG5cclxuUGFsZXR0ZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgcGFsZXR0ZUVsZW1lbnRzOiBbXVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFsZXR0ZTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBEcmFnZ2FibGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIF9kcmFnRW5kID0gKGUpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgLy8gZG9uZSBkcmFnZ2luZywgcmVzZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICBjb3JlLnNldERyYWdnZWRFbGVtZW50KG51bGwpO1xyXG4gIH1cclxuXHJcbiAgX2RyYWdTdGFydCA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBheWxvYWQsXHJcbiAgICAgIGRyb3B6b25lSUQsXHJcbiAgICAgIHJlbW92ZUVsZW1lbnQsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgaWQsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBheWxvYWRcclxuICAgIH07XHJcblxyXG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdjb3B5JztcclxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7IC8vIHJlcXVpcmVkLCB3ZSBjYW5uJ3QgcGFzcyBKUyBvYmplY3RcclxuXHJcbiAgICAvLyBpZiBlbGVtZW50IGlzIGFscmVhZHkgcHJlc2VudCBpbiBzb21lIGNhbnZhc1xyXG4gICAgLy8gdGhlbiBzZXQgZHJhZ2dlZEVsZW1lbnQsIHNvIHRoYXQgdGhpcyB3aWxsIGhlbHAgdG8gcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICBpZiAoZHJvcHpvbmVJRCkge1xyXG4gICAgICBjb3JlLnNldERyYWdnZWRFbGVtZW50KHtcclxuICAgICAgICBlbGVtZW50SUQ6IGlkLFxyXG4gICAgICAgIGRyb3B6b25lSUQsXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudCxcclxuICAgICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGVsZW1lbnRQcm9wcyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJhZy1pdGVtXCJcclxuICAgICAgICBvbkRyYWdTdGFydD17dGhpcy5fZHJhZ1N0YXJ0fVxyXG4gICAgICAgIG9uRHJhZ0VuZD17dGhpcy5fZHJhZ0VuZH1cclxuICAgICAgICBkcmFnZ2FibGVcclxuICAgICAgICB7Li4uZWxlbWVudFByb3BzfVxyXG4gICAgICA+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuRHJhZ2dhYmxlLnByb3BUeXBlcyA9IHtcclxuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZHJvcHpvbmVJRDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBwYXlsb2FkOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihQcm9wVHlwZXMub2JqZWN0KSxcclxuICBlbGVtZW50UHJvcHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKFByb3BUeXBlcy5vYmplY3QpLFxyXG4gIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZWxlbWVudCksXHJcbiAgICBQcm9wVHlwZXMuZWxlbWVudFxyXG4gIF0pLmlzUmVxdWlyZWQsXHJcbiAgcmVtb3ZlRWxlbWVudDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuRHJhZ2dhYmxlLmRlZmF1bHRQcm9wcyA9IHtcclxuICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6ICgpID0+ICh0cnVlKSxcclxuICBlbGVtZW50UHJvcHM6IG51bGwsXHJcbiAgcGF5bG9hZDogbnVsbFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xyXG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgRHJvcHpvbmUgZnJvbSAnLi4vRHJvcHpvbmUvRHJvcHpvbmUnO1xyXG5cclxuLy8gZHVtcCBjb21wb25lbnQgd2hpY2ggZXh0ZW5kcyBEcm9wem9uZSBidXQgd2l0aCBzb21lIGZpeGVkIHByb3BlcnRpZXMgLSBpZCBhbmQgcGFyZW50SURcclxuLy8gYm90aCBwcm9wcyBzZXQgdG8gYHJvb3RgIC0gcmVxdWlyZWQgc2luY2UgYXBwbGljYXRpb24gc3RhdGUgaG9sZHMgYHJvb3RgIGFzIHBhcmVudCBub2RlXHJcbmNvbnN0IENhbnZhcyA9IHByb3BzID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tY2FudmFzXCI+XHJcbiAgICA8RHJvcHpvbmUgey4uLnByb3BzfSBwYXJlbnRJRD1cInJvb3RcIiBpZD1cInJvb3RcIiAvPlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xyXG4iLCIvLyBpbXBvcnQgYWxsIGNvbXBvbmVudHNcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NvbXBvbmVudHMvQ2FudmFzL0NhbnZhcyc7XHJcbmltcG9ydCBEcm9wem9uZSBmcm9tICcuL2NvbXBvbmVudHMvRHJvcHpvbmUvRHJvcHpvbmUnO1xyXG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJy4vY29tcG9uZW50cy9EcmFnZ2FibGUvRHJhZ2dhYmxlJztcclxuaW1wb3J0IFBhbGV0dGUgZnJvbSAnLi9jb21wb25lbnRzL1BhbGV0dGUvUGFsZXR0ZSc7XHJcbmltcG9ydCBUcmFzaCBmcm9tICcuL2NvbXBvbmVudHMvVHJhc2gvVHJhc2gnO1xyXG5cclxuLy8gaW1wb3J0IGFsbCBBUEknc1xyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi9jb3JlL3N0YXRlJztcclxuaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlL2NvcmUnO1xyXG5cclxuLy8gaW1wb3J0IGJhc2ljIHN0eWxlXHJcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgLy8gYWxsIGNvbXBvbmVudHNcclxuICBDYW52YXMsXHJcbiAgRHJvcHpvbmUsXHJcbiAgRHJhZ2dhYmxlLFxyXG4gIFBhbGV0dGUsXHJcbiAgVHJhc2gsXHJcblxyXG4gIC8vIGFsbCBvcGVuIEFQSSdzXHJcbiAgc3RhdGUsXHJcbiAgY29yZSxcclxuXHJcbiAgLy8gc2luY2UgdGhpcyBpcyByZXVpcmVkIGZ1bmN0aW9uLCBrZWVwaW5nIHNlcHJhdGVcclxuICByZWdpc3RlclBhbGV0dGVFbGVtZW50czogY29yZS5yZWdpc3RlclBhbGV0dGVFbGVtZW50c1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9
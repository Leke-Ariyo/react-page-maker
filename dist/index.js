module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements},this.setDropPostion=function(e){t.dropPosition=e},this.getDropPostion=function(){return t.dropPosition},this.error=function(e){return console.error(e),!1},this.log=function(e){return console.log(e),!0}};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(17)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n={change:[]};t.tree=[{id:"root",fields:[]}];var r=function(){n.change.forEach(function(e){return e(t.tree)})};this.updateState=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var l=[];i.fields.filter(function(e){return e.dropzoneID===n}).length!==o.length?i.fields=o.concat(i.fields.filter(function(e){return e.dropzoneID!==n})):(o.forEach(function(e){-1===i.fields.findIndex(function(t){return t.id===e.id})&&l.push(e)}),l.length||(i.fields=o)),l.length&&(i.fields=i.fields.concat(l))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var u=0;u<a.length;u++){var f=a[u].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,o),a(t.tree),r()};this.getState=function(){return t.tree},this.getStorableState=function(){return t.tree[0].fields.map(function(e){return function e(t){var n=[],r={};return Object.keys(t).forEach(function(e){"function"!=typeof t[e]&&(r[e]=t[e])}),t.fields&&t.fields.length&&t.fields.forEach(function(t){n.push(e(t))}),n.length&&(r.initialElements=[],r.fields=[],n.forEach(function(e){r.initialElements.push(e),r.fields.push(e)})),r}(e)})},this.clearState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.tree[0],o=n.fields.length;return n.fields.length||(r(),e()),n.fields.forEach(function(t,n){t.flushDroppedElements(function(){n===o-1&&(r(),e())})}),!0},this.addEventListener=function(e,t){var r=null;return"function"!=typeof t?(a.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(n,e)?(n[e].push(t),r=t):a.default.error("No such event"),r)},this.removeEventListener=function(e,t){Object.prototype.hasOwnProperty.call(n,e)?n[e]=n[e].filter(function(e){return e!==t}):a.default.error("No such event")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),l=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[],initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props,o=n.capacity,a=n.id,s=n.placeholder,l=!o||o>t.length;return i.default.createElement("div",{ref:this.canvasRef,className:(l?"":"no-space")+" "+("root"===a?"canvas":"")+" "+(t.length?"":"empty")+" dropzone",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t,n){return e._renderDragItem(r({},t,{index:n,spaceAvailable:l,initDone:e.state.initDone,dropzoneProps:{initDone:e.state.initDone,parentID:t.id}}))}),t.length?null:i.default.createElement("p",{className:"dropzone-placeholder"},s))}}]),t}(),p=function(){var e=this;this.dangerouslySetElements=function(t,n){var o=[];o="function"==typeof t?t(e.state.droppedElements)||[]:t;var a=e.props.id;o=o.map(function(t){return r({},t,{dropzoneID:a,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})}),e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(n)})},this._unmarkDragElements=function(){[].forEach.call(e.canvasRef.current.querySelectorAll(".drag-item"),function(e){return e.classList.remove("before","after")})},this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initDone&&!e.state.initialElements.length){var n=e.props.id,o=t.map(function(t){return r({},t,{key:t.id,dropzoneID:n,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(function(){e.setState({initDone:!0})})})}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==r})},function(){return e._updateState(n)})},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.id,o=n.parentID;l.default.updateState(r,o,e.state.droppedElements,t)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({initialElements:[],droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=u.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!u.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault(),e.stopPropagation()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),u.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),u.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation();var n=e.state.droppedElements;u.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var o=e.props.onDrop,a=JSON.parse(t.dataTransfer.getData("data"));return a=r({},a),e._unmarkDragElements(),o?o(a,e._addElement,{dropIndex:n.length?0:u.default.getDropPostion()+1,currentElements:n}):e._addElement(a)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=n.allowHorizontal,s=u.default.getDropPostion(),l=u.default.getDraggedElement(),f=!t||!t.id,d=-1,p=t.id&&e.state.droppedElements.filter(function(e,n){return e.id===t.id&&(d=n,!0)}).length,m=d===s,h=[].concat(e.state.droppedElements),g=!1;if(f||p){if(m)return u.default.error("Duplicate or invalid ID");g=!0,h=h.map(function(e){return e.id===t.id?r({},e,{remove:!0}):e})}var v=r({},t,{key:t.id,dropzoneID:o,allowHorizontal:i,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,initialElements:e.state.initialElements,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement});return h=s>0?[].concat(c(h.slice(0,s)),[v],c(h.slice(s))):[v].concat(c(h)),m||(h=h.filter(function(e){return!e.remove})),a&&h.length>a?u.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:h},function(){!g&&l&&"function"==typeof l.checkAndRemoveElement&&l.checkAndRemoveElement(),e._updateState()}),{dropzoneID:o,elements:h})},this._renderDragItem=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};d.propTypes={id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,allowHorizontal:s.default.bool,initialElements:s.default.arrayOf(Object),parentID:s.default.string.isRequired,placeholder:s.default.oneOf([s.default.string,s.default.node])},d.defaultProps={initialElements:[],placeholder:"Drop Here",onElementMove:function(){return!0}},t.default=d},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,f=[],c=n(5);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=l||(l=g(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\r\n\r\n/* Prevent the text contents of draggable elements from being selectable. */\r\n[draggable] {\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n\r\n  /* Required to make elements draggable in old WebKit */\r\n  -khtml-user-drag: element;\r\n  -webkit-user-drag: element;\r\n}\r\n\r\n/* class gets appended to canvas when user dragging over on it */\r\n.inside {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n}\r\n\r\n.trash-box.inside,\r\n.dropzone.inside.no-space {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n}\r\n\r\n.dropzone {\r\n  width: 100%;\r\n  padding: 10px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  background: #f0faff;\r\n  border: 1px solid #0277bd;\r\n}\r\n\r\n.dropzone.empty {\r\n  padding: 40px;\r\n}\r\n\r\n.palette {\r\n  padding: 10px;\r\n  background: #fff;\r\n  box-sizing: border-box;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.drag-item {\r\n  padding: 10px;\r\n  color: #01579b;\r\n  box-sizing: border-box;\r\n  background-color: #b3e5fc;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.inline.drag-item {\r\n  width: 100px;\r\n  margin: 0 10px;\r\n  display: inline-block;\r\n}\r\n\r\n.dropzone-placeholder {\r\n  width: 100%;\r\n  color: #01579b;\r\n  text-align: center;\r\n  position: absolute;\r\n  left: 0;\r\n  top: calc(50% - 10px);\r\n  animation-name: changeColor;\r\n  animation-duration: 2s;\r\n  animation-timing-function: ease-in-out;\r\n  animation-iteration-count: infinite;\r\n}\r\n\r\n@keyframes changeColor {\r\n  25% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n\r\n  75% {\r\n    transform: scale(1);\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n.palette-wrapper .drag-item {\r\n  color: #fff;\r\n  background-color: #01579b;\r\n}\r\n\r\n.drag-item + div {\r\n  margin-top: 10px;\r\n}\r\n\r\n.drag-item.after,\r\n.drag-item.before {\r\n  position: relative;\r\n}\r\n\r\n.drag-item.after::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  bottom: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  -moz-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n}\r\n\r\n.drag-item.before::before {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  top: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  -moz-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n}\r\n\r\n.inline.drag-item.before::before {\r\n  width: 1px;\r\n  height: 50%;\r\n  left: -1px;\r\n  right: unset;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n}\r\n\r\n.inline.drag-item.after::after {\r\n  width: 1px;\r\n  height: 50%;\r\n  right: -1px;\r\n  left: unset;\r\n  top: unset;\r\n  transform: translate(0, -50%);\r\n}\r\n\r\n.trash-box {\r\n  padding: 30px 10px;\r\n  margin: 10px 0;\r\n  color: #b71c1c;\r\n  background: #ffcdd2;\r\n  text-align: center;\r\n  border: 1px solid #b71c1c;\r\n}\r\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),i=u(n(2)),s=u(n(0)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStateChange=function(e){n.setState({currentState:e})},n._renderElementInPreviewMode=function(e){var t={},o=n.registeredPaletteElements.find(function(t){return t.type===e.type});return Array.isArray(e.fields)&&e.fields.forEach(function(e){t[e.dropzoneID]=t[e.dropzoneID]||[],t[e.dropzoneID]=t[e.dropzoneID].concat(n._renderElementInPreviewMode(e))}),a.default.createElement(o.component,r({id:e.id,key:e.id,childNode:t},r({},e,{showPreview:!0,showBasicContent:!1})))},n.state={currentState:l.default.getState()},n.registeredPaletteElements=s.default.getRegisteredPaletteElements(),l.default.addEventListener(n._onStateChange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.state.currentState[0];return"function"==typeof this.props.children?this.props.children({children:e.fields.map(this._renderElementInPreviewMode)}):a.default.createElement("div",{className:"preview-container"},e.fields.map(this._renderElementInPreviewMode))}}]),t}();f.propTypes={children:i.default.func},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=l(o),i=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,l=o(t);return n._manageInsideClass(e,"remove"),l&&s.default.getAttemptToRemove()&&(i(t.elementID,function(){a()}),s.default.setDraggedElement(null)),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();u.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},u.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragEnd=function(e){e.stopPropagation(),n.dragElemRef.current.classList.remove("before","after"),l.default.setDraggedElement(null)},n._dragStart=function(e){e.stopPropagation();var t=n.props,r=t.id,o=t.type,a=t.name,i=t.fields,s=t.payload,u=t.dropzoneID,f=t.removeElement,c=t.checkAndRemoveElement,d={id:r,type:o,name:a,payload:s};i&&(d.fields=i),e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(d)),u&&l.default.setDraggedElement({elementID:r,dropzoneID:u,removeElement:f,checkAndRemoveElement:c})},n._onDragOver=function(e){var t=n.dragElemRef.current.getBoundingClientRect();if(!n.props.spaceAvailable)return!1;if(n.props.allowHorizontal){var r=e.clientX;if(r>=t.x&&r<=t.x+t.width)r<t.x+t.width/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}else{var o=e.clientY;if(o>=t.y&&o<=t.y+t.height)o<t.y+t.height/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}return!0},n._onDragLeave=function(){n.dragElemRef.current.classList.remove("before","after")},n.dragElemRef=i.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initDone!==e.initDone&&e.initDone&&this.props.updateState()}},{key:"render",value:function(){var e=this.props,t=e.elementProps,n=e.draggable,o=e.allowHorizontal,a=null;return this.props.dropzoneID&&(a={onDragOver:this._onDragOver,onDragLeave:this._onDragLeave}),n&&(a=r({},a,{draggable:!0})),i.default.createElement("div",r({ref:this.dragElemRef,className:"drag-item "+(o?"inline":""),onDragStart:this._dragStart,onDragEnd:this._dragEnd},t,a),this.props.children)}}]),t}();f.propTypes={id:s.default.string.isRequired,name:s.default.string,initDone:s.default.bool,index:s.default.number,allowHorizontal:s.default.bool,fields:s.default.instanceOf(Array),draggable:s.default.bool,spaceAvailable:s.default.bool,updateState:s.default.func,dropzoneID:s.default.string,payload:s.default.instanceOf(Object),elementProps:s.default.instanceOf(Object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},f.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null,draggable:!0,updateState:function(){return!0}},t.default=f},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(16),o=n(15),a=n(14);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root",initDone:!0})))}},function(e,t,n){"use strict";var r=c(n(18)),o=c(n(4)),a=c(n(13)),i=c(n(12)),s=c(n(11)),l=c(n(10)),u=c(n(3)),f=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,Preview:l.default,state:u.default,core:f.default,registerPaletteElements:f.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhc2gvVHJhc2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZS9EcmFnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb3JlIiwiQ29yZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJnZXRBdHRlbXB0VG9SZW1vdmUiLCJhdHRlbXB0VG9SZW1vdmUiLCJzZXRBdHRlbXB0VG9SZW1vdmUiLCJzdGF0dXMiLCJzZXREcmFnZ2VkRWxlbWVudCIsImRyYWdnZWRFbGVtZW50IiwiZ2V0RHJhZ2dlZEVsZW1lbnQiLCJyZWdpc3RlclBhbGV0dGVFbGVtZW50cyIsInJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJnZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIiwic2V0RHJvcFBvc3Rpb24iLCJkcm9wUG9zaXRpb24iLCJnZXREcm9wUG9zdGlvbiIsImVycm9yIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZXF1aXJlIiwiX2NvcmUiLCJzdGF0ZSIsIlN0YXRlIiwiZXZlbnQiLCJjaGFuZ2UiLCJ0cmVlIiwiaWQiLCJmaWVsZHMiLCJub3RpZnlTdGF0ZUNoYW5nZSIsImZvckVhY2giLCJlIiwidXBkYXRlU3RhdGUiLCJkcm9wem9uZUlEIiwicGFyZW50SUQiLCJjYiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRyYXZlcnNlQW5kVXBkYXRlVHJlZSIsInVwZGF0ZWRGaWVsZHMiLCJtYXRjaGVkUGFyZW50Q2FudmFzIiwiZmluZCIsImZpZWxkIiwicmV0dXJuU3RhdHVzIiwiZmllbGRzVG9CZUFkZGVkIiwiZmlsdGVyIiwiZiIsImNvbmNhdCIsInVGaWVsZCIsImZpbmRJbmRleCIsInB1c2giLCJjaGlsZEZpZWxkcyIsImdldFN0YXRlIiwiZ2V0U3RvcmFibGVTdGF0ZSIsIm1hcCIsInRyYXZlcnNlQW5kVGFrZVNuYXBzaG90IiwiZWxlbWVudCIsInN1YkZpZWxkcyIsIm5lY2Vzc2FyeURldGFpbHMiLCJrZXlzIiwia2V5IiwiaW5pdGlhbEVsZW1lbnRzIiwic2YiLCJjbGVhclN0YXRlIiwicm9vdE5vZGUiLCJ0b3BMZXZlbEZpZWxkcyIsInRvcExldmVsRWxlbWVudCIsImZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInJldHVybkNCIiwiX2NvcmUyIiwiZGVmYXVsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcmVhY3QiLCJEcm9wem9uZSIsInByb3BzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwiX2luaXRpYWxpc2VQcm9wcyIsImNhbnZhc1JlZiIsIl9yZWFjdDIiLCJjcmVhdGVSZWYiLCJkcm9wcGVkRWxlbWVudHMiLCJpbml0RG9uZSIsIl9zZXRJbml0aWFsRWxlbWVudHMiLCJfcmVmIiwiX3RoaXMyIiwiX3Byb3BzIiwiY2FwYWNpdHkiLCJwbGFjZWhvbGRlciIsInNwYWNlQXZhaWxhYmxlIiwiY3JlYXRlRWxlbWVudCIsInJlZiIsImNsYXNzTmFtZSIsIm9uRHJhZ092ZXIiLCJfb25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwiX29uRHJhZ0xlYXZlIiwib25EcmFnRW50ZXIiLCJfb25EcmFnRW50ZXIiLCJvbkRyb3AiLCJfb25Ecm9wIiwib25EcmFnRW5kIiwiX29uRHJhZ0VuZCIsIl9yZW5kZXJEcmFnSXRlbSIsIl9leHRlbmRzIiwiaW5kZXgiLCJkcm9wem9uZVByb3BzIiwiZGFuZ2Vyb3VzbHlTZXRFbGVtZW50cyIsImRhdGEiLCJkb25lIiwiZWxlbWVudHMiLCJfdGhpczMiLCJzaG93QmFzaWNDb250ZW50IiwiX3VwZGF0ZVN0YXRlIiwicmVtb3ZlRWxlbWVudCIsIl9yZW1vdmVFbGVtZW50IiwiX2ZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiY2hlY2tBbmRSZW1vdmVFbGVtZW50IiwiX2NoZWNrQW5kUmVtb3ZlRWxlbWVudCIsInNldFN0YXRlIiwiX3VubWFya0RyYWdFbGVtZW50cyIsImN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiQXJyYXkiLCJpc0FycmF5IiwidXBkYXRlZEluaXRpYWxJdGVtcyIsIl9tYW5hZ2VJbnNpZGVDbGFzcyIsIl9yZWYyIiwiYWN0aW9uIiwidGFyZ2V0IiwiZWxlbWVudElEIiwiX3Byb3BzMiIsIl9zdGF0ZTIiLCJlbGVtZW50TW92ZWQiLCJvbkVsZW1lbnRNb3ZlIiwiYXR0ZW1wdFRvTW92ZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSlNPTiIsInBhcnNlIiwiZGF0YVRyYW5zZmVyIiwiZ2V0RGF0YSIsIl9hZGRFbGVtZW50IiwiZHJvcEluZGV4IiwiY3VycmVudEVsZW1lbnRzIiwidXBkYXRlZERhdGEiLCJfcHJvcHMzIiwiYWxsb3dIb3Jpem9udGFsIiwiaW52YWxpZFVwZGF0ZWREYXRhIiwiaW5kZXhPZlByZXNlbnRFbGVtZW50Iiwia2V5QWxyZWFkeVByZXNlbnQiLCJpc1NhbWVJbmRleCIsIm5ld0VsZW1lbnRzIiwiZWxlbWVudEFscmVhZHlSZW1vdmVkIiwiZWxlbWVudFRvRHJvcCIsInNsaWNlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidHlwZSIsImNvbXBvbmVudCIsInByb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIm51bWJlciIsImZ1bmMiLCJib29sIiwiYXJyYXlPZiIsIm9uZU9mIiwibm9kZSIsImRlZmF1bHRQcm9wcyIsImNzcyIsImxvY2F0aW9uIiwid2luZG93IiwiRXJyb3IiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiaW5kZXhPZiIsInN0cmluZ2lmeSIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiZ2V0RWxlbWVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwib3B0aW9ucyIsIml0ZW0iLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4Iiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJhZGRBdHRycyIsImVsIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJiaW5kIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsIkJvb2xlYW4iLCJqb2luIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJ1c2VTb3VyY2VNYXAiLCJ0b1N0cmluZyIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImhtciIsImxvY2FscyIsIlByZXZpZXciLCJfb25TdGF0ZUNoYW5nZSIsIm5ld1N0YXRlIiwiY3VycmVudFN0YXRlIiwiX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlIiwiY2hpbGRyZW4iLCJlbGVtZW50RGF0YSIsImNoaWxkTm9kZSIsInNob3dQcmV2aWV3IiwiQ29tcG9uZW50Iiwicm9vdCIsIlRyYXNoIiwidHJhc2hSZWYiLCJlbGVtZW50VG9CZVRyYXNoZWQiLCJfdGhpcyRwcm9wcyIsIm9uQmVmb3JlVHJhc2giLCJvbkFmdGVyVHJhc2giLCJvbmVPZlR5cGUiLCJQYWxldHRlIiwiX3JlbmRlckxpc3QiLCJwYWxldHRlRWxlbWVudHMiLCJwcm9wVmFsdWUiLCJpc0Vycm9yIiwiRHJhZ2dhYmxlIiwiX2RyYWdFbmQiLCJkcmFnRWxlbVJlZiIsIl9kcmFnU3RhcnQiLCJwYXlsb2FkIiwiZWZmZWN0QWxsb3dlZCIsInNldERhdGEiLCJlbGVtQ29yZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRyYWdFbGVtWCIsImNsaWVudFgiLCJ4Iiwid2lkdGgiLCJhZGQiLCJkcmFnRWxlbVkiLCJjbGllbnRZIiwieSIsImhlaWdodCIsIm5leHRQcm9wcyIsImVsZW1lbnRQcm9wcyIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0IiwiaW5zdGFuY2VPZiIsInZhbGlkYXRlRm9ybWF0IiwiZm9ybWF0IiwiY29uZGl0aW9uIiwiYSIsImIiLCJhcmdzIiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiZW1wdHlGdW5jdGlvbiIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJnZXRTaGltIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsInN5bWJvbCIsImFueSIsIm9iamVjdE9mIiwic2hhcGUiLCJleGFjdCIsImNoZWNrUHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiX0Ryb3B6b25lMiIsIkNhbnZhcyJdLCJtYXBwaW5ncyI6IjJCQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdB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bUxBTUEsU0FBQU8sSUFDQSxPQUFBTCxFQUZBQSxFQUFBcE0sV0FBQW9NLEVBTUEsSUFBQU0sR0FDQUMsTUFBQVAsRUFDQWpNLEtBQUFpTSxFQUNBbE0sS0FBQWtNLEVBQ0FuTSxPQUFBbU0sRUFDQXBYLE9BQUFvWCxFQUNBck0sT0FBQXFNLEVBQ0FRLE9BQUFSLEVBRUFTLElBQUFULEVBQ0FoTSxRQUFBcU0sRUFDQXpULFFBQUFvVCxFQUNBcEIsV0FBQXlCLEVBQ0FuTSxLQUFBOEwsRUFDQVUsU0FBQUwsRUFDQXBNLE1BQUFvTSxFQUNBckQsVUFBQXFELEVBQ0FNLE1BQUFOLEVBQ0FPLE1BQUFQLEdBTUEsT0FIQUMsRUFBQU8sZUFBQXRCLEVBQ0FlLEVBQUFRLFVBQUFSLEVBRUFBLDhQQ3hEQWpaLEVBQUEsUUFFQUEsRUFBQSxpRUFLZSxTQUFBMkcsR0FBQSxPQUNiTyxFQUFBWCxRQUFBc0IsY0FBQSxPQUFLRSxVQUFVLGVBQ2JiLEVBQUFYLFFBQUFzQixjQUFBNlIsRUFBQW5ULFFBQUFvQyxLQUFjaEMsR0FBTzNDLFNBQVMsT0FBT1AsR0FBRyxPQUFPNEQsVUFBQSxxQ0NSbkQsUUFBQXJILEVBQUEsU0FDQUEsRUFBQSxRQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBR0FBLEVBQUEsUUFDQUEsRUFBQSx1REFHQUEsRUFBQSxHQUVBRyxFQUFPRCxTQUVMeVosaUJBQ0FqVCxtQkFDQXVQLG9CQUNBTCxrQkFDQVAsZ0JBQ0FYLGtCQUdBdFIsZ0JBQ0F2QixlQUdBVyx3QkFBeUI4RCxFQUFBQyxRQUFLL0QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImNsYXNzIENvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gbWFpbiBvYmplY3Qvc3RvcmVcclxuICAgIGNvbnN0IGNvcmUgPSB7fTtcclxuXHJcbiAgICAvLyBhbGwgcHVibGljIGdldHRlci9zZXR0ZXIgZ29lcyBoZXJlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBnZXQgYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0QXR0ZW1wdFRvUmVtb3ZlID0gKCkgPT4gKGNvcmUuYXR0ZW1wdFRvUmVtb3ZlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCB1c2VyJ3MgYXR0ZW1wdCB0byByZW1vdmUgdGhlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0QXR0ZW1wdFRvUmVtb3ZlID0gKHN0YXR1cykgPT4ge1xyXG4gICAgICBjb3JlLmF0dGVtcHRUb1JlbW92ZSA9IHN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhZ2dlZEVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXREcmFnZ2VkRWxlbWVudCA9IChkcmFnZ2VkRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb3JlLmRyYWdnZWRFbGVtZW50ID0gZHJhZ2dlZEVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyYWdnZWQgZWxlbWVudFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXREcmFnZ2VkRWxlbWVudCA9ICgpID0+IChjb3JlLmRyYWdnZWRFbGVtZW50KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgLSBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMucmVnaXN0ZXJQYWxldHRlRWxlbWVudHMgPSAocmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cykgPT4ge1xyXG4gICAgICBjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgPSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiByZWdpc3RlcmVkIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBhcnJheSBvZiBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9ICgpID0+IChjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyb3AgcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkcm9wUG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXREcm9wUG9zdGlvbiA9IChkcm9wUG9zaXRpb24pID0+IHtcclxuICAgICAgY29yZS5kcm9wUG9zaXRpb24gPSBkcm9wUG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyb3AgcG9zaXRpb25cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0RHJvcFBvc3Rpb24gPSAoKSA9PiAoY29yZS5kcm9wUG9zaXRpb24pO1xyXG5cclxuICAgIC8qIGVzbGludCBuby1jb25zb2xlOjAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGdpdmUgYW4gZXJyb3IgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZXJyb3IgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gbG9nIGEgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG9nID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGNvcmUgPSBuZXcgQ29yZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlJztcclxuXHJcbmNsYXNzIFN0YXRlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIGFsbCBwcml2YXRlIHZhcmliYWxlIGdvZXMgaGVyZVxyXG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcclxuICAgIGNvbnN0IGV2ZW50ID0ge1xyXG4gICAgICBjaGFuZ2U6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldCBiYXNlXHJcbiAgICBzdGF0ZS50cmVlID0gW3tcclxuICAgICAgaWQ6ICdyb290JyxcclxuICAgICAgZmllbGRzOiBbXVxyXG4gICAgfV07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggZWFjaCBub2RlIGFuZCB1cGRhdGUgdGhlIGNvcnJlc3BvbmRpbmcgbm9kZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdXBkYXRlZEZpZWxkcyAtIG5ldyBmaWVsZHMvZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcyAtIGZpZWxkcy9lbGVtZW50cyBvZiBjdXJyZW50IGNhbnZhc1xyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVXBkYXRlVHJlZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgZmllbGRzID0gc3RhdGUudHJlZSkgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaGVkUGFyZW50Q2FudmFzID0gZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQuaWQgPT09IHBhcmVudElEKTtcclxuICAgICAgbGV0IHJldHVyblN0YXR1cyA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gZm91bmQgZWxlbWVudFxyXG4gICAgICBpZiAobWF0Y2hlZFBhcmVudENhbnZhcykge1xyXG4gICAgICAgIGlmIChkcm9wem9uZUlEID09PSBwYXJlbnRJRCkge1xyXG4gICAgICAgICAgLy8gZmlyc3QgdGltZSwgY3JlYXRlIGZpZWxkc1xyXG4gICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzIHx8ICF1cGRhdGVkRmllbGRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gdXNlciB0cmllZCB0byByZW1vdmUgZWxlbWVudHNcclxuICAgICAgICAgIGlmIChkcm9wem9uZUlEICYmIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1hdGNoZWQgY2FudmFzIGRvZXMgbm90IGhhcyBzdWNoIGZpZWxkLCBjcmVhdGUgb25lXHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgZmllbGRzVG9CZUFkZGVkID0gW107XHJcblxyXG4gICAgICAgICAgLy8gaWYgdXNlciB3b3JraW5nIG9uIG11bHRpIGRyb3B6b25lIGZpZWxkXHJcbiAgICAgICAgICBjb25zdCBtYXRjaGVkRHJvcHpvbmVGaWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEID09PSBkcm9wem9uZUlEKTtcclxuXHJcbiAgICAgICAgICBpZiAobWF0Y2hlZERyb3B6b25lRmllbGRzLmxlbmd0aCAhPT0gdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gc29tZSBvZiB0aGUgZmllbGQgZ290IGRlbGV0ZWQgZnJvbSBkcm9wem9uZVxyXG4gICAgICAgICAgICAvLyByZXBsYWNlIGFsbCBmaWVsZHMgd2l0aCBuZXcgZmllbGRzXHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkc1xyXG4gICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLmRyb3B6b25lSUQgIT09IGRyb3B6b25lSUQpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRGaWVsZHMuZm9yRWFjaCgodUZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZmllbGRJbmRleCA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXHJcbiAgICAgICAgICAgICAgICAuZmluZEluZGV4KGYgPT4gZi5pZCA9PT0gdUZpZWxkLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gdXNlciB0cnkgdG8gYWRkIG5ldyBmaWVsZFxyXG4gICAgICAgICAgICAgIGlmIChmaWVsZEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgZmllbGRzVG9CZUFkZGVkLnB1c2godUZpZWxkKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gbm8gbmV3IGZpZWxkc1xyXG4gICAgICAgICAgICBpZiAoIWZpZWxkc1RvQmVBZGRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvLyBlaXRoZXIgdXNlciBoYXMgdXBkYXRlZCB0aGUgZmllbGQgb3IgY2hhbmdlZCB0aGUgb3JkZXJcclxuICAgICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IHVwZGF0ZWRGaWVsZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBhZGQgbmV3IGZpZWxkIHRvIGV4aXN0aW5nIGFycmF5XHJcbiAgICAgICAgICBpZiAoZmllbGRzVG9CZUFkZGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzLmNvbmNhdChmaWVsZHNUb0JlQWRkZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuU3RhdHVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLyogZXNsaW50IG5vLWVsc2UtcmV0dXJuOiAwICovXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGNoaWxkRmllbGRzID0gZmllbGRzW2ldLmZpZWxkcztcclxuICAgICAgICAgIGxldCBzdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyBmaWVsZCBoYXMgc3ViLWZpZWxkcywgY2hlY2sgaW5zaWRlIHN1Yi1maWVsZHNcclxuICAgICAgICAgIGlmIChjaGlsZEZpZWxkcykge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGNoaWxkRmllbGRzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldHVyblN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBjaGFuZ2UgQ0JcclxuICAgIGNvbnN0IG5vdGlmeVN0YXRlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcclxuICAgICAgZXZlbnQuY2hhbmdlLmZvckVhY2goZSA9PiBlKHN0YXRlLnRyZWUpKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdG8gdXBkYXRlIHN0YXRlXHJcbiAgICAvLyBvbmNlIHVwZGF0ZSBkb25lLCB0cmlnZ2VycyBDQiBhbmQgbm90aWZ5U3RhdGVDaGFuZ2VcclxuICAgIHRoaXMudXBkYXRlU3RhdGUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcywgY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgICB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcyk7XHJcbiAgICAgIGNiKHN0YXRlLnRyZWUpO1xyXG4gICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGFsbCBub2RlXHJcbiAgICAvLyByZW1vdmUgYWxsIHByaXZhdGUvZnVuY3Rpb25hbCBwcm9wZXJ0aWVzXHJcbiAgICAvLyBhbmQgcmV0dXJuIGZsYXQgb2JqZWN0IGZvciBlYWNoIG5vZGVcclxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90ID0gKGVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3Qgc3ViRmllbGRzID0gW107XHJcbiAgICAgIGNvbnN0IG5lY2Vzc2FyeURldGFpbHMgPSB7fTtcclxuXHJcbiAgICAgIC8vIHJlbW92ZSBhbGwgcHJpdmF0ZS9mdW5jdGluYWwgcHJvcGVydGllc1xyXG4gICAgICBPYmplY3Qua2V5cyhlbGVtZW50KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlsc1trZXldID0gZWxlbWVudFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBjaGVjayBmb3Igc3ViIGZpZWxkcyBhbmQgcGVyZm9ybSBzYW1lIG9wZXJhdGlvbnMgcmVjdXJzaXZlbHlcclxuICAgICAgaWYgKGVsZW1lbnQuZmllbGRzICYmIGVsZW1lbnQuZmllbGRzLmxlbmd0aCkge1xyXG4gICAgICAgIGVsZW1lbnQuZmllbGRzLmZvckVhY2goKGYpID0+IHtcclxuICAgICAgICAgIHN1YkZpZWxkcy5wdXNoKHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90KGYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaWYgYXBwZW5kIGluaXRpYWxFbGVtZW50cyBhbmQgdXBkYXRlZCBmaWVsZHNcclxuICAgICAgaWYgKHN1YkZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmluaXRpYWxFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIG5lY2Vzc2FyeURldGFpbHMuZmllbGRzID0gW107XHJcblxyXG4gICAgICAgIHN1YkZpZWxkcy5mb3JFYWNoKChzZikgPT4ge1xyXG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlscy5pbml0aWFsRWxlbWVudHMucHVzaChzZik7XHJcbiAgICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmZpZWxkcy5wdXNoKHNmKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcmV0dXJuIGZsYXQgb2JqZWN0IHdoaWNoIHJlcHJlc2VudCBjdXJyZW50IG5vZGUgaW4gdHJlZVxyXG4gICAgICByZXR1cm4gbmVjZXNzYXJ5RGV0YWlscztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZXR1cm4gY3VycmVudCBzdGF0ZSBvZiB0cmVlIChhcyBpcylcclxuICAgICAqIGtlZXBpbmcgdGhpcyBmdW5jdGlvbiB0byBnaXZlIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdGF0ZSA9ICgpID0+IChzdGF0ZS50cmVlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBzdG9yYWJsZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGRvZXMgc2FtZSBqb2IgYXMgZ2V0U3RhdGUgb25seSBpdCBtYWtlIHN1cmVcclxuICAgICAqIHJldHVybmVkIGRhdGEgaXMgaW4gcHJvcGVyIGZvcm1hdCBhbmQgdW5lY2Vzc2FyeSBwcm9wZXJ0aWVzIHJlbW92ZWRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdG9yYWJsZVN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWVbMF0uZmllbGRzXHJcbiAgICAgIC5tYXAoZiA9PiB0cmF2ZXJzZUFuZFRha2VTbmFwc2hvdChmKSkpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gY2xlYXIgdGhlIHN0YXRlXHJcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cclxuICAgICAqIHNvIHRoYXQgY29tcG9uZW50IGFzIHdlbGwgYXMgYXBwbGljYXRpb24gc3RhdGUgZ2V0cyBmbHVzaGVkXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY2xlYXJTdGF0ZSA9IChjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gc3RhdGUudHJlZVswXTtcclxuICAgICAgY29uc3QgdG9wTGV2ZWxGaWVsZHMgPSByb290Tm9kZS5maWVsZHMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gY2FudmFzIGlzIGVtcHR5LCBqdXN0IG5vdGlmeSBvdGhlclxyXG4gICAgICBpZiAoIXJvb3ROb2RlLmZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgIGNiKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJvb3ROb2RlLmZpZWxkcy5mb3JFYWNoKCh0b3BMZXZlbEVsZW1lbnQsIGkpID0+IHtcclxuICAgICAgICB0b3BMZXZlbEVsZW1lbnQuZmx1c2hEcm9wcGVkRWxlbWVudHMoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGkgPT09IHRvcExldmVsRmllbGRzIC0gMSkge1xyXG4gICAgICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGFkZCBldmVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSAoZXZlbnROYW1lLCBjYikgPT4ge1xyXG4gICAgICBsZXQgcmV0dXJuQ0IgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvcmUuZXJyb3IoJ2BjYmAgcGFyYW0gaGFzIHRvIGJlIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50LCBldmVudE5hbWUpKSB7XHJcbiAgICAgICAgZXZlbnRbZXZlbnROYW1lXS5wdXNoKGNiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuQ0IgPSBjYjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXR1cm5DQjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gKGV2ZW50TmFtZSwgY2IpID0+IHtcclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgIGV2ZW50W2V2ZW50TmFtZV0gPSBldmVudFtldmVudE5hbWVdLmZpbHRlcihlID0+IGUgIT09IGNiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3RhdGU7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vLi4vY29yZS9zdGF0ZSc7XHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBEcm9wem9uZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIGNhbnZhc1xyXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiBjdXJyZW50IGNhbnZhcyBvciBub3RcclxuICAgIHRoaXMuY2FudmFzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgLy8gY29tcG9uZW50IHN0YXRlXHJcbiAgICAvLyBpbml0aWFsRWxlbWVudHMgLSB0byBrZWVwIHRyYWNrIG9mIGluaXRpYWwgZWxlbWVudHNcclxuICAgIC8vIGRyb3BwZWRFbGVtZW50cyAtIHRvIGtlZXAgdHJhY2sgb2YgbmV3bHkgYWRkZWQgZWxlbWVudHNcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW10sXHJcbiAgICAgIGluaXREb25lOiBmYWxzZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyh0aGlzLnByb3BzLmluaXRpYWxFbGVtZW50cyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHsgaW5pdGlhbEVsZW1lbnRzIH0pIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gYWxsb3cgbWFudWFsIGVsZW1lbnQgdXBkYXRlXHJcbiAgICogTm90ZSAtIGZ1bmN0aW9uIGlzIG9ubHkgYWNjZXNzaWJsZSB0aHJvdWdoIHJlZiBhbmQgbWFrZSBzdXJlXHJcbiAgICogdmFsaWQgZGF0YSBpcyBwYXNzIHRocm91Z2ggZWxzZSBhcHBsaWNhdGlvbiBzdGF0ZS9oaWVyYXJjaHkgY2FuIGJyZWFrXHJcbiAgICogQHBhcmFtIGRhdGEge0FycmF5L0Z1bmN0aW9ufSAtIGlmIGl0cyBmdW5jdGlvbiB0aGVuIG1ha2Ugc3VyZSB5b3UgYXJlXHJcbiAgICogcmV0dXJuaW5nIHZhbGlkYSBhcnJheVxyXG4gICAqIEBwYXJhbSBkb25lIHtmdW5jdGlvbn0gLSBzdWNjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIGRhbmdlcm91c2x5U2V0RWxlbWVudHMgPSAoZGF0YSwgZG9uZSkgPT4ge1xyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgZWxlbWVudHMgPSBkYXRhKHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKSB8fCBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRzID0gZGF0YTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZSA9PiAoe1xyXG4gICAgICAuLi5lLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxyXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogdGhpcy5fY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9KSk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogZWxlbWVudHMsXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogZWxlbWVudHNcclxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGRvbmUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBiZWZvcmUvYWZ0ZXIgY2xhc3MgZm9ybSBhbGwgY2FudmFzIGVsZW1lbnRzXHJcbiAgICovXHJcbiAgX3VubWFya0RyYWdFbGVtZW50cyA9ICgpID0+IHtcclxuICAgIFtdLmZvckVhY2guY2FsbCh0aGlzLmNhbnZhc1JlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcmFnLWl0ZW0nKSwgZSA9PiBlLmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBpbml0aWFsIGVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGluaXRpYWxFbGVtZW50cyB7QXJyYXl9IC0gSXQgaG9sZHMgYWxsIGluaXRpYWwgZWxlbWVudHMgdG8gYmUgc2hvd24gaW4gY2FudmFzXHJcbiAgICovXHJcbiAgX3NldEluaXRpYWxFbGVtZW50cyA9IChpbml0aWFsRWxlbWVudHMpID0+IHtcclxuICAgIC8vIGN1cnJlbnQgY29tcG9uZW50IHN0YXRlKGRyb3BwZWRFbGVtZW50cykgZG9lc24ndCBob2xkIGFueSBlbGVtZW50c1xyXG4gICAgLy8gYnV0IGluaXRpYWxFbGVtZW50cyBoYXMgc29tZSBlbGVtZW50IHRvIGJlIHNldFxyXG4gICAgY29uc3QgZ290SW5pdGlhbEl0ZW1zID0gQXJyYXkuaXNBcnJheShpbml0aWFsRWxlbWVudHMpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRWxlbWVudHMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pbml0RG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBmb3IgZmlyc3QgdGltZSBhZGQgaW5pdGlhbEVsZW1lbnRzIHRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAgaWYgKGdvdEluaXRpYWxJdGVtcykge1xyXG4gICAgICBjb25zdCB7IGlkOiBkcm9wem9uZUlEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICBjb25zdCB1cGRhdGVkSW5pdGlhbEl0ZW1zID0gaW5pdGlhbEVsZW1lbnRzLm1hcChlID0+ICh7XHJcbiAgICAgICAgLi4uZSxcclxuICAgICAgICBrZXk6IGUuaWQsXHJcbiAgICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgICB1cGRhdGVTdGF0ZTogdGhpcy5fdXBkYXRlU3RhdGUsXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcclxuICAgICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaW5pdGlhbEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zLFxyXG4gICAgICAgIGRyb3BwZWRFbGVtZW50czogdXBkYXRlZEluaXRpYWxJdGVtc1xyXG4gICAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgaW5pdERvbmU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgfSkpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLmNhbnZhc1JlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdFthY3Rpb25dKCdpbnNpZGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50IGZyb20gZHJvcHBlZEVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGVsZW1lbnRJRCAtIHtTdHJpbmd9IC0gSUQgb2YgZWxlbWVudFxyXG4gICAqL1xyXG4gIF9yZW1vdmVFbGVtZW50ID0gKGVsZW1lbnRJRCwgY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBlbGVtZW50SUQpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmZpbHRlcigoZCwgaSkgPT4gKGkgIT09IGluZGV4KSlcclxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGNiKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIChub3QgY29tcG9uZW50IHN0YXRlKVxyXG4gICAqIGZ1bmN0aW9uIHdpbGwgZnVydGhlciBjYWxsIGB1cGRhdGVTdGF0ZWAgZnJvbSBzdGF0ZSBBUEksIHdoaWNoIHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX3VwZGF0ZVN0YXRlID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQ6IGRyb3B6b25lSUQsXHJcbiAgICAgIHBhcmVudElEXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBzdGF0ZS51cGRhdGVTdGF0ZShcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgcGFyZW50SUQsXHJcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLFxyXG4gICAgICBjYlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIGZsdXNoIHRoZSBjb21wb25lbnQgc3RhdGVcclxuICAgKiBvbmNlIGNvbXBvbmVudCBzdGF0ZSB0aHMgZmx1c2hlZCwgdGhpcyB3aWxsIGNhbGwgYF91cGRhdGVTdGF0ZWAgdG8gdXBkYXRlIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX2ZsdXNoRHJvcHBlZEVsZW1lbnRzID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbml0aWFsRWxlbWVudHM6IFtdLFxyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IFtdXHJcbiAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoY2IpKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiBjaGVjayBiZWxvdyBwYXJhbWV0ZXJzXHJcbiAgICogMSAtIHVzZXIncyBpbnRlbmQgaXMgdG8gbW92ZSBlbGVtZW50IGZyb20gb25lIGNhbnZhcyB0byBvdGhlclxyXG4gICAqIDIgLSBHZXQgY29uZmlybWF0aW9uIGJlZm9yZSByZW1vdmVcclxuICAgKiBvbmNlIGJvdGggY29uZGl0aW9uIG1hdGNoZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gY3VycmVudCBjYW52YXNcclxuICAgKi9cclxuICBfY2hlY2tBbmRSZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudE1vdmVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgeyByZW1vdmVFbGVtZW50LCBlbGVtZW50SUQgfSA9IGVsZW1lbnRNb3ZlZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMucHJvcHMub25FbGVtZW50TW92ZShlbGVtZW50TW92ZWQpO1xyXG4gICAgY29uc3QgYXR0ZW1wdFRvTW92ZSA9ICFjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpO1xyXG5cclxuICAgIGlmIChzdGF0dXMgJiYgYXR0ZW1wdFRvTW92ZSkge1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRJRCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdGhlIGNhbnZhc1xyXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXHJcbiAgLy8gQHBhcmFtIGUge2V2ZW50fVxyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGxlYXZpbmcgdGhlIGNhbnZhc1xyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnTGVhdmUgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgY2FudmFzXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdFbnRlciA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XHJcbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZShmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2UgaGFzIGRyb3BwZWQgdGhlIGVsZW1lbnQgaW50byB0aGUgY2FudmFzXHJcbiAgICogcGVyZm9ybSBhbGwgcmVxdWlyZWQgY2hlY2tzXHJcbiAgICogZnVuY3Rpb24gYWxzbyB0cmlnZ2VycyBgb25Ecm9wYCBwcm9wIHNvIHRoYXQgdXNldCBjYW4gcHJvdmlkZSBhZGRpdGlvbmFsIGluZm9cclxuICAgKiBvbmNlIGFsbCBkb25lIGBfYWRkRWxlbWVudGAgZ2V0IGNhbGxlZCB3aXRoIGFsbCByZXF1aXJlZCBpbmZvXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyb3AgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICBjb25zdCB7IG9uRHJvcCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdkYXRhJykpO1xyXG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xyXG5cclxuICAgIHRoaXMuX3VubWFya0RyYWdFbGVtZW50cygpO1xyXG5cclxuICAgIHJldHVybiBvbkRyb3AgPyBvbkRyb3AoZGF0YSwgdGhpcy5fYWRkRWxlbWVudCwge1xyXG4gICAgICBkcm9wSW5kZXg6ICFkcm9wcGVkRWxlbWVudHMubGVuZ3RoID8gY29yZS5nZXREcm9wUG9zdGlvbigpICsgMSA6IDAsXHJcbiAgICAgIGN1cnJlbnRFbGVtZW50czogZHJvcHBlZEVsZW1lbnRzXHJcbiAgICB9KSA6IHRoaXMuX2FkZEVsZW1lbnQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byBhZGQgZWxlbWVudCBpbnRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAqIHByaW9yIHRvIGFkZCBpdCBwZXJmb20gYmVsb3cgY2hlY2tcclxuICAgKiAxIC0gZWxlbWVudCBoYXMgdW5pcXVlIGtleVxyXG4gICAqIDIgLSBlbGVtZW50IGhhcyBpbnZhbGlkIGRhdGFcclxuICAgKiAzIC0gY2hlY2sgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgKiBvbmNlIGVsZW1lbnQgYWRkZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICogQHBhcmFtIHVwZGF0ZWREYXRhIHtPYmplY3R9IC0gZWxlbWVudCBpbmZvcm1hdGlvblxyXG4gICAqIEByZXR1cm5zIE9iamVjdCAtIG5ldyBsaXN0IG9mIGNhbnZhcyBlbGVtZW50c1xyXG4gICAqL1xyXG4gIF9hZGRFbGVtZW50ID0gKHVwZGF0ZWREYXRhKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGlkOiBkcm9wem9uZUlELFxyXG4gICAgICBjYXBhY2l0eSxcclxuICAgICAgYWxsb3dIb3Jpem9udGFsXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IGNvcmUuZ2V0RHJvcFBvc3Rpb24oKTtcclxuICAgIGNvbnN0IGRyYWdnZWRFbGVtZW50ID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgaW52YWxpZFVwZGF0ZWREYXRhID0gIXVwZGF0ZWREYXRhIHx8ICF1cGRhdGVkRGF0YS5pZDtcclxuICAgIGxldCBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSAtMTtcclxuICAgIGNvbnN0IGtleUFscmVhZHlQcmVzZW50ID0gdXBkYXRlZERhdGEuaWQgJiZcclxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChlLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuaWQgPT09IHVwZGF0ZWREYXRhLmlkKSB7XHJcbiAgICAgICAgICBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSBpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9KS5sZW5ndGg7XHJcbiAgICBjb25zdCBpc1NhbWVJbmRleCA9IGluZGV4T2ZQcmVzZW50RWxlbWVudCA9PT0gZHJvcFBvc2l0aW9uO1xyXG4gICAgbGV0IG5ld0VsZW1lbnRzID0gW10uY29uY2F0KHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKTtcclxuICAgIGxldCBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBjaGVjayBmbyB1bmlxdWUga2V5XHJcbiAgICBpZiAoaW52YWxpZFVwZGF0ZWREYXRhIHx8IGtleUFscmVhZHlQcmVzZW50KSB7XHJcbiAgICAgIGlmIChpc1NhbWVJbmRleCkge1xyXG4gICAgICAgIHJldHVybiBjb3JlLmVycm9yKCdEdXBsaWNhdGUgb3IgaW52YWxpZCBJRCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLm1hcCgoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uZSwgcmVtb3ZlOiB0cnVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtZW50VG9Ecm9wID0ge1xyXG4gICAgICAuLi51cGRhdGVkRGF0YSxcclxuICAgICAga2V5OiB1cGRhdGVkRGF0YS5pZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgYWxsb3dIb3Jpem9udGFsLFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxyXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICBpbml0aWFsRWxlbWVudHM6IHRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLFxyXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogdGhpcy5fY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkcm9wUG9zaXRpb24gPiAwKSB7XHJcbiAgICAgIG5ld0VsZW1lbnRzID0gW1xyXG4gICAgICAgIC4uLm5ld0VsZW1lbnRzLnNsaWNlKDAsIGRyb3BQb3NpdGlvbiksXHJcbiAgICAgICAgZWxlbWVudFRvRHJvcCxcclxuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZShkcm9wUG9zaXRpb24pXHJcbiAgICAgIF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdFbGVtZW50cyA9IFtcclxuICAgICAgICBlbGVtZW50VG9Ecm9wLFxyXG4gICAgICAgIC4uLm5ld0VsZW1lbnRzXHJcbiAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1NhbWVJbmRleCkge1xyXG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLmZpbHRlcihlID0+ICFlLnJlbW92ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgbmV3IGxpc3QgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgIGlmIChjYXBhY2l0eSAmJiBuZXdFbGVtZW50cy5sZW5ndGggPiBjYXBhY2l0eSkge1xyXG4gICAgICByZXR1cm4gY29yZS5lcnJvcihgTWF4aW11bSBjYXBhY2l0eSBvZiBjYW52YXMoJHtkcm9wem9uZUlEfSkgaXMgJHtjYXBhY2l0eX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgbGlzdFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogbmV3RWxlbWVudHNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcclxuICAgICAgaWYgKCFlbGVtZW50QWxyZWFkeVJlbW92ZWQgJiYgZHJhZ2dlZEVsZW1lbnQgJiYgdHlwZW9mIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBlbGVtZW50czogbmV3RWxlbWVudHNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byByZW5kZXIgdGhlIGRyYWdnZWQgZWxlbWVudFxyXG4gICAqIEBwYXJhbSBwcm9wcyB7T2JqZWN0fSAtIEFuIG9iamVjdCB3aGljaCBob2xkIHRoZSBpbmZvIG9mIGRyYWdnZWQgZWxlbWVudC9jb21wb25lbnRcclxuICAgKiBAcmV0dXJucyBKU1hcclxuICAgKi9cclxuICBfcmVuZGVyRHJhZ0l0ZW0gPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBjb3JlLmdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMoKS5maW5kKGUgPT4gZS50eXBlID09PSBwcm9wcy50eXBlKTtcclxuICAgIHJldHVybiBlbGVtZW50ID8gPGVsZW1lbnQuY29tcG9uZW50IHsuLi5wcm9wc30gLz4gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBkcm9wcGVkRWxlbWVudHMgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCB7IGNhcGFjaXR5LCBpZCwgcGxhY2Vob2xkZXIgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCBzcGFjZUF2YWlsYWJsZSA9IGNhcGFjaXR5ID8gY2FwYWNpdHkgPiBkcm9wcGVkRWxlbWVudHMubGVuZ3RoIDogdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXt0aGlzLmNhbnZhc1JlZn1cclxuICAgICAgICBjbGFzc05hbWU9e2AkeyFzcGFjZUF2YWlsYWJsZSA/ICduby1zcGFjZScgOiAnJ30gJHtpZCA9PT0gJ3Jvb3QnID8gJ2NhbnZhcycgOiAnJ30gJHshZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA/ICdlbXB0eScgOiAnJ30gZHJvcHpvbmVgfVxyXG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XHJcbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuX29uRHJhZ0xlYXZlfVxyXG4gICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLl9vbkRyYWdFbnRlcn1cclxuICAgICAgICBvbkRyb3A9e3RoaXMuX29uRHJvcH1cclxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX29uRHJhZ0VuZH1cclxuICAgICAgPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRyb3BwZWRFbGVtZW50cy5tYXAoKGUsIGkpID0+IChcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhZ0l0ZW0oe1xyXG4gICAgICAgICAgICAgIC4uLmUsXHJcbiAgICAgICAgICAgICAgaW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgc3BhY2VBdmFpbGFibGUsXHJcbiAgICAgICAgICAgICAgaW5pdERvbmU6IHRoaXMuc3RhdGUuaW5pdERvbmUsXHJcbiAgICAgICAgICAgICAgZHJvcHpvbmVQcm9wczoge1xyXG4gICAgICAgICAgICAgICAgaW5pdERvbmU6IHRoaXMuc3RhdGUuaW5pdERvbmUsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRJRDogZS5pZFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICkpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAhZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA/XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImRyb3B6b25lLXBsYWNlaG9sZGVyXCI+e3BsYWNlaG9sZGVyfTwvcD4gOiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5Ecm9wem9uZS5wcm9wVHlwZXMgPSB7XHJcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBjYXBhY2l0eTogUHJvcFR5cGVzLm51bWJlcixcclxuICBvbkRyb3A6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uRWxlbWVudE1vdmU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGFsbG93SG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXHJcbiAgaW5pdGlhbEVsZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZihPYmplY3QpLFxyXG4gIHBhcmVudElEOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5vbmVPZihbXHJcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgUHJvcFR5cGVzLm5vZGVcclxuICBdKVxyXG59O1xyXG5cclxuRHJvcHpvbmUuZGVmYXVsdFByb3BzID0ge1xyXG4gIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgcGxhY2Vob2xkZXI6ICdEcm9wIEhlcmUnLFxyXG4gIG9uRWxlbWVudE1vdmU6ICgpID0+ICh0cnVlKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJvcHpvbmU7XHJcbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBWZXJ5IGJhc2ljIHN0eWxlICovXFxyXFxuXFxyXFxuLyogUHJldmVudCB0aGUgdGV4dCBjb250ZW50cyBvZiBkcmFnZ2FibGUgZWxlbWVudHMgZnJvbSBiZWluZyBzZWxlY3RhYmxlLiAqL1xcclxcbltkcmFnZ2FibGVdIHtcXHJcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuXFxyXFxuICAvKiBSZXF1aXJlZCB0byBtYWtlIGVsZW1lbnRzIGRyYWdnYWJsZSBpbiBvbGQgV2ViS2l0ICovXFxyXFxuICAta2h0bWwtdXNlci1kcmFnOiBlbGVtZW50O1xcclxcbiAgLXdlYmtpdC11c2VyLWRyYWc6IGVsZW1lbnQ7XFxyXFxufVxcclxcblxcclxcbi8qIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzIHdoZW4gdXNlciBkcmFnZ2luZyBvdmVyIG9uIGl0ICovXFxyXFxuLmluc2lkZSB7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXHJcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94Lmluc2lkZSxcXHJcXG4uZHJvcHpvbmUuaW5zaWRlLm5vLXNwYWNlIHtcXHJcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC41KTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxyXFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjc1KTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyb3B6b25lIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZjBmYWZmO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgIzAyNzdiZDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyb3B6b25lLmVtcHR5IHtcXHJcXG4gIHBhZGRpbmc6IDQwcHg7XFxyXFxufVxcclxcblxcclxcbi5wYWxldHRlIHtcXHJcXG4gIHBhZGRpbmc6IDEwcHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMTU3OWI7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0ge1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGNvbG9yOiAjMDE1NzliO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmM7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDE1NzliO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5saW5lLmRyYWctaXRlbSB7XFxyXFxuICB3aWR0aDogMTAwcHg7XFxyXFxuICBtYXJnaW46IDAgMTBweDtcXHJcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG59XFxyXFxuXFxyXFxuLmRyb3B6b25lLXBsYWNlaG9sZGVyIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgY29sb3I6ICMwMTU3OWI7XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICBsZWZ0OiAwO1xcclxcbiAgdG9wOiBjYWxjKDUwJSAtIDEwcHgpO1xcclxcbiAgYW5pbWF0aW9uLW5hbWU6IGNoYW5nZUNvbG9yO1xcclxcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAycztcXHJcXG4gIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xcclxcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgY2hhbmdlQ29sb3Ige1xcclxcbiAgMjUlIHtcXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIDc1JSB7XFxyXFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxyXFxuICAgIG9wYWNpdHk6IDAuNTtcXHJcXG4gIH1cXHJcXG59XFxyXFxuXFxyXFxuLnBhbGV0dGUtd3JhcHBlciAuZHJhZy1pdGVtIHtcXHJcXG4gIGNvbG9yOiAjZmZmO1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAxNTc5YjtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWctaXRlbSArIGRpdiB7XFxyXFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtLmFmdGVyLFxcclxcbi5kcmFnLWl0ZW0uYmVmb3JlIHtcXHJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWctaXRlbS5hZnRlcjo6YWZ0ZXIge1xcclxcbiAgY29udGVudDogJyc7XFxyXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICB3aWR0aDogNTAlO1xcclxcbiAgaGVpZ2h0OiAxcHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjMTRiNDUxO1xcclxcbiAgbGVmdDogNTAlO1xcclxcbiAgYm90dG9tOiAtMXB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxyXFxuICAtbW96LWJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxyXFxuICBib3gtc2hhZG93OiAwcHggNHB4IDEwcHggMHB4IHJnYmEoMjAsIDE4MCwgODEsIDEpO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtLmJlZm9yZTo6YmVmb3JlIHtcXHJcXG4gIGNvbnRlbnQ6ICcnO1xcclxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgd2lkdGg6IDUwJTtcXHJcXG4gIGhlaWdodDogMXB4O1xcclxcbiAgYmFja2dyb3VuZDogIzE0YjQ1MTtcXHJcXG4gIGxlZnQ6IDUwJTtcXHJcXG4gIHRvcDogLTFweDtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXHJcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xcclxcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcclxcbiAgYm94LXNoYWRvdzogMHB4IC0xcHggMTBweCAwLjNweCByZ2JhKDIzLCAxODAsIDgxLCAxKTtcXHJcXG59XFxyXFxuXFxyXFxuLmlubGluZS5kcmFnLWl0ZW0uYmVmb3JlOjpiZWZvcmUge1xcclxcbiAgd2lkdGg6IDFweDtcXHJcXG4gIGhlaWdodDogNTAlO1xcclxcbiAgbGVmdDogLTFweDtcXHJcXG4gIHJpZ2h0OiB1bnNldDtcXHJcXG4gIHRvcDogNTAlO1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxyXFxufVxcclxcblxcclxcbi5pbmxpbmUuZHJhZy1pdGVtLmFmdGVyOjphZnRlciB7XFxyXFxuICB3aWR0aDogMXB4O1xcclxcbiAgaGVpZ2h0OiA1MCU7XFxyXFxuICByaWdodDogLTFweDtcXHJcXG4gIGxlZnQ6IHVuc2V0O1xcclxcbiAgdG9wOiB1bnNldDtcXHJcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94IHtcXHJcXG4gIHBhZGRpbmc6IDMwcHggMTBweDtcXHJcXG4gIG1hcmdpbjogMTBweCAwO1xcclxcbiAgY29sb3I6ICNiNzFjMWM7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZmZjZGQyO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgI2I3MWMxYztcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcbmltcG9ydCBzdGF0ZSBmcm9tICcuLi8uLi9jb3JlL3N0YXRlJztcclxuXHJcbmNsYXNzIFByZXZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VycmVudFN0YXRlOiBzdGF0ZS5nZXRTdGF0ZSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpO1xyXG4gICAgc3RhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9vblN0YXRlQ2hhbmdlKTtcclxuICB9XHJcblxyXG4gIC8vIGtlZXAgdHJhY2sgb2Ygc3RhdGUgdHJlZSBjaGFuZ2VzXHJcbiAgX29uU3RhdGVDaGFuZ2UgPSAobmV3U3RhdGUpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjdXJyZW50U3RhdGU6IG5ld1N0YXRlXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHJlY3VyZXNpdmUgZnVuY3Rpb24gdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBub2RlIG9mIHN0YXRlIHRyZWUgYW5kXHJcbiAgICogcmVuZGVyIGFwcHJvcHJhdGUgY29tcG9uZW50IGFuZCBwYXNzIG5lY2Vzc2FyeSBwcm9wc1xyXG4gICAqIEBwYXJhbSBlbGVtZW50IHtPYmplY3R9IC0gaW5mb21hdGlvbiBvZiBzdGF0ZSB0cmVlIG5vZGVcclxuICAgKiBAcmV0dXJucyB7SlNYfSAtIFByZXZpZXcvSlNYIHJlcHJlc2VudGF0aW9uIG9mIGN1cnJlbnQgc3RhdGUgdHJlZVxyXG4gICAqL1xyXG4gIF9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZSA9IChlbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IHt9O1xyXG4gICAgY29uc3QgZWxlbWVudERhdGEgPSB0aGlzLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHNcclxuICAgICAgLmZpbmQoZSA9PiBlLnR5cGUgPT09IGVsZW1lbnQudHlwZSk7XHJcblxyXG4gICAgLy8gZWxlbWVudCBoYXMgc3ViIGZpZWxkcywgcmVuZGVyIHRob3NlIGZpZWxkcyBmaXJzdFxyXG4gICAgLy8gYW5kIHRoZW4gY29tZSBiYWNrIHRvIGN1cnJlbnQgZmllbGRcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQuZmllbGRzKSkge1xyXG4gICAgICBlbGVtZW50LmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICAgIGNoaWxkcmVuW2ZpZWxkLmRyb3B6b25lSURdID0gY2hpbGRyZW5bZmllbGQuZHJvcHpvbmVJRF0gfHwgW107XHJcbiAgICAgICAgY2hpbGRyZW5bZmllbGQuZHJvcHpvbmVJRF0gPSBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXVxyXG4gICAgICAgICAgLmNvbmNhdCh0aGlzLl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZShmaWVsZCkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZW5kZXIgY29ycmVzcG9uZGluZyBjb21wb25lbnQgYW5kIHBhc3MgbmVjZXNzYXJ5IHByb3BzXHJcbiAgICAvLyBzaG93UHJldmlldyBpcyBtYW5kYXRvcnlcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxlbGVtZW50RGF0YS5jb21wb25lbnRcclxuICAgICAgICBpZD17ZWxlbWVudC5pZH1cclxuICAgICAgICBrZXk9e2VsZW1lbnQuaWR9XHJcbiAgICAgICAgY2hpbGROb2RlPXtjaGlsZHJlbn1cclxuICAgICAgICB7Li4ueyAuLi5lbGVtZW50LCBzaG93UHJldmlldzogdHJ1ZSwgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UgfX1cclxuICAgICAgLz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCByb290ID0gdGhpcy5zdGF0ZS5jdXJyZW50U3RhdGVbMF07XHJcblxyXG4gICAgLy8gaWYgeW91IHdhbnQgbW9yZSBmbGV4aWJsaXR5XHJcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oe1xyXG4gICAgICAgIGNoaWxkcmVuOiByb290LmZpZWxkcy5tYXAodGhpcy5fcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0YW5kYXJkIHJlbmRlciAtIG9ubHkgPFByZXZpZXcgLz4gYW5kIGRvbmVcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJldmlldy1jb250YWluZXJcIj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICByb290LmZpZWxkcy5tYXAodGhpcy5fcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5QcmV2aWV3LnByb3BUeXBlcyA9IHtcclxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByZXZpZXc7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xyXG5cclxuY2xhc3MgVHJhc2ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgLy8gY3JlYXRlIHJlZnJlbmNlIGZvciB0cmFzaFxyXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiB0cmFzaCBib3ggb3Igbm90XHJcbiAgICB0aGlzLnRyYXNoUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB0b2dnbGUvbWFuYWdlIGNsYXNzKGluc2lkZSlcclxuICAgKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhc1xyXG4gICAqIEBwYXJhbSB0YXJnZXQge0RPTX0gLSBjdXJyZW50IGNhbnZhcyB1cG9uIHdoaWNoIHVzZSBpcyBob3ZlcmluZ1xyXG4gICAqIEBwYXJhbSBhY3Rpb24ge1N0cmluZ30gLSBhZGQvcmVtb3ZlIC0gbmFtZSBvZiBhY3Rpb25cclxuICAgKi9cclxuICBfbWFuYWdlSW5zaWRlQ2xhc3MgPSAoeyB0YXJnZXQgfSwgYWN0aW9uKSA9PiB7XHJcbiAgICBpZiAodGhpcy50cmFzaFJlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdFthY3Rpb25dKCdpbnNpZGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9vbkRyb3AgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAvLyBnZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICBjb25zdCBlbGVtZW50VG9CZVRyYXNoZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcblxyXG4gICAgLy8gZG9udCBhbGxvdyBlbGVtZW50cyB3aGljaCBkaXJlY3RseSBjb21pbmcgZnJvbSBwYWxldHRlXHJcbiAgICBpZiAoIWVsZW1lbnRUb0JlVHJhc2hlZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBvbkJlZm9yZVRyYXNoLCBvbkFmdGVyVHJhc2ggfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQgfSA9IGVsZW1lbnRUb0JlVHJhc2hlZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IG9uQmVmb3JlVHJhc2goZWxlbWVudFRvQmVUcmFzaGVkKTtcclxuXHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcblxyXG4gICAgLy8gdXNlciB0cmllZCBhbmQgY29uZmlybSB0byByZW1vdmUgZWxlbWVudFxyXG4gICAgaWYgKHN0YXR1cyAmJiBjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpKSB7XHJcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gY3VycmVudCBjYW52YXNcclxuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50VG9CZVRyYXNoZWQuZWxlbWVudElELCAoKSA9PiB7XHJcbiAgICAgICAgLy8gYWNrbm93bGVkZ2VcclxuICAgICAgICBvbkFmdGVyVHJhc2goKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBkb25lIGRyYWdnaW5nLCBmbHVzaCB0aGUgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVzZXQgYXR0ZW1wdCB0byByZW1vdmVcclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgdHJhc2hcclxuICAvLyBgcHJldmVudERlZmF1bHRgIC0gUmVxdWlyZWQuIEFsbG93cyB1cyB0byBkcm9wLlxyXG4gIC8vIEBwYXJhbSBlIHtldmVudH1cclxuICBfb25EcmFnT3ZlciA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGxlYXZpbmcgdGhlIHRyYXNoXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdHJhc2hcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuXHJcbiAgICBpZiAoZWxlbWVudFRvQmVUcmFzaGVkKSB7XHJcbiAgICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdhZGQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICByZWY9e3RoaXMudHJhc2hSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwidHJhc2gtYm94XCJcclxuICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5fb25EcmFnTGVhdmV9XHJcbiAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMuX29uRHJhZ0VudGVyfVxyXG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XHJcbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XHJcbiAgICAgID5cclxuICAgICAgICB7IHRoaXMucHJvcHMuY2hpbGRyZW4gfHwgPHNwYW4+VHJhc2ggQm94PC9zcGFuPiB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblRyYXNoLnByb3BUeXBlcyA9IHtcclxuICBvbkJlZm9yZVRyYXNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkFmdGVyVHJhc2g6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5lbGVtZW50KSxcclxuICAgIFByb3BUeXBlcy5lbGVtZW50XHJcbiAgXSksXHJcbn07XHJcblxyXG5UcmFzaC5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgb25CZWZvcmVUcmFzaDogKCkgPT4gKHRydWUpLFxyXG4gIG9uQWZ0ZXJUcmFzaDogKCkgPT4gKHRydWUpXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFzaDtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBQYWxldHRlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byByZW5kZXIgdGhlIGRyYWdnZWQgZWxlbWVudFxyXG4gICAqIEBwYXJhbSBwcm9wcyB7T2JqZWN0fSAtIEFuIG9iamVjdCB3aGljaCBob2xkIHRoZSBpbmZvIG9mIGRyYWdnZWQgZWxlbWVudC9jb21wb25lbnRcclxuICAgKiBAcmV0dXJucyBKU1hcclxuICAgKi9cclxuICBfcmVuZGVyTGlzdCA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpLmZpbmQoZSA9PiBlLnR5cGUgPT09IHByb3BzLnR5cGUpO1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPyA8ZWxlbWVudC5jb21wb25lbnQgey4uLnByb3BzfSAvPiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHBhbGV0dGVFbGVtZW50cyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbGV0dGVcIj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBwYWxldHRlRWxlbWVudHMubWFwKGl0ZW0gPT4gKFxyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJMaXN0KHsgLi4uaXRlbSwga2V5OiBpdGVtLmlkLCBzaG93QmFzaWNDb250ZW50OiB0cnVlIH0pXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuUGFsZXR0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgcGFsZXR0ZUVsZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZigocHJvcFZhbHVlKSA9PiB7XHJcbiAgICBsZXQgaXNFcnJvciA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGFsbCBwYWxldHRlIGVsZW1lbnRzIHNob3VsZCBoYXZlIHVuaXF1ZSBJRFxyXG4gICAgcHJvcFZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uaWQpIHtcclxuICAgICAgICBpc0Vycm9yID0gJ2BpZGAgaXMgcmVxdWlyZWQgaW4gYWxsIHBhbGV0dGUgZWxlbWVudCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wVmFsdWUuZmlsdGVyKGkgPT4gaS5pZCA9PT0gaXRlbS5pZCkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBvZiBwYWxldHRlIGVsZW1lbnQgc2hvdWxkIGJlIHVuaXF1ZSc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Vycm9yID8gbmV3IEVycm9yKGlzRXJyb3IpIDogdHJ1ZTtcclxuICB9KVxyXG59O1xyXG5cclxuUGFsZXR0ZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgcGFsZXR0ZUVsZW1lbnRzOiBbXVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFsZXR0ZTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBEcmFnZ2FibGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5kcmFnRWxlbVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGUgb25jZSBwYXJlbnQgc3RhdGUgaW5pdGlhbGlzYXRpb24gaXMgZG9uZVxyXG4gICAgaWYgKHRoaXMucHJvcHMuaW5pdERvbmUgIT09IG5leHRQcm9wcy5pbml0RG9uZSAmJiBuZXh0UHJvcHMuaW5pdERvbmUpIHtcclxuICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2RyYWdFbmQgPSAoZSkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJywgJ2FmdGVyJyk7XHJcblxyXG4gICAgLy8gZG9uZSBkcmFnZ2luZywgcmVzZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICBjb3JlLnNldERyYWdnZWRFbGVtZW50KG51bGwpO1xyXG4gIH1cclxuXHJcbiAgX2RyYWdTdGFydCA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGZpZWxkcyxcclxuICAgICAgcGF5bG9hZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgcmVtb3ZlRWxlbWVudCxcclxuICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBpZCxcclxuICAgICAgdHlwZSxcclxuICAgICAgbmFtZSxcclxuICAgICAgcGF5bG9hZFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZmllbGRzKSB7XHJcbiAgICAgIGRhdGEuZmllbGRzID0gZmllbGRzO1xyXG4gICAgfVxyXG5cclxuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnY29weSc7XHJcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOyAvLyByZXF1aXJlZCwgd2UgY2Fubid0IHBhc3MgSlMgb2JqZWN0XHJcblxyXG4gICAgLy8gaWYgZWxlbWVudCBpcyBhbHJlYWR5IHByZXNlbnQgaW4gc29tZSBjYW52YXNcclxuICAgIC8vIHRoZW4gc2V0IGRyYWdnZWRFbGVtZW50LCBzbyB0aGF0IHRoaXMgd2lsbCBoZWxwIHRvIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHByZXZpb3VzIGNhbnZhc1xyXG4gICAgaWYgKGRyb3B6b25lSUQpIHtcclxuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudCh7XHJcbiAgICAgICAgZWxlbWVudElEOiBpZCxcclxuICAgICAgICBkcm9wem9uZUlELFxyXG4gICAgICAgIHJlbW92ZUVsZW1lbnQsXHJcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gc2V0IGRyb3AgcG9zaXRpb24uXHJcbiAgICogZmlyc3QgZmluZSBtaWQgb2YgZWxlbWVudCB1cG9uIHdoaWNoIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBhbmRcclxuICAgKiBiYXNlZCBvbiB0aGF0IGRlY2lkZSB3aGV0aGVyIHVzZXIgdHJ5aW5nIHRvIGRyb3AgYW4gZWxlbWVudCBhYm92ZSBvciBiZWxvd1xyXG4gICAqL1xyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1Db3JkID0gdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGlmICghdGhpcy5wcm9wcy5zcGFjZUF2YWlsYWJsZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYWxsb3dIb3Jpem9udGFsKSB7XHJcbiAgICAgIGNvbnN0IGRyYWdFbGVtWCA9IGUuY2xpZW50WDtcclxuICAgICAgaWYgKGRyYWdFbGVtWCA+PSBlbGVtQ29yZC54ICYmIGRyYWdFbGVtWCA8PSBlbGVtQ29yZC54ICsgZWxlbUNvcmQud2lkdGgpIHtcclxuICAgICAgICBjb25zdCBtaWRYID0gZWxlbUNvcmQueCArIGVsZW1Db3JkLndpZHRoIC8gMjtcclxuICAgICAgICBpZiAoZHJhZ0VsZW1YIDwgbWlkWCkge1xyXG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyJyk7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYmVmb3JlJyk7XHJcbiAgICAgICAgICBjb3JlLnNldERyb3BQb3N0aW9uKHRoaXMucHJvcHMuaW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJyk7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYWZ0ZXInKTtcclxuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZHJhZ0VsZW1ZID0gZS5jbGllbnRZO1xyXG4gICAgICBpZiAoZHJhZ0VsZW1ZID49IGVsZW1Db3JkLnkgJiYgZHJhZ0VsZW1ZIDw9IGVsZW1Db3JkLnkgKyBlbGVtQ29yZC5oZWlnaHQpIHtcclxuICAgICAgICBjb25zdCBtaWRZID0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCAvIDI7XHJcbiAgICAgICAgaWYgKGRyYWdFbGVtWSA8IG1pZFkpIHtcclxuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdhZnRlcicpO1xyXG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2JlZm9yZScpO1xyXG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScpO1xyXG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2FmdGVyJyk7XHJcbiAgICAgICAgICBjb3JlLnNldERyb3BQb3N0aW9uKHRoaXMucHJvcHMuaW5kZXggKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9vbkRyYWdMZWF2ZSA9ICgpID0+IHtcclxuICAgIC8vIHJlbW92ZSBiZWZvcmUvYWZ0ZXIgY2xhc3MgZnJvbSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnLCAnYWZ0ZXInKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgZWxlbWVudFByb3BzLCBkcmFnZ2FibGUsIGFsbG93SG9yaXpvbnRhbCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBlID0gbnVsbDtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5kcm9wem9uZUlEKSB7XHJcbiAgICAgIC8vIGFkZCB0aGlzIHJlcXVpcmVkIGZ1bmN0aW9uIG9ubHkgaWYgZWxlbWVudCBpcyBkcm9wcGVkIGluIGNhbnZhc1xyXG4gICAgICBlID0ge1xyXG4gICAgICAgIG9uRHJhZ092ZXI6IHRoaXMuX29uRHJhZ092ZXIsXHJcbiAgICAgICAgb25EcmFnTGVhdmU6IHRoaXMuX29uRHJhZ0xlYXZlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRyYWdnYWJsZSkge1xyXG4gICAgICBlID0ge1xyXG4gICAgICAgIC4uLmUsXHJcbiAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy5kcmFnRWxlbVJlZn1cclxuICAgICAgICBjbGFzc05hbWU9e2BkcmFnLWl0ZW0gJHthbGxvd0hvcml6b250YWwgPyAnaW5saW5lJyA6ICcnfWB9XHJcbiAgICAgICAgb25EcmFnU3RhcnQ9e3RoaXMuX2RyYWdTdGFydH1cclxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX2RyYWdFbmR9XHJcbiAgICAgICAgey4uLmVsZW1lbnRQcm9wc31cclxuICAgICAgICB7Li4uZX1cclxuICAgICAgPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRyYWdnYWJsZS5wcm9wVHlwZXMgPSB7XHJcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGluaXREb25lOiBQcm9wVHlwZXMuYm9vbCxcclxuICBpbmRleDogUHJvcFR5cGVzLm51bWJlcixcclxuICBhbGxvd0hvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxyXG4gIGZpZWxkczogUHJvcFR5cGVzLmluc3RhbmNlT2YoQXJyYXkpLFxyXG4gIGRyYWdnYWJsZTogUHJvcFR5cGVzLmJvb2wsXHJcbiAgc3BhY2VBdmFpbGFibGU6IFByb3BUeXBlcy5ib29sLFxyXG4gIHVwZGF0ZVN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBkcm9wem9uZUlEOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHBheWxvYWQ6IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9iamVjdCksXHJcbiAgZWxlbWVudFByb3BzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihPYmplY3QpLFxyXG4gIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZWxlbWVudCksXHJcbiAgICBQcm9wVHlwZXMuZWxlbWVudFxyXG4gIF0pLmlzUmVxdWlyZWQsXHJcbiAgcmVtb3ZlRWxlbWVudDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuRHJhZ2dhYmxlLmRlZmF1bHRQcm9wcyA9IHtcclxuICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6ICgpID0+ICh0cnVlKSxcclxuICBlbGVtZW50UHJvcHM6IG51bGwsXHJcbiAgcGF5bG9hZDogbnVsbCxcclxuICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgdXBkYXRlU3RhdGU6ICgpID0+ICh0cnVlKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xyXG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgRHJvcHpvbmUgZnJvbSAnLi4vRHJvcHpvbmUvRHJvcHpvbmUnO1xyXG5cclxuLy8gZnVuY3Rpb25hbCBjb21wb25lbnQgd2hpY2ggZXh0ZW5kcyBEcm9wem9uZSBidXQgd2l0aCBzb21lIGZpeGVkIHByb3BlcnRpZXMgLSBpZCBhbmQgcGFyZW50SURcclxuLy8gYm90aCBwcm9wcyBzZXQgdG8gYHJvb3RgIC0gcmVxdWlyZWQgc2luY2UgYXBwbGljYXRpb24gc3RhdGUgaG9sZHMgYHJvb3RgIGFzIHBhcmVudCBub2RlXHJcbi8vIGRlZmF1bHQgaW5pdERvbmUgc2V0IHRvIHRydWVcclxuY29uc3QgQ2FudmFzID0gcHJvcHMgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPVwibWFpbi1jYW52YXNcIj5cclxuICAgIDxEcm9wem9uZSB7Li4ucHJvcHN9IHBhcmVudElEPVwicm9vdFwiIGlkPVwicm9vdFwiIGluaXREb25lIC8+XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XHJcbiIsIi8vIGltcG9ydCBhbGwgY29tcG9uZW50c1xyXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY29tcG9uZW50cy9DYW52YXMvQ2FudmFzJztcclxuaW1wb3J0IERyb3B6b25lIGZyb20gJy4vY29tcG9uZW50cy9Ecm9wem9uZS9Ecm9wem9uZSc7XHJcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSAnLi9jb21wb25lbnRzL0RyYWdnYWJsZS9EcmFnZ2FibGUnO1xyXG5pbXBvcnQgUGFsZXR0ZSBmcm9tICcuL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlJztcclxuaW1wb3J0IFRyYXNoIGZyb20gJy4vY29tcG9uZW50cy9UcmFzaC9UcmFzaCc7XHJcbmltcG9ydCBQcmV2aWV3IGZyb20gJy4vY29tcG9uZW50cy9QcmV2aWV3L1ByZXZpZXcnO1xyXG5cclxuLy8gaW1wb3J0IGFsbCBBUEknc1xyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi9jb3JlL3N0YXRlJztcclxuaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlL2NvcmUnO1xyXG5cclxuLy8gaW1wb3J0IGJhc2ljIHN0eWxlXHJcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgLy8gYWxsIGNvbXBvbmVudHNcclxuICBDYW52YXMsXHJcbiAgRHJvcHpvbmUsXHJcbiAgRHJhZ2dhYmxlLFxyXG4gIFBhbGV0dGUsXHJcbiAgVHJhc2gsXHJcbiAgUHJldmlldyxcclxuXHJcbiAgLy8gYWxsIG9wZW4gQVBJJ3NcclxuICBzdGF0ZSxcclxuICBjb3JlLFxyXG5cclxuICAvLyBzaW5jZSB0aGlzIGlzIHJldWlyZWQgZnVuY3Rpb24sIGtlZXBpbmcgc2VwcmF0ZVxyXG4gIHJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzOiBjb3JlLnJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzXHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=
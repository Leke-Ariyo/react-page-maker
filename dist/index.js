module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements},this.setDropPostion=function(e){t.dropPosition=e},this.getDropPostion=function(){return t.dropPosition},this.error=function(e){return console.error(e),!1},this.log=function(e){return console.log(e),!0}};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(17)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n={change:[]};t.tree=[{id:"root",fields:[]}];var r=function(){n.change.forEach(function(e){return e(t.tree)})};this.updateState=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var l=[];i.fields.filter(function(e){return e.dropzoneID===n}).length!==o.length?i.fields=o.concat(i.fields.filter(function(e){return e.dropzoneID!==n})):(o.forEach(function(e){-1===i.fields.findIndex(function(t){return t.id===e.id})&&l.push(e)}),l.length||(i.fields=o)),l.length&&(i.fields=i.fields.concat(l))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var u=0;u<a.length;u++){var f=a[u].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,o),a(t.tree),r()};this.getState=function(){return t.tree},this.getStorableState=function(){return t.tree[0].fields.map(function(e){return function e(t){var n=[],r={};return Object.keys(t).forEach(function(e){"function"!=typeof t[e]&&(r[e]=t[e])}),t.fields&&t.fields.length&&t.fields.forEach(function(t){n.push(e(t))}),n.length&&(r.initialElements=[],r.fields=[],n.forEach(function(e){r.initialElements.push(e),r.fields.push(e)})),r}(e)})},this.clearState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.tree[0],o=n.fields.length;return n.fields.length||(r(),e()),n.fields.forEach(function(t,n){t.flushDroppedElements(function(){n===o-1&&(r(),e())})}),!0},this.addEventListener=function(e,t){var r=null;return"function"!=typeof t?(a.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(n,e)?(n[e].push(t),r=t):a.default.error("No such event"),r)},this.removeEventListener=function(e,t){Object.prototype.hasOwnProperty.call(n,e)?n[e]=n[e].filter(function(e){return e!==t}):a.default.error("No such event")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),l=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[],initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props,o=n.capacity,a=n.id,s=n.placeholder,l=!o||o>t.length;return i.default.createElement("div",{ref:this.canvasRef,className:(l?"":"no-space")+" "+("root"===a?"canvas":"")+" "+(t.length?"":"empty")+" dropzone",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t,n){return e._renderDragItem(r({},t,{index:n,spaceAvailable:l,initDone:e.state.initDone,dropzoneProps:{initDone:e.state.initDone,parentID:t.id}}))}),t.length?null:i.default.createElement("p",{className:"dropzone-placeholder"},s))}}]),t}(),p=function(){var e=this;this.dangerouslySetElements=function(t,n){var o=[];o="function"==typeof t?t(e.state.droppedElements)||[]:t;var a=e.props.id;o=o.map(function(t){return r({},t,{dropzoneID:a,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})}),e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(n)})},this._unmarkDragElements=function(){[].forEach.call(e.canvasRef.current.querySelectorAll(".drag-item"),function(e){return e.classList.remove("before","after")})},this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initDone&&!e.state.initialElements.length){var n=e.props.id,o=t.map(function(t){return r({},t,{key:t.id,dropzoneID:n,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(function(){e.setState({initDone:!0})})})}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==r})},function(){return e._updateState(n)})},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.id,o=n.parentID;l.default.updateState(r,o,e.state.droppedElements,t)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({initialElements:[],droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=u.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!u.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault(),e.stopPropagation()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),u.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),u.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation();var n=e.state.droppedElements;u.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var o=e.props.onDrop,a=JSON.parse(t.dataTransfer.getData("data"));return a=r({},a),e._unmarkDragElements(),o?o(a,e._addElement,{dropIndex:n.length?0:u.default.getDropPostion()+1,currentElements:n}):e._addElement(a)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=n.allowHorizontal,s=u.default.getDropPostion(),l=u.default.getDraggedElement(),f=!t||!t.id,d=-1,p=t.id&&e.state.droppedElements.filter(function(e,n){return e.id===t.id&&(d=n,!0)}).length,m=d===s,h=[].concat(e.state.droppedElements),g=!1;if(f||p){if(m)return u.default.error("Duplicate or invalid ID");g=!0,h=h.map(function(e){return e.id===t.id?r({},e,{remove:!0}):e})}var v=r({},t,{key:t.id,dropzoneID:o,allowHorizontal:i,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,initialElements:e.state.initialElements,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement});return h=s>0?[].concat(c(h.slice(0,s)),[v],c(h.slice(s))):[v].concat(c(h)),m||(h=h.filter(function(e){return!e.remove})),a&&h.length>a?u.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:h},function(){!g&&l&&"function"==typeof l.checkAndRemoveElement&&l.checkAndRemoveElement(),e._updateState()}),e.canvasRef.current.classList.add("dropping"),setTimeout(function(){e.canvasRef.current.classList.remove("dropping")},500),{dropzoneID:o,elements:h})},this._renderDragItem=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};d.propTypes={id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,allowHorizontal:s.default.bool,initialElements:s.default.arrayOf(Object),parentID:s.default.string.isRequired,placeholder:s.default.oneOfType([s.default.string,s.default.node])},d.defaultProps={initialElements:[],placeholder:"Drop Here",onElementMove:function(){return!0}},t.default=d},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,f=[],c=n(5);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=l||(l=g(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\r\n\r\n/* Prevent the text contents of draggable elements from being selectable. */\r\n[draggable] {\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n\r\n  /* Required to make elements draggable in old WebKit */\r\n  -khtml-user-drag: element;\r\n  -webkit-user-drag: element;\r\n}\r\n\r\n/* class gets appended to canvas when user dragging over on it */\r\n.inside {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n}\r\n\r\n.trash-box.inside,\r\n.dropzone.inside.no-space {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n}\r\n\r\n.dropzone {\r\n  width: 100%;\r\n  padding: 10px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  background: #f0faff;\r\n  border: 1px solid #0277bd;\r\n}\r\n\r\n.dropzone.empty {\r\n  padding: 40px;\r\n}\r\n\r\n.palette {\r\n  padding: 10px;\r\n  background: #fff;\r\n  box-sizing: border-box;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.drag-item {\r\n  padding: 10px;\r\n  color: #01579b;\r\n  box-sizing: border-box;\r\n  background-color: #b3e5fc;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.inline.drag-item {\r\n  margin: 0 10px;\r\n  display: inline-block;\r\n}\r\n\r\n.dropzone-placeholder {\r\n  width: 100%;\r\n  color: #01579b;\r\n  text-align: center;\r\n  position: absolute;\r\n  left: 0;\r\n  top: calc(50% - 10px);\r\n  animation-name: changeColor;\r\n  animation-duration: 2s;\r\n  animation-timing-function: ease-in-out;\r\n  animation-iteration-count: infinite;\r\n}\r\n\r\n@keyframes changeColor {\r\n  25% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n\r\n  75% {\r\n    transform: scale(1);\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n.palette-wrapper .drag-item {\r\n  color: #fff;\r\n  background-color: #01579b;\r\n}\r\n\r\n.drag-item + div {\r\n  margin-top: 10px;\r\n}\r\n\r\n.drag-item.after,\r\n.drag-item.before {\r\n  position: relative;\r\n}\r\n\r\n.drag-item.after::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  bottom: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  -moz-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n}\r\n\r\n.drag-item.before::before {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  top: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  -moz-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n}\r\n\r\n.inline.drag-item.before::before {\r\n  width: 1px;\r\n  height: 50%;\r\n  left: -1px;\r\n  right: unset;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n}\r\n\r\n.inline.drag-item.after::after {\r\n  width: 1px;\r\n  height: 50%;\r\n  right: -1px;\r\n  left: unset;\r\n  top: unset;\r\n  transform: translate(0, -50%);\r\n}\r\n\r\n.trash-box {\r\n  padding: 30px 10px;\r\n  margin: 10px 0;\r\n  color: #b71c1c;\r\n  background: #ffcdd2;\r\n  text-align: center;\r\n  border: 1px solid #b71c1c;\r\n}\r\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),i=u(n(2)),s=u(n(0)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStateChange=function(e){n.setState({currentState:e})},n._renderElementInPreviewMode=function(e){var t={},o=n.registeredPaletteElements.find(function(t){return t.type===e.type});return Array.isArray(e.fields)&&e.fields.forEach(function(e){t[e.dropzoneID]=t[e.dropzoneID]||[],t[e.dropzoneID]=t[e.dropzoneID].concat(n._renderElementInPreviewMode(e))}),a.default.createElement(o.component,r({id:e.id,key:e.id,childNode:t},r({},e,{showPreview:!0,showBasicContent:!1})))},n.state={currentState:l.default.getState()},n.registeredPaletteElements=s.default.getRegisteredPaletteElements(),l.default.addEventListener(n._onStateChange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.state.currentState[0];return"function"==typeof this.props.children?this.props.children({children:e.fields.map(this._renderElementInPreviewMode)}):a.default.createElement("div",{className:"preview-container"},e.fields.map(this._renderElementInPreviewMode))}}]),t}();f.propTypes={children:i.default.func},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=l(o),i=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,l=o(t);return n._manageInsideClass(e,"remove"),l&&s.default.getAttemptToRemove()&&(i(t.elementID,function(){a()}),s.default.setDraggedElement(null)),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();u.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},u.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragEnd=function(e){e.stopPropagation(),n.dragElemRef.current.classList.remove("before","after"),l.default.setDraggedElement(null)},n._dragStart=function(e){e.stopPropagation();var t=n.props,r=t.id,o=t.type,a=t.name,i=t.fields,s=t.payload,u=t.dropzoneID,f=t.removeElement,c=t.checkAndRemoveElement,d={id:r,type:o,name:a,payload:s};i&&(d.fields=i),e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(d)),u&&l.default.setDraggedElement({elementID:r,dropzoneID:u,removeElement:f,checkAndRemoveElement:c})},n._onDragOver=function(e){var t=n.dragElemRef.current.getBoundingClientRect();if(!n.props.spaceAvailable)return!1;if(n.props.allowHorizontal){var r=e.clientX;if(r>=t.x&&r<=t.x+t.width)r<t.x+t.width/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}else{var o=e.clientY;if(o>=t.y&&o<=t.y+t.height)o<t.y+t.height/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}return!0},n._onDragLeave=function(){n.dragElemRef.current.classList.remove("before","after")},n.dragElemRef=i.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initDone!==e.initDone&&e.initDone&&this.props.updateState()}},{key:"render",value:function(){var e=this.props,t=e.elementProps,n=e.draggable,o=e.allowHorizontal,a=null;return this.props.dropzoneID&&(a={onDragOver:this._onDragOver,onDragLeave:this._onDragLeave}),n&&(a=r({},a,{draggable:!0})),i.default.createElement("div",r({ref:this.dragElemRef,className:"drag-item "+(o?"inline":""),onDragStart:this._dragStart,onDragEnd:this._dragEnd},t,a),this.props.children)}}]),t}();f.propTypes={id:s.default.string.isRequired,name:s.default.string,initDone:s.default.bool,index:s.default.number,allowHorizontal:s.default.bool,fields:s.default.instanceOf(Array),draggable:s.default.bool,spaceAvailable:s.default.bool,updateState:s.default.func,dropzoneID:s.default.string,payload:s.default.instanceOf(Object),elementProps:s.default.instanceOf(Object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},f.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null,draggable:!0,updateState:function(){return!0}},t.default=f},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(16),o=n(15),a=n(14);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root",initDone:!0})))}},function(e,t,n){"use strict";var r=c(n(18)),o=c(n(4)),a=c(n(13)),i=c(n(12)),s=c(n(11)),l=c(n(10)),u=c(n(3)),f=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,Preview:l.default,state:u.default,core:f.default,registerPaletteElements:f.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhc2gvVHJhc2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZS9EcmFnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb3JlIiwiQ29yZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJnZXRBdHRlbXB0VG9SZW1vdmUiLCJhdHRlbXB0VG9SZW1vdmUiLCJzZXRBdHRlbXB0VG9SZW1vdmUiLCJzdGF0dXMiLCJzZXREcmFnZ2VkRWxlbWVudCIsImRyYWdnZWRFbGVtZW50IiwiZ2V0RHJhZ2dlZEVsZW1lbnQiLCJyZWdpc3RlclBhbGV0dGVFbGVtZW50cyIsInJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJnZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIiwic2V0RHJvcFBvc3Rpb24iLCJkcm9wUG9zaXRpb24iLCJnZXREcm9wUG9zdGlvbiIsImVycm9yIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZXF1aXJlIiwiX2NvcmUiLCJzdGF0ZSIsIlN0YXRlIiwiZXZlbnQiLCJjaGFuZ2UiLCJ0cmVlIiwiaWQiLCJmaWVsZHMiLCJub3RpZnlTdGF0ZUNoYW5nZSIsImZvckVhY2giLCJlIiwidXBkYXRlU3RhdGUiLCJkcm9wem9uZUlEIiwicGFyZW50SUQiLCJjYiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRyYXZlcnNlQW5kVXBkYXRlVHJlZSIsInVwZGF0ZWRGaWVsZHMiLCJtYXRjaGVkUGFyZW50Q2FudmFzIiwiZmluZCIsImZpZWxkIiwicmV0dXJuU3RhdHVzIiwiZmllbGRzVG9CZUFkZGVkIiwiZmlsdGVyIiwiZiIsImNvbmNhdCIsInVGaWVsZCIsImZpbmRJbmRleCIsInB1c2giLCJjaGlsZEZpZWxkcyIsImdldFN0YXRlIiwiZ2V0U3RvcmFibGVTdGF0ZSIsIm1hcCIsInRyYXZlcnNlQW5kVGFrZVNuYXBzaG90IiwiZWxlbWVudCIsInN1YkZpZWxkcyIsIm5lY2Vzc2FyeURldGFpbHMiLCJrZXlzIiwia2V5IiwiaW5pdGlhbEVsZW1lbnRzIiwic2YiLCJjbGVhclN0YXRlIiwicm9vdE5vZGUiLCJ0b3BMZXZlbEZpZWxkcyIsInRvcExldmVsRWxlbWVudCIsImZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInJldHVybkNCIiwiX2NvcmUyIiwiZGVmYXVsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcmVhY3QiLCJEcm9wem9uZSIsInByb3BzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwiX2luaXRpYWxpc2VQcm9wcyIsImNhbnZhc1JlZiIsIl9yZWFjdDIiLCJjcmVhdGVSZWYiLCJkcm9wcGVkRWxlbWVudHMiLCJpbml0RG9uZSIsIl9zZXRJbml0aWFsRWxlbWVudHMiLCJfcmVmIiwiX3RoaXMyIiwiX3Byb3BzIiwiY2FwYWNpdHkiLCJwbGFjZWhvbGRlciIsInNwYWNlQXZhaWxhYmxlIiwiY3JlYXRlRWxlbWVudCIsInJlZiIsImNsYXNzTmFtZSIsIm9uRHJhZ092ZXIiLCJfb25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwiX29uRHJhZ0xlYXZlIiwib25EcmFnRW50ZXIiLCJfb25EcmFnRW50ZXIiLCJvbkRyb3AiLCJfb25Ecm9wIiwib25EcmFnRW5kIiwiX29uRHJhZ0VuZCIsIl9yZW5kZXJEcmFnSXRlbSIsIl9leHRlbmRzIiwiaW5kZXgiLCJkcm9wem9uZVByb3BzIiwiZGFuZ2Vyb3VzbHlTZXRFbGVtZW50cyIsImRhdGEiLCJkb25lIiwiZWxlbWVudHMiLCJfdGhpczMiLCJzaG93QmFzaWNDb250ZW50IiwiX3VwZGF0ZVN0YXRlIiwicmVtb3ZlRWxlbWVudCIsIl9yZW1vdmVFbGVtZW50IiwiX2ZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiY2hlY2tBbmRSZW1vdmVFbGVtZW50IiwiX2NoZWNrQW5kUmVtb3ZlRWxlbWVudCIsInNldFN0YXRlIiwiX3VubWFya0RyYWdFbGVtZW50cyIsImN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiQXJyYXkiLCJpc0FycmF5IiwidXBkYXRlZEluaXRpYWxJdGVtcyIsIl9tYW5hZ2VJbnNpZGVDbGFzcyIsIl9yZWYyIiwiYWN0aW9uIiwidGFyZ2V0IiwiZWxlbWVudElEIiwiX3Byb3BzMiIsIl9zdGF0ZTIiLCJlbGVtZW50TW92ZWQiLCJvbkVsZW1lbnRNb3ZlIiwiYXR0ZW1wdFRvTW92ZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSlNPTiIsInBhcnNlIiwiZGF0YVRyYW5zZmVyIiwiZ2V0RGF0YSIsIl9hZGRFbGVtZW50IiwiZHJvcEluZGV4IiwiY3VycmVudEVsZW1lbnRzIiwidXBkYXRlZERhdGEiLCJfcHJvcHMzIiwiYWxsb3dIb3Jpem9udGFsIiwiaW52YWxpZFVwZGF0ZWREYXRhIiwiaW5kZXhPZlByZXNlbnRFbGVtZW50Iiwia2V5QWxyZWFkeVByZXNlbnQiLCJpc1NhbWVJbmRleCIsIm5ld0VsZW1lbnRzIiwiZWxlbWVudEFscmVhZHlSZW1vdmVkIiwiZWxlbWVudFRvRHJvcCIsInNsaWNlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYWRkIiwic2V0VGltZW91dCIsInR5cGUiLCJjb21wb25lbnQiLCJwcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJmdW5jIiwiYm9vbCIsImFycmF5T2YiLCJvbmVPZlR5cGUiLCJub2RlIiwiZGVmYXVsdFByb3BzIiwiY3NzIiwibG9jYXRpb24iLCJ3aW5kb3ciLCJFcnJvciIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJpbmRleE9mIiwic3RyaW5naWZ5IiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJnZXRFbGVtZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiaXRlbSIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiUHJldmlldyIsIl9vblN0YXRlQ2hhbmdlIiwibmV3U3RhdGUiLCJjdXJyZW50U3RhdGUiLCJfcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUiLCJjaGlsZHJlbiIsImVsZW1lbnREYXRhIiwiY2hpbGROb2RlIiwic2hvd1ByZXZpZXciLCJDb21wb25lbnQiLCJyb290IiwiVHJhc2giLCJ0cmFzaFJlZiIsImVsZW1lbnRUb0JlVHJhc2hlZCIsIl90aGlzJHByb3BzIiwib25CZWZvcmVUcmFzaCIsIm9uQWZ0ZXJUcmFzaCIsIlBhbGV0dGUiLCJfcmVuZGVyTGlzdCIsInBhbGV0dGVFbGVtZW50cyIsInByb3BWYWx1ZSIsImlzRXJyb3IiLCJEcmFnZ2FibGUiLCJfZHJhZ0VuZCIsImRyYWdFbGVtUmVmIiwiX2RyYWdTdGFydCIsInBheWxvYWQiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsImVsZW1Db3JkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZHJhZ0VsZW1YIiwiY2xpZW50WCIsIngiLCJ3aWR0aCIsImRyYWdFbGVtWSIsImNsaWVudFkiLCJ5IiwiaGVpZ2h0IiwibmV4dFByb3BzIiwiZWxlbWVudFByb3BzIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJpbnN0YW5jZU9mIiwidmFsaWRhdGVGb3JtYXQiLCJmb3JtYXQiLCJjb25kaXRpb24iLCJhIiwiYiIsImFyZ3MiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhhdFJldHVybnNBcmd1bWVudCIsImludmFyaWFudCIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0Iiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImFycmF5Iiwic3ltYm9sIiwiYW55Iiwib2JqZWN0T2YiLCJvbmVPZiIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsIl9Ecm9wem9uZTIiLCJDYW52YXMiXSwibWFwcGluZ3MiOiIyQkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJ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WSxFQUFBLElBRUFHLEVBQUFELFFBQUEsV0FDQSxTQUFBeVksRUFBQWhTLEVBQUFpUyxFQUFBQyxFQUFBM0wsRUFBQTRMLEVBQUFDLEdBQ0FBLElBQUFMLEdBSUFELEdBQ0EsRUFDQSxtTEFNQSxTQUFBTyxJQUNBLE9BQUFMLEVBRkFBLEVBQUFsTSxXQUFBa00sRUFNQSxJQUFBTSxHQUNBQyxNQUFBUCxFQUNBL0wsS0FBQStMLEVBQ0FoTSxLQUFBZ00sRUFDQWpNLE9BQUFpTSxFQUNBcFgsT0FBQW9YLEVBQ0FuTSxPQUFBbU0sRUFDQVEsT0FBQVIsRUFFQVMsSUFBQVQsRUFDQTlMLFFBQUFtTSxFQUNBelQsUUFBQW9ULEVBQ0FwQixXQUFBeUIsRUFDQWpNLEtBQUE0TCxFQUNBVSxTQUFBTCxFQUNBTSxNQUFBTixFQUNBbE0sVUFBQWtNLEVBQ0FPLE1BQUFQLEVBQ0FRLE1BQUFSLEdBTUEsT0FIQUMsRUFBQVEsZUFBQXZCLEVBQ0FlLEVBQUFTLFVBQUFULEVBRUFBLDhQQ3hEQWpaLEVBQUEsUUFFQUEsRUFBQSxpRUFLZSxTQUFBMkcsR0FBQSxPQUNiTyxFQUFBWCxRQUFBc0IsY0FBQSxPQUFLRSxVQUFVLGVBQ2JiLEVBQUFYLFFBQUFzQixjQUFBOFIsRUFBQXBULFFBQUFvQyxLQUFjaEMsR0FBTzNDLFNBQVMsT0FBT1AsR0FBRyxPQUFPNEQsVUFBQSxxQ0NSbkQsUUFBQXJILEVBQUEsU0FDQUEsRUFBQSxRQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBR0FBLEVBQUEsUUFDQUEsRUFBQSx1REFHQUEsRUFBQSxHQUVBRyxFQUFPRCxTQUVMMFosaUJBQ0FsVCxtQkFDQXdQLG9CQUNBTCxrQkFDQU4sZ0JBQ0FYLGtCQUdBeFIsZ0JBQ0F2QixlQUdBVyx3QkFBeUI4RCxFQUFBQyxRQUFLL0QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImNsYXNzIENvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gbWFpbiBvYmplY3Qvc3RvcmVcclxuICAgIGNvbnN0IGNvcmUgPSB7fTtcclxuXHJcbiAgICAvLyBhbGwgcHVibGljIGdldHRlci9zZXR0ZXIgZ29lcyBoZXJlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBnZXQgYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0QXR0ZW1wdFRvUmVtb3ZlID0gKCkgPT4gKGNvcmUuYXR0ZW1wdFRvUmVtb3ZlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCB1c2VyJ3MgYXR0ZW1wdCB0byByZW1vdmUgdGhlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0QXR0ZW1wdFRvUmVtb3ZlID0gKHN0YXR1cykgPT4ge1xyXG4gICAgICBjb3JlLmF0dGVtcHRUb1JlbW92ZSA9IHN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhZ2dlZEVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXREcmFnZ2VkRWxlbWVudCA9IChkcmFnZ2VkRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb3JlLmRyYWdnZWRFbGVtZW50ID0gZHJhZ2dlZEVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyYWdnZWQgZWxlbWVudFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXREcmFnZ2VkRWxlbWVudCA9ICgpID0+IChjb3JlLmRyYWdnZWRFbGVtZW50KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgLSBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMucmVnaXN0ZXJQYWxldHRlRWxlbWVudHMgPSAocmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cykgPT4ge1xyXG4gICAgICBjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgPSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiByZWdpc3RlcmVkIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBhcnJheSBvZiBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9ICgpID0+IChjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyb3AgcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkcm9wUG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXREcm9wUG9zdGlvbiA9IChkcm9wUG9zaXRpb24pID0+IHtcclxuICAgICAgY29yZS5kcm9wUG9zaXRpb24gPSBkcm9wUG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyb3AgcG9zaXRpb25cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0RHJvcFBvc3Rpb24gPSAoKSA9PiAoY29yZS5kcm9wUG9zaXRpb24pO1xyXG5cclxuICAgIC8qIGVzbGludCBuby1jb25zb2xlOjAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGdpdmUgYW4gZXJyb3IgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZXJyb3IgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gbG9nIGEgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG9nID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGNvcmUgPSBuZXcgQ29yZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlJztcclxuXHJcbmNsYXNzIFN0YXRlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIGFsbCBwcml2YXRlIHZhcmliYWxlIGdvZXMgaGVyZVxyXG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcclxuICAgIGNvbnN0IGV2ZW50ID0ge1xyXG4gICAgICBjaGFuZ2U6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldCBiYXNlXHJcbiAgICBzdGF0ZS50cmVlID0gW3tcclxuICAgICAgaWQ6ICdyb290JyxcclxuICAgICAgZmllbGRzOiBbXVxyXG4gICAgfV07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggZWFjaCBub2RlIGFuZCB1cGRhdGUgdGhlIGNvcnJlc3BvbmRpbmcgbm9kZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdXBkYXRlZEZpZWxkcyAtIG5ldyBmaWVsZHMvZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcyAtIGZpZWxkcy9lbGVtZW50cyBvZiBjdXJyZW50IGNhbnZhc1xyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVXBkYXRlVHJlZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgZmllbGRzID0gc3RhdGUudHJlZSkgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaGVkUGFyZW50Q2FudmFzID0gZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQuaWQgPT09IHBhcmVudElEKTtcclxuICAgICAgbGV0IHJldHVyblN0YXR1cyA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gZm91bmQgZWxlbWVudFxyXG4gICAgICBpZiAobWF0Y2hlZFBhcmVudENhbnZhcykge1xyXG4gICAgICAgIGlmIChkcm9wem9uZUlEID09PSBwYXJlbnRJRCkge1xyXG4gICAgICAgICAgLy8gZmlyc3QgdGltZSwgY3JlYXRlIGZpZWxkc1xyXG4gICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzIHx8ICF1cGRhdGVkRmllbGRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gdXNlciB0cmllZCB0byByZW1vdmUgZWxlbWVudHNcclxuICAgICAgICAgIGlmIChkcm9wem9uZUlEICYmIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1hdGNoZWQgY2FudmFzIGRvZXMgbm90IGhhcyBzdWNoIGZpZWxkLCBjcmVhdGUgb25lXHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgZmllbGRzVG9CZUFkZGVkID0gW107XHJcblxyXG4gICAgICAgICAgLy8gaWYgdXNlciB3b3JraW5nIG9uIG11bHRpIGRyb3B6b25lIGZpZWxkXHJcbiAgICAgICAgICBjb25zdCBtYXRjaGVkRHJvcHpvbmVGaWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEID09PSBkcm9wem9uZUlEKTtcclxuXHJcbiAgICAgICAgICBpZiAobWF0Y2hlZERyb3B6b25lRmllbGRzLmxlbmd0aCAhPT0gdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gc29tZSBvZiB0aGUgZmllbGQgZ290IGRlbGV0ZWQgZnJvbSBkcm9wem9uZVxyXG4gICAgICAgICAgICAvLyByZXBsYWNlIGFsbCBmaWVsZHMgd2l0aCBuZXcgZmllbGRzXHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkc1xyXG4gICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLmRyb3B6b25lSUQgIT09IGRyb3B6b25lSUQpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRGaWVsZHMuZm9yRWFjaCgodUZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZmllbGRJbmRleCA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXHJcbiAgICAgICAgICAgICAgICAuZmluZEluZGV4KGYgPT4gZi5pZCA9PT0gdUZpZWxkLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gdXNlciB0cnkgdG8gYWRkIG5ldyBmaWVsZFxyXG4gICAgICAgICAgICAgIGlmIChmaWVsZEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgZmllbGRzVG9CZUFkZGVkLnB1c2godUZpZWxkKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gbm8gbmV3IGZpZWxkc1xyXG4gICAgICAgICAgICBpZiAoIWZpZWxkc1RvQmVBZGRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvLyBlaXRoZXIgdXNlciBoYXMgdXBkYXRlZCB0aGUgZmllbGQgb3IgY2hhbmdlZCB0aGUgb3JkZXJcclxuICAgICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IHVwZGF0ZWRGaWVsZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBhZGQgbmV3IGZpZWxkIHRvIGV4aXN0aW5nIGFycmF5XHJcbiAgICAgICAgICBpZiAoZmllbGRzVG9CZUFkZGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzLmNvbmNhdChmaWVsZHNUb0JlQWRkZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuU3RhdHVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLyogZXNsaW50IG5vLWVsc2UtcmV0dXJuOiAwICovXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGNoaWxkRmllbGRzID0gZmllbGRzW2ldLmZpZWxkcztcclxuICAgICAgICAgIGxldCBzdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyBmaWVsZCBoYXMgc3ViLWZpZWxkcywgY2hlY2sgaW5zaWRlIHN1Yi1maWVsZHNcclxuICAgICAgICAgIGlmIChjaGlsZEZpZWxkcykge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGNoaWxkRmllbGRzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldHVyblN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBjaGFuZ2UgQ0JcclxuICAgIGNvbnN0IG5vdGlmeVN0YXRlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcclxuICAgICAgZXZlbnQuY2hhbmdlLmZvckVhY2goZSA9PiBlKHN0YXRlLnRyZWUpKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdG8gdXBkYXRlIHN0YXRlXHJcbiAgICAvLyBvbmNlIHVwZGF0ZSBkb25lLCB0cmlnZ2VycyBDQiBhbmQgbm90aWZ5U3RhdGVDaGFuZ2VcclxuICAgIHRoaXMudXBkYXRlU3RhdGUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcywgY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgICB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIGZpZWxkcyk7XHJcbiAgICAgIGNiKHN0YXRlLnRyZWUpO1xyXG4gICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGFsbCBub2RlXHJcbiAgICAvLyByZW1vdmUgYWxsIHByaXZhdGUvZnVuY3Rpb25hbCBwcm9wZXJ0aWVzXHJcbiAgICAvLyBhbmQgcmV0dXJuIGZsYXQgb2JqZWN0IGZvciBlYWNoIG5vZGVcclxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90ID0gKGVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3Qgc3ViRmllbGRzID0gW107XHJcbiAgICAgIGNvbnN0IG5lY2Vzc2FyeURldGFpbHMgPSB7fTtcclxuXHJcbiAgICAgIC8vIHJlbW92ZSBhbGwgcHJpdmF0ZS9mdW5jdGluYWwgcHJvcGVydGllc1xyXG4gICAgICBPYmplY3Qua2V5cyhlbGVtZW50KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlsc1trZXldID0gZWxlbWVudFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBjaGVjayBmb3Igc3ViIGZpZWxkcyBhbmQgcGVyZm9ybSBzYW1lIG9wZXJhdGlvbnMgcmVjdXJzaXZlbHlcclxuICAgICAgaWYgKGVsZW1lbnQuZmllbGRzICYmIGVsZW1lbnQuZmllbGRzLmxlbmd0aCkge1xyXG4gICAgICAgIGVsZW1lbnQuZmllbGRzLmZvckVhY2goKGYpID0+IHtcclxuICAgICAgICAgIHN1YkZpZWxkcy5wdXNoKHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90KGYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaWYgYXBwZW5kIGluaXRpYWxFbGVtZW50cyBhbmQgdXBkYXRlZCBmaWVsZHNcclxuICAgICAgaWYgKHN1YkZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmluaXRpYWxFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIG5lY2Vzc2FyeURldGFpbHMuZmllbGRzID0gW107XHJcblxyXG4gICAgICAgIHN1YkZpZWxkcy5mb3JFYWNoKChzZikgPT4ge1xyXG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlscy5pbml0aWFsRWxlbWVudHMucHVzaChzZik7XHJcbiAgICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmZpZWxkcy5wdXNoKHNmKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcmV0dXJuIGZsYXQgb2JqZWN0IHdoaWNoIHJlcHJlc2VudCBjdXJyZW50IG5vZGUgaW4gdHJlZVxyXG4gICAgICByZXR1cm4gbmVjZXNzYXJ5RGV0YWlscztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZXR1cm4gY3VycmVudCBzdGF0ZSBvZiB0cmVlIChhcyBpcylcclxuICAgICAqIGtlZXBpbmcgdGhpcyBmdW5jdGlvbiB0byBnaXZlIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdGF0ZSA9ICgpID0+IChzdGF0ZS50cmVlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBzdG9yYWJsZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGRvZXMgc2FtZSBqb2IgYXMgZ2V0U3RhdGUgb25seSBpdCBtYWtlIHN1cmVcclxuICAgICAqIHJldHVybmVkIGRhdGEgaXMgaW4gcHJvcGVyIGZvcm1hdCBhbmQgdW5lY2Vzc2FyeSBwcm9wZXJ0aWVzIHJlbW92ZWRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdG9yYWJsZVN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWVbMF0uZmllbGRzXHJcbiAgICAgIC5tYXAoZiA9PiB0cmF2ZXJzZUFuZFRha2VTbmFwc2hvdChmKSkpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gY2xlYXIgdGhlIHN0YXRlXHJcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cclxuICAgICAqIHNvIHRoYXQgY29tcG9uZW50IGFzIHdlbGwgYXMgYXBwbGljYXRpb24gc3RhdGUgZ2V0cyBmbHVzaGVkXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY2xlYXJTdGF0ZSA9IChjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gc3RhdGUudHJlZVswXTtcclxuICAgICAgY29uc3QgdG9wTGV2ZWxGaWVsZHMgPSByb290Tm9kZS5maWVsZHMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gY2FudmFzIGlzIGVtcHR5LCBqdXN0IG5vdGlmeSBvdGhlclxyXG4gICAgICBpZiAoIXJvb3ROb2RlLmZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgIGNiKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJvb3ROb2RlLmZpZWxkcy5mb3JFYWNoKCh0b3BMZXZlbEVsZW1lbnQsIGkpID0+IHtcclxuICAgICAgICB0b3BMZXZlbEVsZW1lbnQuZmx1c2hEcm9wcGVkRWxlbWVudHMoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGkgPT09IHRvcExldmVsRmllbGRzIC0gMSkge1xyXG4gICAgICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGFkZCBldmVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSAoZXZlbnROYW1lLCBjYikgPT4ge1xyXG4gICAgICBsZXQgcmV0dXJuQ0IgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvcmUuZXJyb3IoJ2BjYmAgcGFyYW0gaGFzIHRvIGJlIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50LCBldmVudE5hbWUpKSB7XHJcbiAgICAgICAgZXZlbnRbZXZlbnROYW1lXS5wdXNoKGNiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuQ0IgPSBjYjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXR1cm5DQjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gKGV2ZW50TmFtZSwgY2IpID0+IHtcclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgIGV2ZW50W2V2ZW50TmFtZV0gPSBldmVudFtldmVudE5hbWVdLmZpbHRlcihlID0+IGUgIT09IGNiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3RhdGU7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vLi4vY29yZS9zdGF0ZSc7XHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBEcm9wem9uZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIGNhbnZhc1xyXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiBjdXJyZW50IGNhbnZhcyBvciBub3RcclxuICAgIHRoaXMuY2FudmFzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgLy8gY29tcG9uZW50IHN0YXRlXHJcbiAgICAvLyBpbml0aWFsRWxlbWVudHMgLSB0byBrZWVwIHRyYWNrIG9mIGluaXRpYWwgZWxlbWVudHNcclxuICAgIC8vIGRyb3BwZWRFbGVtZW50cyAtIHRvIGtlZXAgdHJhY2sgb2YgbmV3bHkgYWRkZWQgZWxlbWVudHNcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW10sXHJcbiAgICAgIGluaXREb25lOiBmYWxzZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyh0aGlzLnByb3BzLmluaXRpYWxFbGVtZW50cyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHsgaW5pdGlhbEVsZW1lbnRzIH0pIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gYWxsb3cgbWFudWFsIGVsZW1lbnQgdXBkYXRlXHJcbiAgICogTm90ZSAtIGZ1bmN0aW9uIGlzIG9ubHkgYWNjZXNzaWJsZSB0aHJvdWdoIHJlZiBhbmQgbWFrZSBzdXJlXHJcbiAgICogdmFsaWQgZGF0YSBpcyBwYXNzIHRocm91Z2ggZWxzZSBhcHBsaWNhdGlvbiBzdGF0ZS9oaWVyYXJjaHkgY2FuIGJyZWFrXHJcbiAgICogQHBhcmFtIGRhdGEge0FycmF5L0Z1bmN0aW9ufSAtIGlmIGl0cyBmdW5jdGlvbiB0aGVuIG1ha2Ugc3VyZSB5b3UgYXJlXHJcbiAgICogcmV0dXJuaW5nIHZhbGlkYSBhcnJheVxyXG4gICAqIEBwYXJhbSBkb25lIHtmdW5jdGlvbn0gLSBzdWNjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIGRhbmdlcm91c2x5U2V0RWxlbWVudHMgPSAoZGF0YSwgZG9uZSkgPT4ge1xyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgZWxlbWVudHMgPSBkYXRhKHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKSB8fCBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRzID0gZGF0YTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZSA9PiAoe1xyXG4gICAgICAuLi5lLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxyXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogdGhpcy5fY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9KSk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogZWxlbWVudHMsXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogZWxlbWVudHNcclxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGRvbmUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBiZWZvcmUvYWZ0ZXIgY2xhc3MgZm9ybSBhbGwgY2FudmFzIGVsZW1lbnRzXHJcbiAgICovXHJcbiAgX3VubWFya0RyYWdFbGVtZW50cyA9ICgpID0+IHtcclxuICAgIFtdLmZvckVhY2guY2FsbCh0aGlzLmNhbnZhc1JlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcmFnLWl0ZW0nKSwgZSA9PiBlLmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBpbml0aWFsIGVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGluaXRpYWxFbGVtZW50cyB7QXJyYXl9IC0gSXQgaG9sZHMgYWxsIGluaXRpYWwgZWxlbWVudHMgdG8gYmUgc2hvd24gaW4gY2FudmFzXHJcbiAgICovXHJcbiAgX3NldEluaXRpYWxFbGVtZW50cyA9IChpbml0aWFsRWxlbWVudHMpID0+IHtcclxuICAgIC8vIGN1cnJlbnQgY29tcG9uZW50IHN0YXRlKGRyb3BwZWRFbGVtZW50cykgZG9lc24ndCBob2xkIGFueSBlbGVtZW50c1xyXG4gICAgLy8gYnV0IGluaXRpYWxFbGVtZW50cyBoYXMgc29tZSBlbGVtZW50IHRvIGJlIHNldFxyXG4gICAgY29uc3QgZ290SW5pdGlhbEl0ZW1zID0gQXJyYXkuaXNBcnJheShpbml0aWFsRWxlbWVudHMpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRWxlbWVudHMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pbml0RG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBmb3IgZmlyc3QgdGltZSBhZGQgaW5pdGlhbEVsZW1lbnRzIHRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAgaWYgKGdvdEluaXRpYWxJdGVtcykge1xyXG4gICAgICBjb25zdCB7IGlkOiBkcm9wem9uZUlEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICBjb25zdCB1cGRhdGVkSW5pdGlhbEl0ZW1zID0gaW5pdGlhbEVsZW1lbnRzLm1hcChlID0+ICh7XHJcbiAgICAgICAgLi4uZSxcclxuICAgICAgICBrZXk6IGUuaWQsXHJcbiAgICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgICB1cGRhdGVTdGF0ZTogdGhpcy5fdXBkYXRlU3RhdGUsXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcclxuICAgICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaW5pdGlhbEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zLFxyXG4gICAgICAgIGRyb3BwZWRFbGVtZW50czogdXBkYXRlZEluaXRpYWxJdGVtc1xyXG4gICAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgaW5pdERvbmU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgfSkpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLmNhbnZhc1JlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdFthY3Rpb25dKCdpbnNpZGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50IGZyb20gZHJvcHBlZEVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGVsZW1lbnRJRCAtIHtTdHJpbmd9IC0gSUQgb2YgZWxlbWVudFxyXG4gICAqL1xyXG4gIF9yZW1vdmVFbGVtZW50ID0gKGVsZW1lbnRJRCwgY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBlbGVtZW50SUQpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmZpbHRlcigoZCwgaSkgPT4gKGkgIT09IGluZGV4KSlcclxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGNiKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIChub3QgY29tcG9uZW50IHN0YXRlKVxyXG4gICAqIGZ1bmN0aW9uIHdpbGwgZnVydGhlciBjYWxsIGB1cGRhdGVTdGF0ZWAgZnJvbSBzdGF0ZSBBUEksIHdoaWNoIHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX3VwZGF0ZVN0YXRlID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQ6IGRyb3B6b25lSUQsXHJcbiAgICAgIHBhcmVudElEXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBzdGF0ZS51cGRhdGVTdGF0ZShcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgcGFyZW50SUQsXHJcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLFxyXG4gICAgICBjYlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIGZsdXNoIHRoZSBjb21wb25lbnQgc3RhdGVcclxuICAgKiBvbmNlIGNvbXBvbmVudCBzdGF0ZSB0aHMgZmx1c2hlZCwgdGhpcyB3aWxsIGNhbGwgYF91cGRhdGVTdGF0ZWAgdG8gdXBkYXRlIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXHJcbiAgICovXHJcbiAgX2ZsdXNoRHJvcHBlZEVsZW1lbnRzID0gKGNiID0gKCkgPT4ge30pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbml0aWFsRWxlbWVudHM6IFtdLFxyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IFtdXHJcbiAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoY2IpKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiBjaGVjayBiZWxvdyBwYXJhbWV0ZXJzXHJcbiAgICogMSAtIHVzZXIncyBpbnRlbmQgaXMgdG8gbW92ZSBlbGVtZW50IGZyb20gb25lIGNhbnZhcyB0byBvdGhlclxyXG4gICAqIDIgLSBHZXQgY29uZmlybWF0aW9uIGJlZm9yZSByZW1vdmVcclxuICAgKiBvbmNlIGJvdGggY29uZGl0aW9uIG1hdGNoZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gY3VycmVudCBjYW52YXNcclxuICAgKi9cclxuICBfY2hlY2tBbmRSZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudE1vdmVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgeyByZW1vdmVFbGVtZW50LCBlbGVtZW50SUQgfSA9IGVsZW1lbnRNb3ZlZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMucHJvcHMub25FbGVtZW50TW92ZShlbGVtZW50TW92ZWQpO1xyXG4gICAgY29uc3QgYXR0ZW1wdFRvTW92ZSA9ICFjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpO1xyXG5cclxuICAgIGlmIChzdGF0dXMgJiYgYXR0ZW1wdFRvTW92ZSkge1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRJRCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdGhlIGNhbnZhc1xyXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXHJcbiAgLy8gQHBhcmFtIGUge2V2ZW50fVxyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGxlYXZpbmcgdGhlIGNhbnZhc1xyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnTGVhdmUgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgY2FudmFzXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdFbnRlciA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XHJcbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZShmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB1c2UgaGFzIGRyb3BwZWQgdGhlIGVsZW1lbnQgaW50byB0aGUgY2FudmFzXHJcbiAgICogcGVyZm9ybSBhbGwgcmVxdWlyZWQgY2hlY2tzXHJcbiAgICogZnVuY3Rpb24gYWxzbyB0cmlnZ2VycyBgb25Ecm9wYCBwcm9wIHNvIHRoYXQgdXNldCBjYW4gcHJvdmlkZSBhZGRpdGlvbmFsIGluZm9cclxuICAgKiBvbmNlIGFsbCBkb25lIGBfYWRkRWxlbWVudGAgZ2V0IGNhbGxlZCB3aXRoIGFsbCByZXF1aXJlZCBpbmZvXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyb3AgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICBjb25zdCB7IG9uRHJvcCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdkYXRhJykpO1xyXG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xyXG5cclxuICAgIHRoaXMuX3VubWFya0RyYWdFbGVtZW50cygpO1xyXG5cclxuICAgIHJldHVybiBvbkRyb3AgPyBvbkRyb3AoZGF0YSwgdGhpcy5fYWRkRWxlbWVudCwge1xyXG4gICAgICBkcm9wSW5kZXg6ICFkcm9wcGVkRWxlbWVudHMubGVuZ3RoID8gY29yZS5nZXREcm9wUG9zdGlvbigpICsgMSA6IDAsXHJcbiAgICAgIGN1cnJlbnRFbGVtZW50czogZHJvcHBlZEVsZW1lbnRzXHJcbiAgICB9KSA6IHRoaXMuX2FkZEVsZW1lbnQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byBhZGQgZWxlbWVudCBpbnRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAqIHByaW9yIHRvIGFkZCBpdCBwZXJmb20gYmVsb3cgY2hlY2tcclxuICAgKiAxIC0gZWxlbWVudCBoYXMgdW5pcXVlIGtleVxyXG4gICAqIDIgLSBlbGVtZW50IGhhcyBpbnZhbGlkIGRhdGFcclxuICAgKiAzIC0gY2hlY2sgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgKiBvbmNlIGVsZW1lbnQgYWRkZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICogQHBhcmFtIHVwZGF0ZWREYXRhIHtPYmplY3R9IC0gZWxlbWVudCBpbmZvcm1hdGlvblxyXG4gICAqIEByZXR1cm5zIE9iamVjdCAtIG5ldyBsaXN0IG9mIGNhbnZhcyBlbGVtZW50c1xyXG4gICAqL1xyXG4gIF9hZGRFbGVtZW50ID0gKHVwZGF0ZWREYXRhKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGlkOiBkcm9wem9uZUlELFxyXG4gICAgICBjYXBhY2l0eSxcclxuICAgICAgYWxsb3dIb3Jpem9udGFsXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IGNvcmUuZ2V0RHJvcFBvc3Rpb24oKTtcclxuICAgIGNvbnN0IGRyYWdnZWRFbGVtZW50ID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgaW52YWxpZFVwZGF0ZWREYXRhID0gIXVwZGF0ZWREYXRhIHx8ICF1cGRhdGVkRGF0YS5pZDtcclxuICAgIGxldCBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSAtMTtcclxuICAgIGNvbnN0IGtleUFscmVhZHlQcmVzZW50ID0gdXBkYXRlZERhdGEuaWQgJiZcclxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChlLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuaWQgPT09IHVwZGF0ZWREYXRhLmlkKSB7XHJcbiAgICAgICAgICBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSBpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9KS5sZW5ndGg7XHJcbiAgICBjb25zdCBpc1NhbWVJbmRleCA9IGluZGV4T2ZQcmVzZW50RWxlbWVudCA9PT0gZHJvcFBvc2l0aW9uO1xyXG4gICAgbGV0IG5ld0VsZW1lbnRzID0gW10uY29uY2F0KHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKTtcclxuICAgIGxldCBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBjaGVjayBmbyB1bmlxdWUga2V5XHJcbiAgICBpZiAoaW52YWxpZFVwZGF0ZWREYXRhIHx8IGtleUFscmVhZHlQcmVzZW50KSB7XHJcbiAgICAgIGlmIChpc1NhbWVJbmRleCkge1xyXG4gICAgICAgIHJldHVybiBjb3JlLmVycm9yKCdEdXBsaWNhdGUgb3IgaW52YWxpZCBJRCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLm1hcCgoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uZSwgcmVtb3ZlOiB0cnVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtZW50VG9Ecm9wID0ge1xyXG4gICAgICAuLi51cGRhdGVkRGF0YSxcclxuICAgICAga2V5OiB1cGRhdGVkRGF0YS5pZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgYWxsb3dIb3Jpem9udGFsLFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxyXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICBpbml0aWFsRWxlbWVudHM6IHRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLFxyXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogdGhpcy5fY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkcm9wUG9zaXRpb24gPiAwKSB7XHJcbiAgICAgIG5ld0VsZW1lbnRzID0gW1xyXG4gICAgICAgIC4uLm5ld0VsZW1lbnRzLnNsaWNlKDAsIGRyb3BQb3NpdGlvbiksXHJcbiAgICAgICAgZWxlbWVudFRvRHJvcCxcclxuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZShkcm9wUG9zaXRpb24pXHJcbiAgICAgIF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdFbGVtZW50cyA9IFtcclxuICAgICAgICBlbGVtZW50VG9Ecm9wLFxyXG4gICAgICAgIC4uLm5ld0VsZW1lbnRzXHJcbiAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1NhbWVJbmRleCkge1xyXG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLmZpbHRlcihlID0+ICFlLnJlbW92ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgbmV3IGxpc3QgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgIGlmIChjYXBhY2l0eSAmJiBuZXdFbGVtZW50cy5sZW5ndGggPiBjYXBhY2l0eSkge1xyXG4gICAgICByZXR1cm4gY29yZS5lcnJvcihgTWF4aW11bSBjYXBhY2l0eSBvZiBjYW52YXMoJHtkcm9wem9uZUlEfSkgaXMgJHtjYXBhY2l0eX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgbGlzdFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogbmV3RWxlbWVudHNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcclxuICAgICAgaWYgKCFlbGVtZW50QWxyZWFkeVJlbW92ZWQgJiYgZHJhZ2dlZEVsZW1lbnQgJiYgdHlwZW9mIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXHJcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhZGRpbmcgZHJvcHBpbmcgY2xhc3MgdG8gZHJvcHpvbmUsIGl0IGNhbiBiZSB1c2VkIGZvciBhbmltYXRpb24gcHVycG9zZVxyXG4gICAgdGhpcy5jYW52YXNSZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdkcm9wcGluZycpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FudmFzUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcHBpbmcnKTtcclxuICAgIH0sIDUwMCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgZWxlbWVudHM6IG5ld0VsZW1lbnRzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XHJcbiAgICogQHJldHVybnMgSlNYXHJcbiAgICovXHJcbiAgX3JlbmRlckRyYWdJdGVtID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XHJcbiAgICByZXR1cm4gZWxlbWVudCA/IDxlbGVtZW50LmNvbXBvbmVudCB7Li4ucHJvcHN9IC8+IDogbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3QgeyBjYXBhY2l0eSwgaWQsIHBsYWNlaG9sZGVyIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3Qgc3BhY2VBdmFpbGFibGUgPSBjYXBhY2l0eSA/IGNhcGFjaXR5ID4gZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA6IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy5jYW52YXNSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgJHshc3BhY2VBdmFpbGFibGUgPyAnbm8tc3BhY2UnIDogJyd9ICR7aWQgPT09ICdyb290JyA/ICdjYW52YXMnIDogJyd9ICR7IWRyb3BwZWRFbGVtZW50cy5sZW5ndGggPyAnZW1wdHknIDogJyd9IGRyb3B6b25lYH1cclxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLl9vbkRyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XHJcbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XHJcbiAgICAgICAgb25EcmFnRW5kPXt0aGlzLl9vbkRyYWdFbmR9XHJcbiAgICAgID5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkcm9wcGVkRWxlbWVudHMubWFwKChlLCBpKSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYWdJdGVtKHtcclxuICAgICAgICAgICAgICAuLi5lLFxyXG4gICAgICAgICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgICAgICAgIHNwYWNlQXZhaWxhYmxlLFxyXG4gICAgICAgICAgICAgIGluaXREb25lOiB0aGlzLnN0YXRlLmluaXREb25lLFxyXG4gICAgICAgICAgICAgIGRyb3B6b25lUHJvcHM6IHtcclxuICAgICAgICAgICAgICAgIGluaXREb25lOiB0aGlzLnN0YXRlLmluaXREb25lLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50SUQ6IGUuaWRcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIWRyb3BwZWRFbGVtZW50cy5sZW5ndGggP1xyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkcm9wem9uZS1wbGFjZWhvbGRlclwiPntwbGFjZWhvbGRlcn08L3A+IDogbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuRHJvcHpvbmUucHJvcFR5cGVzID0ge1xyXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgY2FwYWNpdHk6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgb25Ecm9wOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkVsZW1lbnRNb3ZlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBhbGxvd0hvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxyXG4gIGluaXRpYWxFbGVtZW50czogUHJvcFR5cGVzLmFycmF5T2YoT2JqZWN0KSxcclxuICBwYXJlbnRJRDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICBQcm9wVHlwZXMubm9kZVxyXG4gIF0pXHJcbn07XHJcblxyXG5Ecm9wem9uZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgaW5pdGlhbEVsZW1lbnRzOiBbXSxcclxuICBwbGFjZWhvbGRlcjogJ0Ryb3AgSGVyZScsXHJcbiAgb25FbGVtZW50TW92ZTogKCkgPT4gKHRydWUpXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcm9wem9uZTtcclxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIFZlcnkgYmFzaWMgc3R5bGUgKi9cXHJcXG5cXHJcXG4vKiBQcmV2ZW50IHRoZSB0ZXh0IGNvbnRlbnRzIG9mIGRyYWdnYWJsZSBlbGVtZW50cyBmcm9tIGJlaW5nIHNlbGVjdGFibGUuICovXFxyXFxuW2RyYWdnYWJsZV0ge1xcclxcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG5cXHJcXG4gIC8qIFJlcXVpcmVkIHRvIG1ha2UgZWxlbWVudHMgZHJhZ2dhYmxlIGluIG9sZCBXZWJLaXQgKi9cXHJcXG4gIC1raHRtbC11c2VyLWRyYWc6IGVsZW1lbnQ7XFxyXFxuICAtd2Via2l0LXVzZXItZHJhZzogZWxlbWVudDtcXHJcXG59XFxyXFxuXFxyXFxuLyogY2xhc3MgZ2V0cyBhcHBlbmRlZCB0byBjYW52YXMgd2hlbiB1c2VyIGRyYWdnaW5nIG92ZXIgb24gaXQgKi9cXHJcXG4uaW5zaWRlIHtcXHJcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMCwgMTgwLCA4MSwgMC43NSk7XFxyXFxuICAtbW96LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMCwgMTgwLCA4MSwgMC43NSk7XFxyXFxufVxcclxcblxcclxcbi50cmFzaC1ib3guaW5zaWRlLFxcclxcbi5kcm9wem9uZS5pbnNpZGUubm8tc3BhY2Uge1xcclxcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjUpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjc1KTtcXHJcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjMwLCAyMywgMjMsIDAuNzUpO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJvcHpvbmUge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJhY2tncm91bmQ6ICNmMGZhZmY7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDI3N2JkO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJvcHpvbmUuZW1wdHkge1xcclxcbiAgcGFkZGluZzogNDBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnBhbGV0dGUge1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgIzAxNTc5YjtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWctaXRlbSB7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgY29sb3I6ICMwMTU3OWI7XFxyXFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmYztcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMTU3OWI7XFxyXFxufVxcclxcblxcclxcbi5pbmxpbmUuZHJhZy1pdGVtIHtcXHJcXG4gIG1hcmdpbjogMCAxMHB4O1xcclxcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJvcHpvbmUtcGxhY2Vob2xkZXIge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBjb2xvcjogIzAxNTc5YjtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gIGxlZnQ6IDA7XFxyXFxuICB0b3A6IGNhbGMoNTAlIC0gMTBweCk7XFxyXFxuICBhbmltYXRpb24tbmFtZTogY2hhbmdlQ29sb3I7XFxyXFxuICBhbmltYXRpb24tZHVyYXRpb246IDJzO1xcclxcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XFxyXFxuICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBjaGFuZ2VDb2xvciB7XFxyXFxuICAyNSUge1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgfVxcclxcblxcclxcbiAgNzUlIHtcXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXHJcXG4gICAgb3BhY2l0eTogMC41O1xcclxcbiAgfVxcclxcbn1cXHJcXG5cXHJcXG4ucGFsZXR0ZS13cmFwcGVyIC5kcmFnLWl0ZW0ge1xcclxcbiAgY29sb3I6ICNmZmY7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDE1NzliO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtICsgZGl2IHtcXHJcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0uYWZ0ZXIsXFxyXFxuLmRyYWctaXRlbS5iZWZvcmUge1xcclxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtLmFmdGVyOjphZnRlciB7XFxyXFxuICBjb250ZW50OiAnJztcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gIHdpZHRoOiA1MCU7XFxyXFxuICBoZWlnaHQ6IDFweDtcXHJcXG4gIGJhY2tncm91bmQ6ICMxNGI0NTE7XFxyXFxuICBsZWZ0OiA1MCU7XFxyXFxuICBib3R0b206IC0xcHg7XFxyXFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxyXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcXHJcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDIwLCAxODAsIDgxLCAxKTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDIwLCAxODAsIDgxLCAxKTtcXHJcXG4gIGJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0uYmVmb3JlOjpiZWZvcmUge1xcclxcbiAgY29udGVudDogJyc7XFxyXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICB3aWR0aDogNTAlO1xcclxcbiAgaGVpZ2h0OiAxcHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjMTRiNDUxO1xcclxcbiAgbGVmdDogNTAlO1xcclxcbiAgdG9wOiAtMXB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAtMXB4IDEwcHggMC4zcHggcmdiYSgyMywgMTgwLCA4MSwgMSk7XFxyXFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAtMXB4IDEwcHggMC4zcHggcmdiYSgyMywgMTgwLCA4MSwgMSk7XFxyXFxuICBib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5saW5lLmRyYWctaXRlbS5iZWZvcmU6OmJlZm9yZSB7XFxyXFxuICB3aWR0aDogMXB4O1xcclxcbiAgaGVpZ2h0OiA1MCU7XFxyXFxuICBsZWZ0OiAtMXB4O1xcclxcbiAgcmlnaHQ6IHVuc2V0O1xcclxcbiAgdG9wOiA1MCU7XFxyXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmlubGluZS5kcmFnLWl0ZW0uYWZ0ZXI6OmFmdGVyIHtcXHJcXG4gIHdpZHRoOiAxcHg7XFxyXFxuICBoZWlnaHQ6IDUwJTtcXHJcXG4gIHJpZ2h0OiAtMXB4O1xcclxcbiAgbGVmdDogdW5zZXQ7XFxyXFxuICB0b3A6IHVuc2V0O1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxyXFxufVxcclxcblxcclxcbi50cmFzaC1ib3gge1xcclxcbiAgcGFkZGluZzogMzBweCAxMHB4O1xcclxcbiAgbWFyZ2luOiAxMHB4IDA7XFxyXFxuICBjb2xvcjogI2I3MWMxYztcXHJcXG4gIGJhY2tncm91bmQ6ICNmZmNkZDI7XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjYjcxYzFjO1xcclxcbn1cXHJcXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuaW1wb3J0IHN0YXRlIGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xyXG5cclxuY2xhc3MgUHJldmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjdXJyZW50U3RhdGU6IHN0YXRlLmdldFN0YXRlKClcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCk7XHJcbiAgICBzdGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuX29uU3RhdGVDaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgLy8ga2VlcCB0cmFjayBvZiBzdGF0ZSB0cmVlIGNoYW5nZXNcclxuICBfb25TdGF0ZUNoYW5nZSA9IChuZXdTdGF0ZSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGN1cnJlbnRTdGF0ZTogbmV3U3RhdGVcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcmVjdXJlc2l2ZSBmdW5jdGlvbiB0byBpdGVyYXRlIHRocm91Z2ggYWxsIG5vZGUgb2Ygc3RhdGUgdHJlZSBhbmRcclxuICAgKiByZW5kZXIgYXBwcm9wcmF0ZSBjb21wb25lbnQgYW5kIHBhc3MgbmVjZXNzYXJ5IHByb3BzXHJcbiAgICogQHBhcmFtIGVsZW1lbnQge09iamVjdH0gLSBpbmZvbWF0aW9uIG9mIHN0YXRlIHRyZWUgbm9kZVxyXG4gICAqIEByZXR1cm5zIHtKU1h9IC0gUHJldmlldy9KU1ggcmVwcmVzZW50YXRpb24gb2YgY3VycmVudCBzdGF0ZSB0cmVlXHJcbiAgICovXHJcbiAgX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlID0gKGVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0ge307XHJcbiAgICBjb25zdCBlbGVtZW50RGF0YSA9IHRoaXMucmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50c1xyXG4gICAgICAuZmluZChlID0+IGUudHlwZSA9PT0gZWxlbWVudC50eXBlKTtcclxuXHJcbiAgICAvLyBlbGVtZW50IGhhcyBzdWIgZmllbGRzLCByZW5kZXIgdGhvc2UgZmllbGRzIGZpcnN0XHJcbiAgICAvLyBhbmQgdGhlbiBjb21lIGJhY2sgdG8gY3VycmVudCBmaWVsZFxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudC5maWVsZHMpKSB7XHJcbiAgICAgIGVsZW1lbnQuZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XHJcbiAgICAgICAgY2hpbGRyZW5bZmllbGQuZHJvcHpvbmVJRF0gPSBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXSB8fCBbXTtcclxuICAgICAgICBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXSA9IGNoaWxkcmVuW2ZpZWxkLmRyb3B6b25lSURdXHJcbiAgICAgICAgICAuY29uY2F0KHRoaXMuX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlKGZpZWxkKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbmRlciBjb3JyZXNwb25kaW5nIGNvbXBvbmVudCBhbmQgcGFzcyBuZWNlc3NhcnkgcHJvcHNcclxuICAgIC8vIHNob3dQcmV2aWV3IGlzIG1hbmRhdG9yeVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGVsZW1lbnREYXRhLmNvbXBvbmVudFxyXG4gICAgICAgIGlkPXtlbGVtZW50LmlkfVxyXG4gICAgICAgIGtleT17ZWxlbWVudC5pZH1cclxuICAgICAgICBjaGlsZE5vZGU9e2NoaWxkcmVufVxyXG4gICAgICAgIHsuLi57IC4uLmVsZW1lbnQsIHNob3dQcmV2aWV3OiB0cnVlLCBzaG93QmFzaWNDb250ZW50OiBmYWxzZSB9fVxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnN0YXRlLmN1cnJlbnRTdGF0ZVswXTtcclxuXHJcbiAgICAvLyBpZiB5b3Ugd2FudCBtb3JlIGZsZXhpYmxpdHlcclxuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbih7XHJcbiAgICAgICAgY2hpbGRyZW46IHJvb3QuZmllbGRzLm1hcCh0aGlzLl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhbmRhcmQgcmVuZGVyIC0gb25seSA8UHJldmlldyAvPiBhbmQgZG9uZVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWNvbnRhaW5lclwiPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJvb3QuZmllbGRzLm1hcCh0aGlzLl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZSlcclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblByZXZpZXcucHJvcFR5cGVzID0ge1xyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJldmlldztcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBUcmFzaCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIHRyYXNoXHJcbiAgICAvLyB0byBjaGVjayB3aGV0aGVyIGlzIGRyYWdnaW5nIG9uIHRyYXNoIGJveCBvciBub3RcclxuICAgIHRoaXMudHJhc2hSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLnRyYXNoUmVmLmN1cnJlbnQgPT09IHRhcmdldCkge1xyXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0W2FjdGlvbl0oJ2luc2lkZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uRHJvcCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIC8vIGdldCBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuXHJcbiAgICAvLyBkb250IGFsbG93IGVsZW1lbnRzIHdoaWNoIGRpcmVjdGx5IGNvbWluZyBmcm9tIHBhbGV0dGVcclxuICAgIGlmICghZWxlbWVudFRvQmVUcmFzaGVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IG9uQmVmb3JlVHJhc2gsIG9uQWZ0ZXJUcmFzaCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgcmVtb3ZlRWxlbWVudCB9ID0gZWxlbWVudFRvQmVUcmFzaGVkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gb25CZWZvcmVUcmFzaChlbGVtZW50VG9CZVRyYXNoZWQpO1xyXG5cclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICAvLyB1c2VyIHRyaWVkIGFuZCBjb25maXJtIHRvIHJlbW92ZSBlbGVtZW50XHJcbiAgICBpZiAoc3RhdHVzICYmIGNvcmUuZ2V0QXR0ZW1wdFRvUmVtb3ZlKCkpIHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRUb0JlVHJhc2hlZC5lbGVtZW50SUQsICgpID0+IHtcclxuICAgICAgICAvLyBhY2tub3dsZWRnZVxyXG4gICAgICAgIG9uQWZ0ZXJUcmFzaCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGRvbmUgZHJhZ2dpbmcsIGZsdXNoIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudChudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXNldCBhdHRlbXB0IHRvIHJlbW92ZVxyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gdXNlciBpcyBkcmFnZ2luZyBvdmVyIHRoZSB0cmFzaFxyXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXHJcbiAgLy8gQHBhcmFtIGUge2V2ZW50fVxyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgdHJhc2hcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0xlYXZlID0gKGUpID0+IHtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0cmFzaFxyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnRW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudFRvQmVUcmFzaGVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG5cclxuICAgIGlmIChlbGVtZW50VG9CZVRyYXNoZWQpIHtcclxuICAgICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ2FkZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy50cmFzaFJlZn1cclxuICAgICAgICBjbGFzc05hbWU9XCJ0cmFzaC1ib3hcIlxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XHJcbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5fb25EcmFnT3Zlcn1cclxuICAgICAgICBvbkRyb3A9e3RoaXMuX29uRHJvcH1cclxuICAgICAgPlxyXG4gICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCA8c3Bhbj5UcmFzaCBCb3g8L3NwYW4+IH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVHJhc2gucHJvcFR5cGVzID0ge1xyXG4gIG9uQmVmb3JlVHJhc2g6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uQWZ0ZXJUcmFzaDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpLFxyXG4gICAgUHJvcFR5cGVzLmVsZW1lbnRcclxuICBdKSxcclxufTtcclxuXHJcblRyYXNoLmRlZmF1bHRQcm9wcyA9IHtcclxuICBvbkJlZm9yZVRyYXNoOiAoKSA9PiAodHJ1ZSksXHJcbiAgb25BZnRlclRyYXNoOiAoKSA9PiAodHJ1ZSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYXNoO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuXHJcbmNsYXNzIFBhbGV0dGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICogQHBhcmFtIHByb3BzIHtPYmplY3R9IC0gQW4gb2JqZWN0IHdoaWNoIGhvbGQgdGhlIGluZm8gb2YgZHJhZ2dlZCBlbGVtZW50L2NvbXBvbmVudFxyXG4gICAqIEByZXR1cm5zIEpTWFxyXG4gICAqL1xyXG4gIF9yZW5kZXJMaXN0ID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XHJcbiAgICByZXR1cm4gZWxlbWVudCA/IDxlbGVtZW50LmNvbXBvbmVudCB7Li4ucHJvcHN9IC8+IDogbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgcGFsZXR0ZUVsZW1lbnRzIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFsZXR0ZVwiPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHBhbGV0dGVFbGVtZW50cy5tYXAoaXRlbSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QoeyAuLi5pdGVtLCBrZXk6IGl0ZW0uaWQsIHNob3dCYXNpY0NvbnRlbnQ6IHRydWUgfSlcclxuICAgICAgICAgICkpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5QYWxldHRlLnByb3BUeXBlcyA9IHtcclxuICBwYWxldHRlRWxlbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKChwcm9wVmFsdWUpID0+IHtcclxuICAgIGxldCBpc0Vycm9yID0gZmFsc2U7XHJcblxyXG4gICAgLy8gYWxsIHBhbGV0dGUgZWxlbWVudHMgc2hvdWxkIGhhdmUgdW5pcXVlIElEXHJcbiAgICBwcm9wVmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpZiAoaXRlbSAmJiAhaXRlbS5pZCkge1xyXG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBpcyByZXF1aXJlZCBpbiBhbGwgcGFsZXR0ZSBlbGVtZW50JztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByb3BWYWx1ZS5maWx0ZXIoaSA9PiBpLmlkID09PSBpdGVtLmlkKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgaXNFcnJvciA9ICdgaWRgIG9mIHBhbGV0dGUgZWxlbWVudCBzaG91bGQgYmUgdW5pcXVlJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzRXJyb3IgPyBuZXcgRXJyb3IoaXNFcnJvcikgOiB0cnVlO1xyXG4gIH0pXHJcbn07XHJcblxyXG5QYWxldHRlLmRlZmF1bHRQcm9wcyA9IHtcclxuICBwYWxldHRlRWxlbWVudHM6IFtdXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWxldHRlO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuXHJcbmNsYXNzIERyYWdnYWJsZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLmRyYWdFbGVtUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSBvbmNlIHBhcmVudCBzdGF0ZSBpbml0aWFsaXNhdGlvbiBpcyBkb25lXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pbml0RG9uZSAhPT0gbmV4dFByb3BzLmluaXREb25lICYmIG5leHRQcm9wcy5pbml0RG9uZSkge1xyXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZVN0YXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZHJhZ0VuZCA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnLCAnYWZ0ZXInKTtcclxuXHJcbiAgICAvLyBkb25lIGRyYWdnaW5nLCByZXNldCBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQobnVsbCk7XHJcbiAgfVxyXG5cclxuICBfZHJhZ1N0YXJ0ID0gKGUpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBpZCxcclxuICAgICAgdHlwZSxcclxuICAgICAgbmFtZSxcclxuICAgICAgZmllbGRzLFxyXG4gICAgICBwYXlsb2FkLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICByZW1vdmVFbGVtZW50LFxyXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGlkLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBuYW1lLFxyXG4gICAgICBwYXlsb2FkXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChmaWVsZHMpIHtcclxuICAgICAgZGF0YS5maWVsZHMgPSBmaWVsZHM7XHJcbiAgICB9XHJcblxyXG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdjb3B5JztcclxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7IC8vIHJlcXVpcmVkLCB3ZSBjYW5uJ3QgcGFzcyBKUyBvYmplY3RcclxuXHJcbiAgICAvLyBpZiBlbGVtZW50IGlzIGFscmVhZHkgcHJlc2VudCBpbiBzb21lIGNhbnZhc1xyXG4gICAgLy8gdGhlbiBzZXQgZHJhZ2dlZEVsZW1lbnQsIHNvIHRoYXQgdGhpcyB3aWxsIGhlbHAgdG8gcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICBpZiAoZHJvcHpvbmVJRCkge1xyXG4gICAgICBjb3JlLnNldERyYWdnZWRFbGVtZW50KHtcclxuICAgICAgICBlbGVtZW50SUQ6IGlkLFxyXG4gICAgICAgIGRyb3B6b25lSUQsXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudCxcclxuICAgICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byBzZXQgZHJvcCBwb3NpdGlvbi5cclxuICAgKiBmaXJzdCBmaW5lIG1pZCBvZiBlbGVtZW50IHVwb24gd2hpY2ggdXNlciBpcyBkcmFnZ2luZyBvdmVyIGFuZFxyXG4gICAqIGJhc2VkIG9uIHRoYXQgZGVjaWRlIHdoZXRoZXIgdXNlciB0cnlpbmcgdG8gZHJvcCBhbiBlbGVtZW50IGFib3ZlIG9yIGJlbG93XHJcbiAgICovXHJcbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgZWxlbUNvcmQgPSB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnByb3BzLnNwYWNlQXZhaWxhYmxlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5hbGxvd0hvcml6b250YWwpIHtcclxuICAgICAgY29uc3QgZHJhZ0VsZW1YID0gZS5jbGllbnRYO1xyXG4gICAgICBpZiAoZHJhZ0VsZW1YID49IGVsZW1Db3JkLnggJiYgZHJhZ0VsZW1YIDw9IGVsZW1Db3JkLnggKyBlbGVtQ29yZC53aWR0aCkge1xyXG4gICAgICAgIGNvbnN0IG1pZFggPSBlbGVtQ29yZC54ICsgZWxlbUNvcmQud2lkdGggLyAyO1xyXG4gICAgICAgIGlmIChkcmFnRWxlbVggPCBtaWRYKSB7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXInKTtcclxuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdiZWZvcmUnKTtcclxuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnKTtcclxuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdhZnRlcicpO1xyXG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBkcmFnRWxlbVkgPSBlLmNsaWVudFk7XHJcbiAgICAgIGlmIChkcmFnRWxlbVkgPj0gZWxlbUNvcmQueSAmJiBkcmFnRWxlbVkgPD0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCkge1xyXG4gICAgICAgIGNvbnN0IG1pZFkgPSBlbGVtQ29yZC55ICsgZWxlbUNvcmQuaGVpZ2h0IC8gMjtcclxuICAgICAgICBpZiAoZHJhZ0VsZW1ZIDwgbWlkWSkge1xyXG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyJyk7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYmVmb3JlJyk7XHJcbiAgICAgICAgICBjb3JlLnNldERyb3BQb3N0aW9uKHRoaXMucHJvcHMuaW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJyk7XHJcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYWZ0ZXInKTtcclxuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX29uRHJhZ0xlYXZlID0gKCkgPT4ge1xyXG4gICAgLy8gcmVtb3ZlIGJlZm9yZS9hZnRlciBjbGFzcyBmcm9tIGRyYWdnZWQgZWxlbWVudFxyXG4gICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBlbGVtZW50UHJvcHMsIGRyYWdnYWJsZSwgYWxsb3dIb3Jpem9udGFsIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGUgPSBudWxsO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmRyb3B6b25lSUQpIHtcclxuICAgICAgLy8gYWRkIHRoaXMgcmVxdWlyZWQgZnVuY3Rpb24gb25seSBpZiBlbGVtZW50IGlzIGRyb3BwZWQgaW4gY2FudmFzXHJcbiAgICAgIGUgPSB7XHJcbiAgICAgICAgb25EcmFnT3ZlcjogdGhpcy5fb25EcmFnT3ZlcixcclxuICAgICAgICBvbkRyYWdMZWF2ZTogdGhpcy5fb25EcmFnTGVhdmVcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZHJhZ2dhYmxlKSB7XHJcbiAgICAgIGUgPSB7XHJcbiAgICAgICAgLi4uZSxcclxuICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXt0aGlzLmRyYWdFbGVtUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT17YGRyYWctaXRlbSAke2FsbG93SG9yaXpvbnRhbCA/ICdpbmxpbmUnIDogJyd9YH1cclxuICAgICAgICBvbkRyYWdTdGFydD17dGhpcy5fZHJhZ1N0YXJ0fVxyXG4gICAgICAgIG9uRHJhZ0VuZD17dGhpcy5fZHJhZ0VuZH1cclxuICAgICAgICB7Li4uZWxlbWVudFByb3BzfVxyXG4gICAgICAgIHsuLi5lfVxyXG4gICAgICA+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuRHJhZ2dhYmxlLnByb3BUeXBlcyA9IHtcclxuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgaW5pdERvbmU6IFByb3BUeXBlcy5ib29sLFxyXG4gIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIGFsbG93SG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXHJcbiAgZmllbGRzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihBcnJheSksXHJcbiAgZHJhZ2dhYmxlOiBQcm9wVHlwZXMuYm9vbCxcclxuICBzcGFjZUF2YWlsYWJsZTogUHJvcFR5cGVzLmJvb2wsXHJcbiAgdXBkYXRlU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRyb3B6b25lSUQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgcGF5bG9hZDogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KSxcclxuICBlbGVtZW50UHJvcHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9iamVjdCksXHJcbiAgdHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5lbGVtZW50KSxcclxuICAgIFByb3BUeXBlcy5lbGVtZW50XHJcbiAgXSkuaXNSZXF1aXJlZCxcclxuICByZW1vdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuYyxcclxuICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5EcmFnZ2FibGUuZGVmYXVsdFByb3BzID0ge1xyXG4gIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogKCkgPT4gKHRydWUpLFxyXG4gIGVsZW1lbnRQcm9wczogbnVsbCxcclxuICBwYXlsb2FkOiBudWxsLFxyXG4gIGRyYWdnYWJsZTogdHJ1ZSxcclxuICB1cGRhdGVTdGF0ZTogKCkgPT4gKHRydWUpXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGU7XHJcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5cbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcbiAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG4gKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuICovXG52YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblxuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCBEcm9wem9uZSBmcm9tICcuLi9Ecm9wem9uZS9Ecm9wem9uZSc7XHJcblxyXG4vLyBmdW5jdGlvbmFsIGNvbXBvbmVudCB3aGljaCBleHRlbmRzIERyb3B6b25lIGJ1dCB3aXRoIHNvbWUgZml4ZWQgcHJvcGVydGllcyAtIGlkIGFuZCBwYXJlbnRJRFxyXG4vLyBib3RoIHByb3BzIHNldCB0byBgcm9vdGAgLSByZXF1aXJlZCBzaW5jZSBhcHBsaWNhdGlvbiBzdGF0ZSBob2xkcyBgcm9vdGAgYXMgcGFyZW50IG5vZGVcclxuLy8gZGVmYXVsdCBpbml0RG9uZSBzZXQgdG8gdHJ1ZVxyXG5jb25zdCBDYW52YXMgPSBwcm9wcyA9PiAoXHJcbiAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNhbnZhc1wiPlxyXG4gICAgPERyb3B6b25lIHsuLi5wcm9wc30gcGFyZW50SUQ9XCJyb290XCIgaWQ9XCJyb290XCIgaW5pdERvbmUgLz5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcclxuIiwiLy8gaW1wb3J0IGFsbCBjb21wb25lbnRzXHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMnO1xyXG5pbXBvcnQgRHJvcHpvbmUgZnJvbSAnLi9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lJztcclxuaW1wb3J0IERyYWdnYWJsZSBmcm9tICcuL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZSc7XHJcbmltcG9ydCBQYWxldHRlIGZyb20gJy4vY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUnO1xyXG5pbXBvcnQgVHJhc2ggZnJvbSAnLi9jb21wb25lbnRzL1RyYXNoL1RyYXNoJztcclxuaW1wb3J0IFByZXZpZXcgZnJvbSAnLi9jb21wb25lbnRzL1ByZXZpZXcvUHJldmlldyc7XHJcblxyXG4vLyBpbXBvcnQgYWxsIEFQSSdzXHJcbmltcG9ydCBzdGF0ZSBmcm9tICcuL2NvcmUvc3RhdGUnO1xyXG5pbXBvcnQgY29yZSBmcm9tICcuL2NvcmUvY29yZSc7XHJcblxyXG4vLyBpbXBvcnQgYmFzaWMgc3R5bGVcclxuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAvLyBhbGwgY29tcG9uZW50c1xyXG4gIENhbnZhcyxcclxuICBEcm9wem9uZSxcclxuICBEcmFnZ2FibGUsXHJcbiAgUGFsZXR0ZSxcclxuICBUcmFzaCxcclxuICBQcmV2aWV3LFxyXG5cclxuICAvLyBhbGwgb3BlbiBBUEknc1xyXG4gIHN0YXRlLFxyXG4gIGNvcmUsXHJcblxyXG4gIC8vIHNpbmNlIHRoaXMgaXMgcmV1aXJlZCBmdW5jdGlvbiwga2VlcGluZyBzZXByYXRlXHJcbiAgcmVnaXN0ZXJQYWxldHRlRWxlbWVudHM6IGNvcmUucmVnaXN0ZXJQYWxldHRlRWxlbWVudHNcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==
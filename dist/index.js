module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements},this.error=function(e){return console.error(e),!1},this.log=function(e){return console.log(e),!0}};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(16)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n={change:[]};t.tree=[{id:"root",fields:[]}];var r=function(){n.change.forEach(function(e){return e(t.tree)})};this.updateState=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var u=[];o.forEach(function(e){var t=i.fields.findIndex(function(t){return t.id===e.id});-1===t?u.push(e):i.fields=i.fields.map(function(n,r){return r===t?e:n})}),u.length&&(i.fields=i.fields.concat(u))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var l=0;l<a.length;l++){var f=a[l].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,o),a(t.tree),r()},this.getState=function(){return t.tree},this.clearState=function(){var e=t.tree[0],n=e.fields.length;return e.fields.forEach(function(e,t){e.flushDroppedElements(function(){t===n-1&&r()})}),!0},this.addEventListener=function(e,t){var r=null;return"function"!=typeof t?(a.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(n,e)?(n[e].push(t),r=t):a.default.error("No such event"),r)},this.removeEventListener=function(e,t){Object.prototype.hasOwnProperty.call(n,e)?n[e]=n[e].filter(function(e){return e!==t}):a.default.error("No such event")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),u=f(n(3)),l=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props.capacity;return i.default.createElement("div",{ref:this.canvasRef,className:(n&&n===t.length?"no-space":"")+" canvas",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t){return e._renderDragItem(r({},t))}))}}]),t}(),p=function(){var e=this;this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initialElements.length){var n=e.props.id,o=t.map(function(t){return r({},t,{key:t.id,dropzoneID:n,showBasicContent:!1,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:o,droppedElements:o},e._updateState)}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==n})},e._updateState)},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.id,o=n.parentID;u.default.updateState(r,o,e.state.droppedElements,t)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=l.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!l.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),l.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),l.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation(),l.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var n=e.props.onDrop,o=JSON.parse(t.dataTransfer.getData("data"));return o=r({},o),n?n(o,e._addElement):e._addElement(o)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=l.default.getDraggedElement(),s=!t||!t.id,u=t.id&&e.state.droppedElements.filter(function(e){return e.id===t.id}).length;if(s||u)return l.default.error("Duplicate or invalid ID");var f=e.state.droppedElements.concat(r({},t,{key:t.id,dropzoneID:o,showBasicContent:!1,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement}));return a&&f.length>a?l.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:f},function(){i&&"function"==typeof i.checkAndRemoveElement&&i.checkAndRemoveElement(),e._updateState()}),{dropzoneID:o,elements:f})},this._renderDragItem=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};c.propTypes={acceptElement:s.default.bool,id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,initialElements:s.default.instanceOf(s.default.array),parentID:s.default.string.isRequired},c.defaultProps={acceptElement:!0,initialElements:[],onElementMove:function(){return!0}},t.default=c},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,f=[],c=n(5);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(y(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(y(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=u||(u=v(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var b,E=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* draggable element style */\r\n/* Prevent the text contents of draggable elements from being selectable. */\r\n[draggable] {\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  /* Required to make elements draggable in old WebKit */\r\n  -khtml-user-drag: element;\r\n  -webkit-user-drag: element;\r\n}\r\n\r\n/* class gets appended to canvas when user dragging over on it */\r\n.inside {\r\n  -webkit-box-shadow: inset 0px 0px 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  -moz-box-shadow: inset 0px 0px 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  box-shadow: inset 0px 0px 26px 0.5px rgba(20, 180, 81, 0.75);\r\n}\r\n\r\n.trash-box.inside,\r\n.canvas.inside.no-space {\r\n  -webkit-box-shadow: inset 0px 0px 26px 0.5px rgba(230, 23, 23, 0.5);\r\n  -moz-box-shadow: inset 0px 0px 26px 0.5px rgba(230, 23, 23, 0.75);\r\n  box-shadow: inset 0px 0px 26px 0.5px rgba(230, 23, 23, 0.75);\r\n}\r\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),i=u(n(2)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,u=o(t);return n._manageInsideClass(e,"remove"),u&&s.default.getAttemptToRemove()&&(i(t.elementID),a()),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();l.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},l.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=l(a),s=l(n(2)),u=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=l(a),s=l(n(2)),u=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._dragEnd=function(e){e.stopPropagation(),u.default.setDraggedElement(null)},r._dragStart=function(e){e.stopPropagation();var t=r.props,n=t.id,o=t.type,a=t.name,i=t.payload,s=t.dropzoneID,l=t.removeElement,f=t.checkAndRemoveElement,c={id:n,type:o,name:a,payload:i};e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(c)),s&&u.default.setDraggedElement({elementID:n,dropzoneID:s,removeElement:l,checkAndRemoveElement:f})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this.props.elementProps;return i.default.createElement("div",r({className:"drag-item",onDragStart:this._dragStart,onDragEnd:this._dragEnd,draggable:!0},e),this.props.children)}}]),t}();c.propTypes={id:s.default.string.isRequired,name:s.default.string,dropzoneID:s.default.string,payload:s.default.instanceOf(s.default.object),elementProps:s.default.instanceOf(s.default.object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},c.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null},t.default=c},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,u],c=0;(l=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(14),a=n(13);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root"})))}},function(e,t,n){"use strict";var r=f(n(17)),o=f(n(4)),a=f(n(12)),i=f(n(11)),s=f(n(10)),u=f(n(3)),l=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,state:u.default,core:l.default,registerPaletteElements:l.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFzaC9UcmFzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2FudmFzL0NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvcmUiLCJDb3JlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImdldEF0dGVtcHRUb1JlbW92ZSIsImF0dGVtcHRUb1JlbW92ZSIsInNldEF0dGVtcHRUb1JlbW92ZSIsInN0YXR1cyIsInNldERyYWdnZWRFbGVtZW50IiwiZHJhZ2dlZEVsZW1lbnQiLCJnZXREcmFnZ2VkRWxlbWVudCIsInJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzIiwicmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyIsImdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJlcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVxdWlyZSIsIl9jb3JlIiwic3RhdGUiLCJTdGF0ZSIsImV2ZW50IiwiY2hhbmdlIiwidHJlZSIsImlkIiwiZmllbGRzIiwibm90aWZ5U3RhdGVDaGFuZ2UiLCJmb3JFYWNoIiwiZSIsInVwZGF0ZVN0YXRlIiwiZHJvcHpvbmVJRCIsInBhcmVudElEIiwiY2IiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUiLCJ1cGRhdGVkRmllbGRzIiwibWF0Y2hlZFBhcmVudENhbnZhcyIsImZpbmQiLCJmaWVsZCIsInJldHVyblN0YXR1cyIsImZpZWxkc1RvQmVBZGRlZCIsInVGaWVsZCIsImZpZWxkSW5kZXgiLCJmaW5kSW5kZXgiLCJmIiwicHVzaCIsIm1hcCIsImNvbmNhdCIsImZpbHRlciIsImNoaWxkRmllbGRzIiwiZ2V0U3RhdGUiLCJjbGVhclN0YXRlIiwicm9vdE5vZGUiLCJ0b3BMZXZlbEZpZWxkcyIsInRvcExldmVsRWxlbWVudCIsImZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInJldHVybkNCIiwiX2NvcmUyIiwiZGVmYXVsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcmVhY3QiLCJEcm9wem9uZSIsInByb3BzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwiX2luaXRpYWxpc2VQcm9wcyIsImNhbnZhc1JlZiIsIl9yZWFjdDIiLCJjcmVhdGVSZWYiLCJpbml0aWFsRWxlbWVudHMiLCJkcm9wcGVkRWxlbWVudHMiLCJfc2V0SW5pdGlhbEVsZW1lbnRzIiwiX3JlZiIsIl90aGlzMiIsImNhcGFjaXR5IiwiY3JlYXRlRWxlbWVudCIsInJlZiIsImNsYXNzTmFtZSIsIm9uRHJhZ092ZXIiLCJfb25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwiX29uRHJhZ0xlYXZlIiwib25EcmFnRW50ZXIiLCJfb25EcmFnRW50ZXIiLCJvbkRyb3AiLCJfb25Ecm9wIiwib25EcmFnRW5kIiwiX29uRHJhZ0VuZCIsIl9yZW5kZXJEcmFnSXRlbSIsIl9leHRlbmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiX3RoaXMzIiwidXBkYXRlZEluaXRpYWxJdGVtcyIsImtleSIsInNob3dCYXNpY0NvbnRlbnQiLCJyZW1vdmVFbGVtZW50IiwiX3JlbW92ZUVsZW1lbnQiLCJfZmx1c2hEcm9wcGVkRWxlbWVudHMiLCJjaGVja0FuZFJlbW92ZUVsZW1lbnQiLCJfY2hlY2tBbmRSZW1vdmVFbGVtZW50Iiwic2V0U3RhdGUiLCJfdXBkYXRlU3RhdGUiLCJfbWFuYWdlSW5zaWRlQ2xhc3MiLCJfcmVmMiIsImFjdGlvbiIsInRhcmdldCIsImN1cnJlbnQiLCJjbGFzc0xpc3QiLCJlbGVtZW50SUQiLCJpbmRleCIsIl9wcm9wcyIsIl9zdGF0ZTIiLCJlbGVtZW50TW92ZWQiLCJvbkVsZW1lbnRNb3ZlIiwiYXR0ZW1wdFRvTW92ZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJfYWRkRWxlbWVudCIsInVwZGF0ZWREYXRhIiwiX3Byb3BzMiIsImludmFsaWRVcGRhdGVkRGF0YSIsImtleUFscmVhZHlQcmVzZW50IiwibmV3RWxlbWVudHMiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJ0eXBlIiwiY29tcG9uZW50IiwicHJvcFR5cGVzIiwiYWNjZXB0RWxlbWVudCIsIl9wcm9wVHlwZXMyIiwiYm9vbCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJmdW5jIiwiaW5zdGFuY2VPZiIsImFycmF5IiwiZGVmYXVsdFByb3BzIiwiY3NzIiwibG9jYXRpb24iLCJ3aW5kb3ciLCJFcnJvciIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJpbmRleE9mIiwic3RyaW5naWZ5IiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJnZXRFbGVtZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiaXRlbSIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJiaW5kIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsIkJvb2xlYW4iLCJqb2luIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJ1c2VTb3VyY2VNYXAiLCJ0b1N0cmluZyIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImhtciIsImxvY2FscyIsIlRyYXNoIiwidHJhc2hSZWYiLCJlbGVtZW50VG9CZVRyYXNoZWQiLCJfdGhpcyRwcm9wcyIsIm9uQmVmb3JlVHJhc2giLCJvbkFmdGVyVHJhc2giLCJjaGlsZHJlbiIsIm9uZU9mVHlwZSIsImFycmF5T2YiLCJQYWxldHRlIiwiX3JlbmRlckxpc3QiLCJwYWxldHRlRWxlbWVudHMiLCJwcm9wVmFsdWUiLCJpc0Vycm9yIiwiRHJhZ2dhYmxlIiwiX2RyYWdFbmQiLCJfZHJhZ1N0YXJ0IiwicGF5bG9hZCIsImVmZmVjdEFsbG93ZWQiLCJzZXREYXRhIiwiZWxlbWVudFByb3BzIiwib25EcmFnU3RhcnQiLCJkcmFnZ2FibGUiLCJ2YWxpZGF0ZUZvcm1hdCIsImZvcm1hdCIsImNvbmRpdGlvbiIsImEiLCJiIiwiYXJncyIsImFyZ0luZGV4IiwiZnJhbWVzVG9Qb3AiLCJtYWtlRW1wdHlGdW5jdGlvbiIsImFyZyIsImVtcHR5RnVuY3Rpb24iLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiaW52YXJpYW50IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwic3ltYm9sIiwiYW55Iiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfRHJvcHpvbmUyIiwiQ2FudmFzIl0sIm1hcHBpbmdzIjoi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QUdBQSxFQUFBLFFBQ0FBLEVBQUEsdURBR0FBLEVBQUEsR0FFQUcsRUFBT0QsU0FFTDBXLGlCQUNBN1EsbUJBQ0FnTyxvQkFDQUwsa0JBQ0FULGdCQUdBaFEsZ0JBQ0FwQixlQUdBVyx3QkFBeUJtRCxFQUFBQyxRQUFLcEQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE4KTtcbiIsImNsYXNzIENvcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gbWFpbiBvYmplY3Qvc3RvcmVcclxuICAgIGNvbnN0IGNvcmUgPSB7fTtcclxuXHJcbiAgICAvLyBhbGwgcHVibGljIGdldHRlci9zZXR0ZXIgZ29lcyBoZXJlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBnZXQgYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYXR0ZW1wdFRvUmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0QXR0ZW1wdFRvUmVtb3ZlID0gKCkgPT4gKGNvcmUuYXR0ZW1wdFRvUmVtb3ZlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCB1c2VyJ3MgYXR0ZW1wdCB0byByZW1vdmUgdGhlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0QXR0ZW1wdFRvUmVtb3ZlID0gKHN0YXR1cykgPT4ge1xyXG4gICAgICBjb3JlLmF0dGVtcHRUb1JlbW92ZSA9IHN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhZ2dlZEVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXREcmFnZ2VkRWxlbWVudCA9IChkcmFnZ2VkRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb3JlLmRyYWdnZWRFbGVtZW50ID0gZHJhZ2dlZEVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyYWdnZWQgZWxlbWVudFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXREcmFnZ2VkRWxlbWVudCA9ICgpID0+IChjb3JlLmRyYWdnZWRFbGVtZW50KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgLSBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMucmVnaXN0ZXJQYWxldHRlRWxlbWVudHMgPSAocmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cykgPT4ge1xyXG4gICAgICBjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgPSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiByZWdpc3RlcmVkIHBhbGV0dGUgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBhcnJheSBvZiBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9ICgpID0+IChjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpO1xyXG5cclxuICAgIC8qIGVzbGludCBuby1jb25zb2xlOjAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGdpdmUgYW4gZXJyb3IgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZXJyb3IgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gbG9nIGEgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG9nID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGNvcmUgPSBuZXcgQ29yZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29yZTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlJztcclxuXHJcbmNsYXNzIFN0YXRlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIGFsbCBwcml2YXRlIHZhcmliYWxlIGdvZXMgaGVyZVxyXG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcclxuICAgIGNvbnN0IGV2ZW50ID0ge1xyXG4gICAgICBjaGFuZ2U6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldCBiYXNlXHJcbiAgICBzdGF0ZS50cmVlID0gW3tcclxuICAgICAgaWQ6ICdyb290JyxcclxuICAgICAgZmllbGRzOiBbXVxyXG4gICAgfV07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggZWFjaCBub2RlIGFuZCB1cGRhdGUgdGhlIGNvcnJlc3BvbmRpbmcgbm9kZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdXBkYXRlZEZpZWxkcyAtIG5ldyBmaWVsZHMvZWxlbWVudHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcyAtIGZpZWxkcy9lbGVtZW50cyBvZiBjdXJyZW50IGNhbnZhc1xyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVXBkYXRlVHJlZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgZmllbGRzID0gc3RhdGUudHJlZSkgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaGVkUGFyZW50Q2FudmFzID0gZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQuaWQgPT09IHBhcmVudElEKTtcclxuICAgICAgbGV0IHJldHVyblN0YXR1cyA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gZm91bmQgZWxlbWVudFxyXG4gICAgICBpZiAobWF0Y2hlZFBhcmVudENhbnZhcykge1xyXG4gICAgICAgIGlmIChkcm9wem9uZUlEID09PSBwYXJlbnRJRCkge1xyXG4gICAgICAgICAgLy8gZmlyc3QgdGltZSwgY3JlYXRlIGZpZWxkc1xyXG4gICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzIHx8ICF1cGRhdGVkRmllbGRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gdXNlciB0cmllZCB0byByZW1vdmUgZWxlbWVudHNcclxuICAgICAgICAgIGlmIChkcm9wem9uZUlEICYmIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1hdGNoZWQgY2FudmFzIGRvZXMgbm90IGhhcyBzdWNoIGZpZWxkLCBjcmVhdGUgb25lXHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgZmllbGRzVG9CZUFkZGVkID0gW107XHJcbiAgICAgICAgICB1cGRhdGVkRmllbGRzLmZvckVhY2goKHVGaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZEluZGV4ID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMuZmluZEluZGV4KGYgPT4gZi5pZCA9PT0gdUZpZWxkLmlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWVsZEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgIGZpZWxkc1RvQmVBZGRlZC5wdXNoKHVGaWVsZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xyXG4gICAgICAgICAgICAgICAgLm1hcCgoZiwgaSkgPT4gKGkgPT09IGZpZWxkSW5kZXggPyB1RmllbGQgOiBmKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIGFkZCBuZXcgZmllbGQgdG8gZXhpc3RpbmcgYXJyYXlcclxuICAgICAgICAgIGlmIChmaWVsZHNUb0JlQWRkZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMuY29uY2F0KGZpZWxkc1RvQmVBZGRlZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm5TdGF0dXMgPSB0cnVlO1xyXG5cclxuICAgICAgICAvKiBlc2xpbnQgbm8tZWxzZS1yZXR1cm46IDAgKi9cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgY2hpbGRGaWVsZHMgPSBmaWVsZHNbaV0uZmllbGRzO1xyXG4gICAgICAgICAgbGV0IHN0YXR1cyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIC8vIGZpZWxkIGhhcyBzdWItZmllbGRzLCBjaGVjayBpbnNpZGUgc3ViLWZpZWxkc1xyXG4gICAgICAgICAgaWYgKGNoaWxkRmllbGRzKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9IHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgY2hpbGRGaWVsZHMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmV0dXJuU3RhdHVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyaWdnZXIgYWxsIGNoYW5nZSBDQlxyXG4gICAgY29uc3Qgbm90aWZ5U3RhdGVDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgIC8vIHRyaWdnZXIgYWxsIGV2ZW50c1xyXG4gICAgICBldmVudC5jaGFuZ2UuZm9yRWFjaChlID0+IGUoc3RhdGUudHJlZSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byB1cGRhdGUgc3RhdGVcclxuICAgIC8vIG9uY2UgdXBkYXRlIGRvbmUsIHRyaWdnZXJzIENCIGFuZCBub3RpZnlTdGF0ZUNoYW5nZVxyXG4gICAgdGhpcy51cGRhdGVTdGF0ZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzLCBjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICAgIHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzKTtcclxuICAgICAgY2Ioc3RhdGUudHJlZSk7XHJcbiAgICAgIG5vdGlmeVN0YXRlQ2hhbmdlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGN1cnJlbnQgc3RhdGUgb2YgdHJlZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gc3RhdGUgdHJlZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmdldFN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWUpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gY2xlYXIgdGhlIHN0YXRlXHJcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cclxuICAgICAqIHNvIHRoYXQgY29tcG9uZW50IGFzIHdlbGwgYXMgYXBwbGljYXRpb24gc3RhdGUgZ2V0cyBmbHVzaGVkXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY2xlYXJTdGF0ZSA9ICgpID0+IHtcclxuICAgICAgY29uc3Qgcm9vdE5vZGUgPSBzdGF0ZS50cmVlWzBdO1xyXG4gICAgICBjb25zdCB0b3BMZXZlbEZpZWxkcyA9IHJvb3ROb2RlLmZpZWxkcy5sZW5ndGg7XHJcblxyXG4gICAgICByb290Tm9kZS5maWVsZHMuZm9yRWFjaCgodG9wTGV2ZWxFbGVtZW50LCBpKSA9PiB7XHJcbiAgICAgICAgdG9wTGV2ZWxFbGVtZW50LmZsdXNoRHJvcHBlZEVsZW1lbnRzKCgpID0+IHtcclxuICAgICAgICAgIGlmIChpID09PSB0b3BMZXZlbEZpZWxkcyAtIDEpIHtcclxuICAgICAgICAgICAgbm90aWZ5U3RhdGVDaGFuZ2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBhZGQgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyID0gKGV2ZW50TmFtZSwgY2IpID0+IHtcclxuICAgICAgbGV0IHJldHVybkNCID0gbnVsbDtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdgY2JgIHBhcmFtIGhhcyB0byBiZSBmdW5jdGlvbicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgIGV2ZW50W2V2ZW50TmFtZV0ucHVzaChjYik7XHJcblxyXG4gICAgICAgIHJldHVybkNCID0gY2I7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29yZS5lcnJvcignTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmV0dXJuQ0I7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmVtb3ZlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWUsIGNiKSA9PiB7XHJcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXZlbnQsIGV2ZW50TmFtZSkpIHtcclxuICAgICAgICBldmVudFtldmVudE5hbWVdID0gZXZlbnRbZXZlbnROYW1lXS5maWx0ZXIoZSA9PiBlICE9PSBjYik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29yZS5lcnJvcignTm8gc3VjaCBldmVudCcpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHN0YXRlO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IHN0YXRlIGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xyXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xyXG5cclxuY2xhc3MgRHJvcHpvbmUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgLy8gY3JlYXRlIHJlZnJlbmNlIGZvciBjYW52YXNcclxuICAgIC8vIHRvIGNoZWNrIHdoZXRoZXIgaXMgZHJhZ2dpbmcgb24gY3VycmVudCBjYW52YXMgb3Igbm90XHJcbiAgICB0aGlzLmNhbnZhc1JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG5cclxuICAgIC8vIGNvbXBvbmVudCBzdGF0ZVxyXG4gICAgLy8gaW5pdGlhbEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBpbml0aWFsIGVsZW1lbnRzXHJcbiAgICAvLyBkcm9wcGVkRWxlbWVudHMgLSB0byBrZWVwIHRyYWNrIG9mIG5ld2x5IGFkZGVkIGVsZW1lbnRzXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBpbml0aWFsRWxlbWVudHM6IFtdLFxyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IFtdXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgdGhpcy5fc2V0SW5pdGlhbEVsZW1lbnRzKHRoaXMucHJvcHMuaW5pdGlhbEVsZW1lbnRzKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoeyBpbml0aWFsRWxlbWVudHMgfSkge1xyXG4gICAgdGhpcy5fc2V0SW5pdGlhbEVsZW1lbnRzKGluaXRpYWxFbGVtZW50cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byBzZXQgaW5pdGlhbCBlbGVtZW50c1xyXG4gICAqIEBwYXJhbSBpbml0aWFsRWxlbWVudHMge0FycmF5fSAtIEl0IGhvbGRzIGFsbCBpbml0aWFsIGVsZW1lbnRzIHRvIGJlIHNob3duIGluIGNhbnZhc1xyXG4gICAqL1xyXG4gIF9zZXRJbml0aWFsRWxlbWVudHMgPSAoaW5pdGlhbEVsZW1lbnRzKSA9PiB7XHJcbiAgICAvLyBjdXJyZW50IGNvbXBvbmVudCBzdGF0ZShkcm9wcGVkRWxlbWVudHMpIGRvZXNuJ3QgaG9sZCBhbnkgZWxlbWVudHNcclxuICAgIC8vIGJ1dCBpbml0aWFsRWxlbWVudHMgaGFzIHNvbWUgZWxlbWVudCB0byBiZSBzZXRcclxuICAgIGNvbnN0IGdvdEluaXRpYWxJdGVtcyA9IEFycmF5LmlzQXJyYXkoaW5pdGlhbEVsZW1lbnRzKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEVsZW1lbnRzLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBmb3IgZmlyc3QgdGltZSBhZGQgaW5pdGlhbEVsZW1lbnRzIHRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAgaWYgKGdvdEluaXRpYWxJdGVtcykge1xyXG4gICAgICBjb25zdCB7IGlkOiBkcm9wem9uZUlEIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICBjb25zdCB1cGRhdGVkSW5pdGlhbEl0ZW1zID0gaW5pdGlhbEVsZW1lbnRzLm1hcChlID0+ICh7XHJcbiAgICAgICAgLi4uZSxcclxuICAgICAgICBrZXk6IGUuaWQsXHJcbiAgICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICAgIGZsdXNoRHJvcHBlZEVsZW1lbnRzOiB0aGlzLl9mbHVzaERyb3BwZWRFbGVtZW50cyxcclxuICAgICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpbml0aWFsRWxlbWVudHM6IHVwZGF0ZWRJbml0aWFsSXRlbXMsXHJcbiAgICAgICAgZHJvcHBlZEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zXHJcbiAgICAgIH0sIHRoaXMuX3VwZGF0ZVN0YXRlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLmNhbnZhc1JlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdFthY3Rpb25dKCdpbnNpZGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50IGZyb20gZHJvcHBlZEVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGVsZW1lbnRJRCAtIHtTdHJpbmd9IC0gSUQgb2YgZWxlbWVudFxyXG4gICAqL1xyXG4gIF9yZW1vdmVFbGVtZW50ID0gKGVsZW1lbnRJRCkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBlbGVtZW50SUQpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmZpbHRlcigoZCwgaSkgPT4gKGkgIT09IGluZGV4KSlcclxuICAgIH0sIHRoaXMuX3VwZGF0ZVN0YXRlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgYXBwbGljYXRpb24gc3RhdGUgKG5vdCBjb21wb25lbnQgc3RhdGUpXHJcbiAgICogZnVuY3Rpb24gd2lsbCBmdXJ0aGVyIGNhbGwgYHVwZGF0ZVN0YXRlYCBmcm9tIHN0YXRlIEFQSSwgd2hpY2ggdXBkYXRlcyB0aGUgYXBwbGljYXRpb24gc3RhdGVcclxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcclxuICAgKi9cclxuICBfdXBkYXRlU3RhdGUgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBpZDogZHJvcHpvbmVJRCxcclxuICAgICAgcGFyZW50SURcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHN0YXRlLnVwZGF0ZVN0YXRlKFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBwYXJlbnRJRCxcclxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gZmx1c2ggdGhlIGNvbXBvbmVudCBzdGF0ZVxyXG4gICAqIG9uY2UgY29tcG9uZW50IHN0YXRlIHRocyBmbHVzaGVkLCB0aGlzIHdpbGwgY2FsbCBgX3VwZGF0ZVN0YXRlYCB0byB1cGRhdGUgdGhlXHJcbiAgICogYXBwbGljYXRpb24gc3RhdGVcclxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcclxuICAgKi9cclxuICBfZmx1c2hEcm9wcGVkRWxlbWVudHMgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW11cclxuICAgIH0sICgpID0+ICh0aGlzLl91cGRhdGVTdGF0ZShjYikpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIGNoZWNrIGJlbG93IHBhcmFtZXRlcnNcclxuICAgKiAxIC0gdXNlcidzIGludGVuZCBpcyB0byBtb3ZlIGVsZW1lbnQgZnJvbSBvbmUgY2FudmFzIHRvIG90aGVyXHJcbiAgICogMiAtIEdldCBjb25maXJtYXRpb24gYmVmb3JlIHJlbW92ZVxyXG4gICAqIG9uY2UgYm90aCBjb25kaXRpb24gbWF0Y2hlZCByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xyXG4gICAqL1xyXG4gIF9jaGVja0FuZFJlbW92ZUVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50TW92ZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQsIGVsZW1lbnRJRCB9ID0gZWxlbWVudE1vdmVkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5wcm9wcy5vbkVsZW1lbnRNb3ZlKGVsZW1lbnRNb3ZlZCk7XHJcbiAgICBjb25zdCBhdHRlbXB0VG9Nb3ZlID0gIWNvcmUuZ2V0QXR0ZW1wdFRvUmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKHN0YXR1cyAmJiBhdHRlbXB0VG9Nb3ZlKSB7XHJcbiAgICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudElEKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgY2FudmFzXHJcbiAgLy8gYHByZXZlbnREZWZhdWx0YCAtIFJlcXVpcmVkLiBBbGxvd3MgdXMgdG8gZHJvcC5cclxuICAvLyBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdXNlciBpcyBsZWF2aW5nIHRoZSBjYW52YXNcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0xlYXZlID0gKGUpID0+IHtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdXNlciBpcyBkcmFnZ2luZyBvdmVyIGNhbnZhc1xyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnRW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ2FkZCcpO1xyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdXNlIGhhcyBkcm9wcGVkIHRoZSBlbGVtZW50IGludG8gdGhlIGNhbnZhc1xyXG4gICAqIHBlcmZvcm0gYWxsIHJlcXVpcmVkIGNoZWNrc1xyXG4gICAqIGZ1bmN0aW9uIGFsc28gdHJpZ2dlcnMgYG9uRHJvcGAgcHJvcCBzbyB0aGF0IHVzZXQgY2FuIHByb3ZpZGUgYWRkaXRpb25hbCBpbmZvXHJcbiAgICogb25jZSBhbGwgZG9uZSBgX2FkZEVsZW1lbnRgIGdldCBjYWxsZWQgd2l0aCBhbGwgcmVxdWlyZWQgaW5mb1xyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25Ecm9wID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xyXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xyXG5cclxuICAgIGNvbnN0IHsgb25Ecm9wIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2RhdGEnKSk7XHJcbiAgICBkYXRhID0geyAuLi5kYXRhIH07XHJcblxyXG4gICAgcmV0dXJuIG9uRHJvcCA/IG9uRHJvcChkYXRhLCB0aGlzLl9hZGRFbGVtZW50KSA6IHRoaXMuX2FkZEVsZW1lbnQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byBhZGQgZWxlbWVudCBpbnRvIGRyb3BwZWRFbGVtZW50c1xyXG4gICAqIHByaW9yIHRvIGFkZCBpdCBwZXJmb20gYmVsb3cgY2hlY2tcclxuICAgKiAxIC0gZWxlbWVudCBoYXMgdW5pcXVlIGtleVxyXG4gICAqIDIgLSBlbGVtZW50IGhhcyBpbnZhbGlkIGRhdGFcclxuICAgKiAzIC0gY2hlY2sgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgKiBvbmNlIGVsZW1lbnQgYWRkZWQgcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICogQHBhcmFtIHVwZGF0ZWREYXRhIHtPYmplY3R9IC0gZWxlbWVudCBpbmZvcm1hdGlvblxyXG4gICAqIEByZXR1cm5zIE9iamVjdCAtIG5ldyBsaXN0IG9mIGNhbnZhcyBlbGVtZW50c1xyXG4gICAqL1xyXG4gIF9hZGRFbGVtZW50ID0gKHVwZGF0ZWREYXRhKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGlkOiBkcm9wem9uZUlELFxyXG4gICAgICBjYXBhY2l0eVxyXG4gICAgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCBkcmFnZ2VkRWxlbWVudCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuICAgIGNvbnN0IGludmFsaWRVcGRhdGVkRGF0YSA9ICF1cGRhdGVkRGF0YSB8fCAhdXBkYXRlZERhdGEuaWQ7XHJcbiAgICBjb25zdCBrZXlBbHJlYWR5UHJlc2VudCA9IHVwZGF0ZWREYXRhLmlkICYmXHJcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmZpbHRlcihlID0+IGUuaWQgPT09IHVwZGF0ZWREYXRhLmlkKS5sZW5ndGg7XHJcblxyXG4gICAgLy8gY2hlY2sgZm8gdW5pcXVlIGtleVxyXG4gICAgaWYgKGludmFsaWRVcGRhdGVkRGF0YSB8fCBrZXlBbHJlYWR5UHJlc2VudCkge1xyXG4gICAgICByZXR1cm4gY29yZS5lcnJvcignRHVwbGljYXRlIG9yIGludmFsaWQgSUQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYWtlIG5ldyBsaXN0XHJcbiAgICBjb25zdCBuZXdFbGVtZW50cyA9IHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmNvbmNhdCh7XHJcbiAgICAgIC4uLnVwZGF0ZWREYXRhLFxyXG4gICAgICBrZXk6IHVwZGF0ZWREYXRhLmlkLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcclxuICAgICAgZmx1c2hEcm9wcGVkRWxlbWVudHM6IHRoaXMuX2ZsdXNoRHJvcHBlZEVsZW1lbnRzLFxyXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gY2hlY2sgbmV3IGxpc3QgYWdhaW5zdCBtYXgtY2FwYWNpdHlcclxuICAgIGlmIChjYXBhY2l0eSAmJiBuZXdFbGVtZW50cy5sZW5ndGggPiBjYXBhY2l0eSkge1xyXG4gICAgICByZXR1cm4gY29yZS5lcnJvcihgTWF4aW11bSBjYXBhY2l0eSBvZiBjYW52YXMoJHtkcm9wem9uZUlEfSkgaXMgJHtjYXBhY2l0eX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgbGlzdFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogbmV3RWxlbWVudHNcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcclxuICAgICAgaWYgKGRyYWdnZWRFbGVtZW50ICYmIHR5cGVvZiBkcmFnZ2VkRWxlbWVudC5jaGVja0FuZFJlbW92ZUVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBkcmFnZ2VkRWxlbWVudC5jaGVja0FuZFJlbW92ZUVsZW1lbnQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gdXBkYXRlIHRoZSBhcHBsaWNhdGlvbiBzdGF0ZVxyXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgZWxlbWVudHM6IG5ld0VsZW1lbnRzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XHJcbiAgICogQHJldHVybnMgSlNYXHJcbiAgICovXHJcbiAgX3JlbmRlckRyYWdJdGVtID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XHJcbiAgICByZXR1cm4gZWxlbWVudCA/IDxlbGVtZW50LmNvbXBvbmVudCB7Li4ucHJvcHN9IC8+IDogbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3QgeyBjYXBhY2l0eSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXt0aGlzLmNhbnZhc1JlZn1cclxuICAgICAgICBjbGFzc05hbWU9e2Ake2NhcGFjaXR5ICYmIGNhcGFjaXR5ID09PSBkcm9wcGVkRWxlbWVudHMubGVuZ3RoID8gJ25vLXNwYWNlJyA6ICcnfSBjYW52YXNgfVxyXG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XHJcbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuX29uRHJhZ0xlYXZlfVxyXG4gICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLl9vbkRyYWdFbnRlcn1cclxuICAgICAgICBvbkRyb3A9e3RoaXMuX29uRHJvcH1cclxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX29uRHJhZ0VuZH1cclxuICAgICAgPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRyb3BwZWRFbGVtZW50cy5tYXAoZSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYWdJdGVtKHsgLi4uZSB9KVxyXG4gICAgICAgICAgKSlcclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRyb3B6b25lLnByb3BUeXBlcyA9IHtcclxuICBhY2NlcHRFbGVtZW50OiBQcm9wVHlwZXMuYm9vbCxcclxuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIGNhcGFjaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIG9uRHJvcDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25FbGVtZW50TW92ZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgaW5pdGlhbEVsZW1lbnRzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihQcm9wVHlwZXMuYXJyYXkpLFxyXG4gIHBhcmVudElEOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcclxufTtcclxuXHJcbkRyb3B6b25lLmRlZmF1bHRQcm9wcyA9IHtcclxuICBhY2NlcHRFbGVtZW50OiB0cnVlLFxyXG4gIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgb25FbGVtZW50TW92ZTogKCkgPT4gKHRydWUpXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcm9wem9uZTtcclxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIGRyYWdnYWJsZSBlbGVtZW50IHN0eWxlICovXFxyXFxuLyogUHJldmVudCB0aGUgdGV4dCBjb250ZW50cyBvZiBkcmFnZ2FibGUgZWxlbWVudHMgZnJvbSBiZWluZyBzZWxlY3RhYmxlLiAqL1xcclxcbltkcmFnZ2FibGVdIHtcXHJcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAvKiBSZXF1aXJlZCB0byBtYWtlIGVsZW1lbnRzIGRyYWdnYWJsZSBpbiBvbGQgV2ViS2l0ICovXFxyXFxuICAta2h0bWwtdXNlci1kcmFnOiBlbGVtZW50O1xcclxcbiAgLXdlYmtpdC11c2VyLWRyYWc6IGVsZW1lbnQ7XFxyXFxufVxcclxcblxcclxcbi8qIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzIHdoZW4gdXNlciBkcmFnZ2luZyBvdmVyIG9uIGl0ICovXFxyXFxuLmluc2lkZSB7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94Lmluc2lkZSxcXHJcXG4uY2FudmFzLmluc2lkZS5uby1zcGFjZSB7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjUpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwcHggMHB4IDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxyXFxuICBib3gtc2hhZG93OiBpbnNldCAwcHggMHB4IDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xyXG5cclxuY2xhc3MgVHJhc2ggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgLy8gY3JlYXRlIHJlZnJlbmNlIGZvciB0cmFzaFxyXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiB0cmFzaCBib3ggb3Igbm90XHJcbiAgICB0aGlzLnRyYXNoUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmdW5jdGlvbiB0byB0b2dnbGUvbWFuYWdlIGNsYXNzKGluc2lkZSlcclxuICAgKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhc1xyXG4gICAqIEBwYXJhbSB0YXJnZXQge0RPTX0gLSBjdXJyZW50IGNhbnZhcyB1cG9uIHdoaWNoIHVzZSBpcyBob3ZlcmluZ1xyXG4gICAqIEBwYXJhbSBhY3Rpb24ge1N0cmluZ30gLSBhZGQvcmVtb3ZlIC0gbmFtZSBvZiBhY3Rpb25cclxuICAgKi9cclxuICBfbWFuYWdlSW5zaWRlQ2xhc3MgPSAoeyB0YXJnZXQgfSwgYWN0aW9uKSA9PiB7XHJcbiAgICBpZiAodGhpcy50cmFzaFJlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdFthY3Rpb25dKCdpbnNpZGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9vbkRyb3AgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAvLyBnZXQgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICBjb25zdCBlbGVtZW50VG9CZVRyYXNoZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcblxyXG4gICAgLy8gZG9udCBhbGxvdyBlbGVtZW50cyB3aGljaCBkaXJlY3RseSBjb21pbmcgZnJvbSBwYWxldHRlXHJcbiAgICBpZiAoIWVsZW1lbnRUb0JlVHJhc2hlZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBvbkJlZm9yZVRyYXNoLCBvbkFmdGVyVHJhc2ggfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQgfSA9IGVsZW1lbnRUb0JlVHJhc2hlZDtcclxuICAgIGNvbnN0IHN0YXR1cyA9IG9uQmVmb3JlVHJhc2goZWxlbWVudFRvQmVUcmFzaGVkKTtcclxuXHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcblxyXG4gICAgLy8gdXNlciB0cmllZCBhbmQgY29uZmlybSB0byByZW1vdmUgZWxlbWVudFxyXG4gICAgaWYgKHN0YXR1cyAmJiBjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpKSB7XHJcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gY3VycmVudCBjYW52YXNcclxuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50VG9CZVRyYXNoZWQuZWxlbWVudElEKTtcclxuXHJcbiAgICAgIC8vIGFja25vd2xlZGdlXHJcbiAgICAgIG9uQWZ0ZXJUcmFzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlc2V0IGF0dGVtcHQgdG8gcmVtb3ZlXHJcbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZShmYWxzZSk7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdGhlIHRyYXNoXHJcbiAgLy8gYHByZXZlbnREZWZhdWx0YCAtIFJlcXVpcmVkLiBBbGxvd3MgdXMgdG8gZHJvcC5cclxuICAvLyBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdXNlciBpcyBsZWF2aW5nIHRoZSB0cmFzaFxyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnTGVhdmUgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdXNlciBpcyBkcmFnZ2luZyBvdmVyIHRyYXNoXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdFbnRlciA9IChlKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50VG9CZVRyYXNoZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnRUb0JlVHJhc2hlZCkge1xyXG4gICAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXt0aGlzLnRyYXNoUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cInRyYXNoLWJveFwiXHJcbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuX29uRHJhZ0xlYXZlfVxyXG4gICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLl9vbkRyYWdFbnRlcn1cclxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLl9vbkRyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJvcD17dGhpcy5fb25Ecm9wfVxyXG4gICAgICA+XHJcbiAgICAgICAgeyB0aGlzLnByb3BzLmNoaWxkcmVuIHx8IDxzcGFuPlRyYXNoIEJveDwvc3Bhbj4gfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5UcmFzaC5wcm9wVHlwZXMgPSB7XHJcbiAgb25CZWZvcmVUcmFzaDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25BZnRlclRyYXNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZWxlbWVudCksXHJcbiAgICBQcm9wVHlwZXMuZWxlbWVudFxyXG4gIF0pLFxyXG59O1xyXG5cclxuVHJhc2guZGVmYXVsdFByb3BzID0ge1xyXG4gIG9uQmVmb3JlVHJhc2g6ICgpID0+ICh0cnVlKSxcclxuICBvbkFmdGVyVHJhc2g6ICgpID0+ICh0cnVlKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVHJhc2g7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xyXG5cclxuY2xhc3MgUGFsZXR0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XHJcbiAgICogQHJldHVybnMgSlNYXHJcbiAgICovXHJcbiAgX3JlbmRlckxpc3QgPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBjb3JlLmdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMoKS5maW5kKGUgPT4gZS50eXBlID09PSBwcm9wcy50eXBlKTtcclxuICAgIHJldHVybiBlbGVtZW50ID8gPGVsZW1lbnQuY29tcG9uZW50IHsuLi5wcm9wc30gLz4gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBwYWxldHRlRWxlbWVudHMgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWxldHRlXCI+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcGFsZXR0ZUVsZW1lbnRzLm1hcChpdGVtID0+IChcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdCh7IC4uLml0ZW0sIGtleTogaXRlbS5pZCwgc2hvd0Jhc2ljQ29udGVudDogdHJ1ZSB9KVxyXG4gICAgICAgICAgKSlcclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblBhbGV0dGUucHJvcFR5cGVzID0ge1xyXG4gIHBhbGV0dGVFbGVtZW50czogUHJvcFR5cGVzLmFycmF5T2YoKHByb3BWYWx1ZSkgPT4ge1xyXG4gICAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBhbGwgcGFsZXR0ZSBlbGVtZW50cyBzaG91bGQgaGF2ZSB1bmlxdWUgSURcclxuICAgIHByb3BWYWx1ZS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtICYmICFpdGVtLmlkKSB7XHJcbiAgICAgICAgaXNFcnJvciA9ICdgaWRgIGlzIHJlcXVpcmVkIGluIGFsbCBwYWxldHRlIGVsZW1lbnQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJvcFZhbHVlLmZpbHRlcihpID0+IGkuaWQgPT09IGl0ZW0uaWQpLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBpc0Vycm9yID0gJ2BpZGAgb2YgcGFsZXR0ZSBlbGVtZW50IHNob3VsZCBiZSB1bmlxdWUnO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaXNFcnJvciA/IG5ldyBFcnJvcihpc0Vycm9yKSA6IHRydWU7XHJcbiAgfSlcclxufTtcclxuXHJcblBhbGV0dGUuZGVmYXVsdFByb3BzID0ge1xyXG4gIHBhbGV0dGVFbGVtZW50czogW11cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhbGV0dGU7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xyXG5cclxuY2xhc3MgRHJhZ2dhYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBfZHJhZ0VuZCA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIC8vIGRvbmUgZHJhZ2dpbmcsIHJlc2V0IGRyYWdnZWQgZWxlbWVudFxyXG4gICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudChudWxsKTtcclxuICB9XHJcblxyXG4gIF9kcmFnU3RhcnQgPSAoZSkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGlkLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBuYW1lLFxyXG4gICAgICBwYXlsb2FkLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICByZW1vdmVFbGVtZW50LFxyXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGlkLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBuYW1lLFxyXG4gICAgICBwYXlsb2FkXHJcbiAgICB9O1xyXG5cclxuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnY29weSc7XHJcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOyAvLyByZXF1aXJlZCwgd2UgY2Fubid0IHBhc3MgSlMgb2JqZWN0XHJcblxyXG4gICAgLy8gaWYgZWxlbWVudCBpcyBhbHJlYWR5IHByZXNlbnQgaW4gc29tZSBjYW52YXNcclxuICAgIC8vIHRoZW4gc2V0IGRyYWdnZWRFbGVtZW50LCBzbyB0aGF0IHRoaXMgd2lsbCBoZWxwIHRvIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHByZXZpb3VzIGNhbnZhc1xyXG4gICAgaWYgKGRyb3B6b25lSUQpIHtcclxuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudCh7XHJcbiAgICAgICAgZWxlbWVudElEOiBpZCxcclxuICAgICAgICBkcm9wem9uZUlELFxyXG4gICAgICAgIHJlbW92ZUVsZW1lbnQsXHJcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBlbGVtZW50UHJvcHMgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzTmFtZT1cImRyYWctaXRlbVwiXHJcbiAgICAgICAgb25EcmFnU3RhcnQ9e3RoaXMuX2RyYWdTdGFydH1cclxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX2RyYWdFbmR9XHJcbiAgICAgICAgZHJhZ2dhYmxlXHJcbiAgICAgICAgey4uLmVsZW1lbnRQcm9wc31cclxuICAgICAgPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRyYWdnYWJsZS5wcm9wVHlwZXMgPSB7XHJcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRyb3B6b25lSUQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgcGF5bG9hZDogUHJvcFR5cGVzLmluc3RhbmNlT2YoUHJvcFR5cGVzLm9iamVjdCksXHJcbiAgZWxlbWVudFByb3BzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihQcm9wVHlwZXMub2JqZWN0KSxcclxuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpLFxyXG4gICAgUHJvcFR5cGVzLmVsZW1lbnRcclxuICBdKS5pc1JlcXVpcmVkLFxyXG4gIHJlbW92ZUVsZW1lbnQ6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkRyYWdnYWJsZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiAoKSA9PiAodHJ1ZSksXHJcbiAgZWxlbWVudFByb3BzOiBudWxsLFxyXG4gIHBheWxvYWQ6IG51bGxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyYWdnYWJsZTtcclxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IERyb3B6b25lIGZyb20gJy4uL0Ryb3B6b25lL0Ryb3B6b25lJztcclxuXHJcbi8vIGR1bXAgY29tcG9uZW50IHdoaWNoIGV4dGVuZHMgRHJvcHpvbmUgYnV0IHdpdGggc29tZSBmaXhlZCBwcm9wZXJ0aWVzIC0gaWQgYW5kIHBhcmVudElEXHJcbi8vIGJvdGggcHJvcHMgc2V0IHRvIGByb290YCAtIHJlcXVpcmVkIHNpbmNlIGFwcGxpY2F0aW9uIHN0YXRlIGhvbGRzIGByb290YCBhcyBwYXJlbnQgbm9kZVxyXG5jb25zdCBDYW52YXMgPSBwcm9wcyA9PiAoXHJcbiAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNhbnZhc1wiPlxyXG4gICAgPERyb3B6b25lIHsuLi5wcm9wc30gcGFyZW50SUQ9XCJyb290XCIgaWQ9XCJyb290XCIgLz5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcclxuIiwiLy8gaW1wb3J0IGFsbCBjb21wb25lbnRzXHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMnO1xyXG5pbXBvcnQgRHJvcHpvbmUgZnJvbSAnLi9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lJztcclxuaW1wb3J0IERyYWdnYWJsZSBmcm9tICcuL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZSc7XHJcbmltcG9ydCBQYWxldHRlIGZyb20gJy4vY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUnO1xyXG5pbXBvcnQgVHJhc2ggZnJvbSAnLi9jb21wb25lbnRzL1RyYXNoL1RyYXNoJztcclxuXHJcbi8vIGltcG9ydCBhbGwgQVBJJ3NcclxuaW1wb3J0IHN0YXRlIGZyb20gJy4vY29yZS9zdGF0ZSc7XHJcbmltcG9ydCBjb3JlIGZyb20gJy4vY29yZS9jb3JlJztcclxuXHJcbi8vIGltcG9ydCBiYXNpYyBzdHlsZVxyXG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIC8vIGFsbCBjb21wb25lbnRzXHJcbiAgQ2FudmFzLFxyXG4gIERyb3B6b25lLFxyXG4gIERyYWdnYWJsZSxcclxuICBQYWxldHRlLFxyXG4gIFRyYXNoLFxyXG5cclxuICAvLyBhbGwgb3BlbiBBUEknc1xyXG4gIHN0YXRlLFxyXG4gIGNvcmUsXHJcblxyXG4gIC8vIHNpbmNlIHRoaXMgaXMgcmV1aXJlZCBmdW5jdGlvbiwga2VlcGluZyBzZXByYXRlXHJcbiAgcmVnaXN0ZXJQYWxldHRlRWxlbWVudHM6IGNvcmUucmVnaXN0ZXJQYWxldHRlRWxlbWVudHNcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==
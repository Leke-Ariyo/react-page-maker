module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements},this.setDropPostion=function(e){t.dropPosition=e},this.getDropPostion=function(){return t.dropPosition},this.error=function(e){return console.error(e),!1},this.log=function(e){return console.log(e),!0}};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(16)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n={change:[]};t.tree=[{id:"root",fields:[]}];var r=function(){n.change.forEach(function(e){return e(t.tree)})};this.updateState=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var l=[];i.fields.filter(function(e){return e.dropzoneID===n}).length!==o.length?i.fields=o.concat(i.fields.filter(function(e){return e.dropzoneID!==n})):o.forEach(function(e){var t=i.fields.findIndex(function(t){return t.id===e.id});-1===t?l.push(e):i.fields=i.fields.map(function(n,r){return r===t?e:n})}),l.length&&(i.fields=i.fields.concat(l))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var u=0;u<a.length;u++){var f=a[u].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,o),a(t.tree),r()},this.getState=function(){return t.tree},this.clearState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.tree[0],o=n.fields.length;return n.fields.length||(r(),e()),n.fields.forEach(function(t,n){t.flushDroppedElements(function(){n===o-1&&(r(),e())})}),!0},this.addEventListener=function(e,t){var r=null;return"function"!=typeof t?(a.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(n,e)?(n[e].push(t),r=t):a.default.error("No such event"),r)},this.removeEventListener=function(e,t){Object.prototype.hasOwnProperty.call(n,e)?n[e]=n[e].filter(function(e){return e!==t}):a.default.error("No such event")}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),l=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[],initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props,o=n.capacity,a=n.id,s=n.placeholder,l=!o||o>t.length;return i.default.createElement("div",{ref:this.canvasRef,className:(l?"":"no-space")+" "+("root"===a?"canvas":"")+" "+(t.length?"":"empty")+" dropzone",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t,n){return e._renderDragItem(r({},t,{index:n,spaceAvailable:l,initDone:e.state.initDone,dropzoneProps:{initDone:e.state.initDone,parentID:t.id}}))}),t.length?null:i.default.createElement("p",{className:"dropzone-placeholder"},s))}}]),t}(),d=function(){var e=this;this.dangerouslySetElements=function(t,n){var o=[];o="function"==typeof t?t(e.state.droppedElements)||[]:t;var a=e.props.id;o=o.map(function(t){return r({},t,{dropzoneID:a,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})}),e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(n)})},this._unmarkDragElements=function(){[].forEach.call(e.canvasRef.current.querySelectorAll(".drag-item"),function(e){return e.classList.remove("before","after")})},this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initialElements.length){var n=e.props.id,o=t.map(function(t){return r({},t,{key:t.id,dropzoneID:n,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(function(){e.setState({initDone:!0})})})}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==r})},function(){return e._updateState(n)})},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.id,o=n.parentID;l.default.updateState(r,o,e.state.droppedElements,t)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({initialElements:[],droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=u.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!u.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault(),e.stopPropagation()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),u.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),u.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation(),u.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var n=e.props.onDrop,o=JSON.parse(t.dataTransfer.getData("data"));return o=r({},o),e._unmarkDragElements(),n?n(o,e._addElement,{dropIndex:u.default.getDropPostion()+1,currentElements:e.state.droppedElements}):e._addElement(o)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=u.default.getDropPostion(),s=u.default.getDraggedElement(),l=!t||!t.id,f=-1,p=t.id&&e.state.droppedElements.filter(function(e,n){return e.id===t.id&&(f=n,!0)}).length,d=f===i,m=[].concat(e.state.droppedElements),h=!1;if(l||p){if(d)return u.default.error("Duplicate or invalid ID");h=!0,m=m.map(function(e){return e.id===t.id?r({},e,{remove:!0}):e})}var g=r({},t,{key:t.id,dropzoneID:o,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement});return m=i>0?[].concat(c(m.slice(0,i)),[g],c(m.slice(i))):[g].concat(c(m)),d||(m=m.filter(function(e){return!e.remove})),a&&m.length>a?u.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:m},function(){!h&&s&&"function"==typeof s.checkAndRemoveElement&&s.checkAndRemoveElement(),e._updateState()}),{dropzoneID:o,elements:m})},this._renderDragItem=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};p.propTypes={id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,initialElements:s.default.arrayOf(Object),parentID:s.default.string.isRequired,placeholder:s.default.string},p.defaultProps={initialElements:[],placeholder:"Drop Here",onElementMove:function(){return!0}},t.default=p},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,f=[],c=n(5);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=l||(l=g(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\r\n\r\n/* Prevent the text contents of draggable elements from being selectable. */\r\n[draggable] {\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n\r\n  /* Required to make elements draggable in old WebKit */\r\n  -khtml-user-drag: element;\r\n  -webkit-user-drag: element;\r\n}\r\n\r\n/* class gets appended to canvas when user dragging over on it */\r\n.inside {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\r\n}\r\n\r\n.trash-box.inside,\r\n.dropzone.inside.no-space {\r\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\r\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\r\n}\r\n\r\n.dropzone {\r\n  width: 100%;\r\n  padding: 10px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  background: #f0faff;\r\n  border: 1px solid #0277bd;\r\n}\r\n\r\n.dropzone.empty {\r\n  padding: 40px;\r\n}\r\n\r\n.palette {\r\n  padding: 10px;\r\n  background: #fff;\r\n  box-sizing: border-box;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.drag-item {\r\n  padding: 10px;\r\n  color: #01579b;\r\n  box-sizing: border-box;\r\n  background-color: #b3e5fc;\r\n  border: 1px solid #01579b;\r\n}\r\n\r\n.dropzone-placeholder {\r\n  width: 100%;\r\n  color: #01579b;\r\n  text-align: center;\r\n  position: absolute;\r\n  left: 0;\r\n  top: calc(50% - 10px);\r\n  animation-name: changeColor;\r\n  animation-duration: 2s;\r\n  animation-timing-function: ease-in-out;\r\n  animation-iteration-count: infinite;\r\n}\r\n\r\n@keyframes changeColor {\r\n  25% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n\r\n  75% {\r\n    transform: scale(1);\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n.palette-wrapper .drag-item {\r\n  color: #fff;\r\n  background-color: #01579b;\r\n}\r\n\r\n.drag-item + div {\r\n  margin-top: 10px;\r\n}\r\n\r\n.drag-item.after,\r\n.drag-item.before {\r\n  position: relative;\r\n}\r\n\r\n.drag-item.after::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  bottom: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  -moz-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n  box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\r\n}\r\n\r\n.drag-item.before::before {\r\n  content: '';\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 1px;\r\n  background: #14b451;\r\n  left: 50%;\r\n  top: -1px;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, 0);\r\n  -webkit-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  -moz-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n  box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\r\n}\r\n\r\n.trash-box {\r\n  padding: 30px 10px;\r\n  margin: 10px 0;\r\n  color: #b71c1c;\r\n  background: #ffcdd2;\r\n  text-align: center;\r\n  border: 1px solid #b71c1c;\r\n}\r\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=l(o),i=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,l=o(t);return n._manageInsideClass(e,"remove"),l&&s.default.getAttemptToRemove()&&(i(t.elementID,function(){a()}),s.default.setDraggedElement(null)),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();u.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},u.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragEnd=function(e){e.stopPropagation(),n.dragElemRef.current.classList.remove("before","after"),l.default.setDraggedElement(null)},n._dragStart=function(e){e.stopPropagation();var t=n.props,r=t.id,o=t.type,a=t.name,i=t.payload,s=t.dropzoneID,u=t.removeElement,f=t.checkAndRemoveElement,c={id:r,type:o,name:a,payload:i};e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(c)),s&&l.default.setDraggedElement({elementID:r,dropzoneID:s,removeElement:u,checkAndRemoveElement:f})},n._onDragOver=function(e){var t=n.dragElemRef.current.getBoundingClientRect(),r=e.clientY;if(!n.props.spaceAvailable)return!1;r>=t.y&&r<=t.y+t.height&&(r<t.y+t.height/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1)));return!0},n._onDragLeave=function(){n.dragElemRef.current.classList.remove("before","after")},n.dragElemRef=i.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initDone!==e.initDone&&e.initDone&&this.props.updateState()}},{key:"render",value:function(){var e=this.props,t=e.elementProps,n=e.draggable,o=null;return this.props.dropzoneID&&(o={onDragOver:this._onDragOver,onDragLeave:this._onDragLeave}),n&&(o=r({},o,{draggable:!0})),i.default.createElement("div",r({ref:this.dragElemRef,className:"drag-item",onDragStart:this._dragStart,onDragEnd:this._dragEnd},t,o),this.props.children)}}]),t}();f.propTypes={id:s.default.string.isRequired,name:s.default.string,initDone:s.default.bool,index:s.default.number,draggable:s.default.bool,spaceAvailable:s.default.bool,updateState:s.default.func,dropzoneID:s.default.string,payload:s.default.instanceOf(Object),elementProps:s.default.instanceOf(Object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},f.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null,draggable:!0,updateState:function(){return!0}},t.default=f},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(14),a=n(13);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root",initDone:!0})))}},function(e,t,n){"use strict";var r=f(n(17)),o=f(n(4)),a=f(n(12)),i=f(n(11)),s=f(n(10)),l=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,state:l.default,core:u.default,registerPaletteElements:u.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFzaC9UcmFzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2FudmFzL0NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvcmUiLCJDb3JlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImdldEF0dGVtcHRUb1JlbW92ZSIsImF0dGVtcHRUb1JlbW92ZSIsInNldEF0dGVtcHRUb1JlbW92ZSIsInN0YXR1cyIsInNldERyYWdnZWRFbGVtZW50IiwiZHJhZ2dlZEVsZW1lbnQiLCJnZXREcmFnZ2VkRWxlbWVudCIsInJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzIiwicmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyIsImdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJzZXREcm9wUG9zdGlvbiIsImRyb3BQb3NpdGlvbiIsImdldERyb3BQb3N0aW9uIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlcXVpcmUiLCJfY29yZSIsInN0YXRlIiwiU3RhdGUiLCJldmVudCIsImNoYW5nZSIsInRyZWUiLCJpZCIsImZpZWxkcyIsIm5vdGlmeVN0YXRlQ2hhbmdlIiwiZm9yRWFjaCIsImUiLCJ1cGRhdGVTdGF0ZSIsImRyb3B6b25lSUQiLCJwYXJlbnRJRCIsImNiIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwidHJhdmVyc2VBbmRVcGRhdGVUcmVlIiwidXBkYXRlZEZpZWxkcyIsIm1hdGNoZWRQYXJlbnRDYW52YXMiLCJmaW5kIiwiZmllbGQiLCJyZXR1cm5TdGF0dXMiLCJmaWVsZHNUb0JlQWRkZWQiLCJmaWx0ZXIiLCJmIiwiY29uY2F0IiwidUZpZWxkIiwiZmllbGRJbmRleCIsImZpbmRJbmRleCIsInB1c2giLCJtYXAiLCJjaGlsZEZpZWxkcyIsImdldFN0YXRlIiwiY2xlYXJTdGF0ZSIsInJvb3ROb2RlIiwidG9wTGV2ZWxGaWVsZHMiLCJ0b3BMZXZlbEVsZW1lbnQiLCJmbHVzaERyb3BwZWRFbGVtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudE5hbWUiLCJyZXR1cm5DQiIsIl9jb3JlMiIsImRlZmF1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3JlYWN0IiwiRHJvcHpvbmUiLCJwcm9wcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsIl9pbml0aWFsaXNlUHJvcHMiLCJjYW52YXNSZWYiLCJfcmVhY3QyIiwiY3JlYXRlUmVmIiwiaW5pdGlhbEVsZW1lbnRzIiwiZHJvcHBlZEVsZW1lbnRzIiwiaW5pdERvbmUiLCJfc2V0SW5pdGlhbEVsZW1lbnRzIiwiX3JlZiIsIl90aGlzMiIsIl9wcm9wcyIsImNhcGFjaXR5IiwicGxhY2Vob2xkZXIiLCJzcGFjZUF2YWlsYWJsZSIsImNyZWF0ZUVsZW1lbnQiLCJyZWYiLCJjbGFzc05hbWUiLCJvbkRyYWdPdmVyIiwiX29uRHJhZ092ZXIiLCJvbkRyYWdMZWF2ZSIsIl9vbkRyYWdMZWF2ZSIsIm9uRHJhZ0VudGVyIiwiX29uRHJhZ0VudGVyIiwib25Ecm9wIiwiX29uRHJvcCIsIm9uRHJhZ0VuZCIsIl9vbkRyYWdFbmQiLCJfcmVuZGVyRHJhZ0l0ZW0iLCJfZXh0ZW5kcyIsImluZGV4IiwiZHJvcHpvbmVQcm9wcyIsImRhbmdlcm91c2x5U2V0RWxlbWVudHMiLCJkYXRhIiwiZG9uZSIsImVsZW1lbnRzIiwiX3RoaXMzIiwic2hvd0Jhc2ljQ29udGVudCIsIl91cGRhdGVTdGF0ZSIsInJlbW92ZUVsZW1lbnQiLCJfcmVtb3ZlRWxlbWVudCIsIl9mbHVzaERyb3BwZWRFbGVtZW50cyIsImNoZWNrQW5kUmVtb3ZlRWxlbWVudCIsIl9jaGVja0FuZFJlbW92ZUVsZW1lbnQiLCJzZXRTdGF0ZSIsIl91bm1hcmtEcmFnRWxlbWVudHMiLCJjdXJyZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNsYXNzTGlzdCIsInJlbW92ZSIsIkFycmF5IiwiaXNBcnJheSIsInVwZGF0ZWRJbml0aWFsSXRlbXMiLCJrZXkiLCJfbWFuYWdlSW5zaWRlQ2xhc3MiLCJfcmVmMiIsImFjdGlvbiIsInRhcmdldCIsImVsZW1lbnRJRCIsIl9wcm9wczIiLCJfc3RhdGUyIiwiZWxlbWVudE1vdmVkIiwib25FbGVtZW50TW92ZSIsImF0dGVtcHRUb01vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkpTT04iLCJwYXJzZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJfYWRkRWxlbWVudCIsImRyb3BJbmRleCIsImN1cnJlbnRFbGVtZW50cyIsInVwZGF0ZWREYXRhIiwiX3Byb3BzMyIsImludmFsaWRVcGRhdGVkRGF0YSIsImluZGV4T2ZQcmVzZW50RWxlbWVudCIsImtleUFscmVhZHlQcmVzZW50IiwiaXNTYW1lSW5kZXgiLCJuZXdFbGVtZW50cyIsImVsZW1lbnRBbHJlYWR5UmVtb3ZlZCIsImVsZW1lbnRUb0Ryb3AiLCJzbGljZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImVsZW1lbnQiLCJ0eXBlIiwiY29tcG9uZW50IiwicHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwibnVtYmVyIiwiZnVuYyIsImFycmF5T2YiLCJkZWZhdWx0UHJvcHMiLCJjc3MiLCJsb2NhdGlvbiIsIndpbmRvdyIsIkVycm9yIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsImluZGV4T2YiLCJzdHJpbmdpZnkiLCJmbiIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJhcHBseSIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJpdGVtIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiVHJhc2giLCJ0cmFzaFJlZiIsImVsZW1lbnRUb0JlVHJhc2hlZCIsIl90aGlzJHByb3BzIiwib25CZWZvcmVUcmFzaCIsIm9uQWZ0ZXJUcmFzaCIsImNoaWxkcmVuIiwib25lT2ZUeXBlIiwiUGFsZXR0ZSIsIl9yZW5kZXJMaXN0IiwicGFsZXR0ZUVsZW1lbnRzIiwicHJvcFZhbHVlIiwiaXNFcnJvciIsIkRyYWdnYWJsZSIsIl9kcmFnRW5kIiwiZHJhZ0VsZW1SZWYiLCJfZHJhZ1N0YXJ0IiwicGF5bG9hZCIsImVmZmVjdEFsbG93ZWQiLCJzZXREYXRhIiwiZWxlbUNvcmQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJkcmFnRWxlbVkiLCJjbGllbnRZIiwieSIsImhlaWdodCIsImFkZCIsIm5leHRQcm9wcyIsImVsZW1lbnRQcm9wcyIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0IiwiYm9vbCIsImluc3RhbmNlT2YiLCJ2YWxpZGF0ZUZvcm1hdCIsImZvcm1hdCIsImNvbmRpdGlvbiIsImEiLCJiIiwiYXJncyIsImFyZ0luZGV4IiwiZnJhbWVzVG9Qb3AiLCJtYWtlRW1wdHlGdW5jdGlvbiIsImFyZyIsImVtcHR5RnVuY3Rpb24iLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiaW52YXJpYW50IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJzeW1ib2wiLCJhbnkiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsIl9Ecm9wem9uZTIiLCJDYW52YXMiXSwibWFwcGluZ3MiOiIyQkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMkNBLE9BdENBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFnQixFQUFBQyxJQUd0RHhCLEVBQUEyQixFQUFBLEdBSUEzQixJQUFBNEIsRUFBQSx3RkNvQk1DLEVBQU8sSUF0RlgsU0FBQUMsaUdBQWNDLENBQUFDLEtBQUFGLEdBRVosSUFBTUQsS0FRTkcsS0FBS0MsbUJBQXFCLGtCQUFPSixFQUFLSyxpQkFNdENGLEtBQUtHLG1CQUFxQixTQUFDQyxHQUN6QlAsRUFBS0ssZ0JBQWtCRSxHQU96QkosS0FBS0ssa0JBQW9CLFNBQUNDLEdBQ3hCVCxFQUFLUyxlQUFpQkEsR0FPeEJOLEtBQUtPLGtCQUFvQixrQkFBT1YsRUFBS1MsZ0JBTXJDTixLQUFLUSx3QkFBMEIsU0FBQ0MsR0FDOUJaLEVBQUtZLDBCQUE0QkEsR0FPbkNULEtBQUtVLDZCQUErQixrQkFBT2IsRUFBS1ksMkJBTWhEVCxLQUFLVyxlQUFpQixTQUFDQyxHQUNyQmYsRUFBS2UsYUFBZUEsR0FPdEJaLEtBQUthLGVBQWlCLGtCQUFPaEIsRUFBS2UsY0FTbENaLEtBQUtjLE1BQVEsU0FBQ0MsR0FFWixPQURBQyxRQUFRRixNQUFNQyxJQUNQLEdBUVRmLEtBQUtpQixJQUFNLFNBQUNGLEdBRVYsT0FEQUMsUUFBUUMsSUFBSUYsSUFDTCxjQU9FbEIsaUJDekZmMUIsRUFBQUQsUUFBQWdELFFBQUEsMEJDMEJBL0MsRUFBQUQsUUFBQUYsRUFBQSxHQUFBQSxrRkMxQkEsTUFBQW1ELEVBQUFuRCxFQUFBLDJDQXlMTW9ELEVBQVEsSUF0TFosU0FBQUMsaUdBQWN0QixDQUFBQyxLQUFBcUIsR0FFWixJQUFNRCxLQUNBRSxHQUNKQyxXQUlGSCxFQUFNSSxPQUNKQyxHQUFJLE9BQ0pDLFlBV0YsSUE0RU1DLEVBQW9CLFdBRXhCTCxFQUFNQyxPQUFPSyxRQUFRLFNBQUFDLEdBQUEsT0FBS0EsRUFBRVQsRUFBTUksU0FLcEN4QixLQUFLOEIsWUFBYyxTQUFDQyxFQUFZQyxFQUFVTixHQUEwQixJQUFsQk8sRUFBa0JDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQWIsY0FuRnpCLFNBQXhCRyxFQUF5Qk4sRUFBWUMsRUFBVU0sR0FBdUMsSUFBeEJaLEVBQXdCUSxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFmZCxFQUFNSSxLQUMzRWUsRUFBc0JiLEVBQU9jLEtBQUssU0FBQUMsR0FBQSxPQUFTQSxFQUFNaEIsS0FBT08sSUFDMURVLEdBQWUsRUFHbkIsR0FBSUgsRUFBcUIsQ0FDdkIsR0FBSVIsSUFBZUMsRUFFakJPLEVBQW9CYixPQUFTWSxPQUN4QixHQUFLQyxFQUFvQmIsUUFBV1ksRUFBY0gsT0FTbEQsQ0FDTCxJQUFNUSxLQUd3QkosRUFBb0JiLE9BQy9Da0IsT0FBTyxTQUFBQyxHQUFBLE9BQUtBLEVBQUVkLGFBQWVBLElBRU5JLFNBQVdHLEVBQWNILE9BR2pESSxFQUFvQmIsT0FBU1ksRUFDMUJRLE9BQU9QLEVBQW9CYixPQUN6QmtCLE9BQU8sU0FBQUMsR0FBQSxPQUFLQSxFQUFFZCxhQUFlQSxLQUVsQ08sRUFBY1YsUUFBUSxTQUFDbUIsR0FDckIsSUFBTUMsRUFBYVQsRUFBb0JiLE9BQ3BDdUIsVUFBVSxTQUFBSixHQUFBLE9BQUtBLEVBQUVwQixLQUFPc0IsRUFBT3RCLE1BR2QsSUFBaEJ1QixFQUNGTCxFQUFnQk8sS0FBS0gsR0FHckJSLEVBQW9CYixPQUFTYSxFQUFvQmIsT0FDOUN5QixJQUFJLFNBQUNOLEVBQUd6RSxHQUFKLE9BQVdBLElBQU00RSxFQUFhRCxFQUFTRixNQU1oREYsRUFBZ0JSLFNBQ2xCSSxFQUFvQmIsT0FBU2EsRUFBb0JiLE9BQU9vQixPQUFPSCxTQXRDN0RaLEdBQWNRLEVBQW9CYixPQUNwQ2EsRUFBb0JiLE9BQVNhLEVBQW9CYixPQUM5Q2tCLE9BQU8sU0FBQUMsR0FBQSxPQUFLQSxFQUFFZCxhQUFlQSxJQUdoQ1EsRUFBb0JiLE9BQVNZLEVBcUNqQ0ksR0FBZSxPQUlmLElBQUssSUFBSXRFLEVBQUksRUFBR0EsRUFBSXNELEVBQU9TLE9BQVEvRCxJQUFLLENBQ3RDLElBQU1nRixFQUFjMUIsRUFBT3RELEdBQUdzRCxPQUMxQnRCLEdBQVMsRUFPYixHQUpJZ0QsSUFDRmhELEVBQVNpQyxFQUFzQk4sRUFBWUMsRUFBVU0sRUFBZWMsSUFHbEVoRCxFQUNGLE1BS04sT0FBT3NDLEVBWVBMLENBQXNCTixFQUFZQyxFQUFVTixHQUM1Q08sRUFBR2IsRUFBTUksTUFDVEcsS0FPRjNCLEtBQUtxRCxTQUFXLGtCQUFPakMsRUFBTUksTUFPN0J4QixLQUFLc0QsV0FBYSxXQUFtQixJQUFsQnJCLEVBQWtCQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFiLGFBQ2hCcUIsRUFBV25DLEVBQU1JLEtBQUssR0FDdEJnQyxFQUFpQkQsRUFBUzdCLE9BQU9TLE9BaUJ2QyxPQWRLb0IsRUFBUzdCLE9BQU9TLFNBQ25CUixJQUNBTSxLQUdGc0IsRUFBUzdCLE9BQU9FLFFBQVEsU0FBQzZCLEVBQWlCckYsR0FDeENxRixFQUFnQkMscUJBQXFCLFdBQy9CdEYsSUFBTW9GLEVBQWlCLElBQ3pCN0IsSUFDQU0sVUFLQyxHQVFUakMsS0FBSzJELGlCQUFtQixTQUFDQyxFQUFXM0IsR0FDbEMsSUFBSTRCLEVBQVcsS0FFZixNQUFrQixtQkFBUDVCLEdBQ1Q2QixFQUFBQyxRQUFLakQsTUFBTSxrQ0FDSixJQUdMaEMsT0FBT1csVUFBVUMsZUFBZW5CLEtBQUsrQyxFQUFPc0MsSUFDOUN0QyxFQUFNc0MsR0FBV1YsS0FBS2pCLEdBRXRCNEIsRUFBVzVCLEdBRVg2QixFQUFBQyxRQUFLakQsTUFBTSxpQkFHTitDLElBUVQ3RCxLQUFLZ0Usb0JBQXNCLFNBQUNKLEVBQVczQixHQUNqQ25ELE9BQU9XLFVBQVVDLGVBQWVuQixLQUFLK0MsRUFBT3NDLEdBQzlDdEMsRUFBTXNDLEdBQWF0QyxFQUFNc0MsR0FBV2hCLE9BQU8sU0FBQWYsR0FBQSxPQUFLQSxJQUFNSSxJQUV0RDZCLEVBQUFDLFFBQUtqRCxNQUFNLDZCQVFKTSw4ZUMzTGY2QyxFQUFBakcsRUFBQSxjQUNBQSxFQUFBLFFBRUFBLEVBQUEsUUFDQUEsRUFBQSxtTEFFTWtHLGNBQ0osU0FBQUEsRUFBWUMsZ0dBQU9wRSxDQUFBQyxLQUFBa0UsR0FBQSxJQUFBRSxtS0FBQUMsQ0FBQXJFLE1BQUFrRSxFQUFBSSxXQUFBeEYsT0FBQXlGLGVBQUFMLElBQUEzRixLQUFBeUIsS0FDWG1FLElBRFcsT0FBQUssRUFBQWpHLEtBQUE2RixHQUtqQkEsRUFBS0ssVUFBWUMsRUFBQVgsUUFBTVksWUFLdkJQLEVBQUtoRCxPQUNId0QsbUJBQ0FDLG1CQUNBQyxVQUFVLEdBYktWLGtZQWtCakJwRSxLQUFLK0Usb0JBQW9CL0UsS0FBS21FLE1BQU1TLHNFQUdTLElBQW5CQSxFQUFtQkksRUFBbkJKLGdCQUMxQjVFLEtBQUsrRSxvQkFBb0JILG9DQTBUbEIsSUFBQUssRUFBQWpGLEtBQ0M2RSxFQUFvQjdFLEtBQUtvQixNQUF6QnlELGdCQURESyxFQUUrQmxGLEtBQUttRSxNQUFuQ2dCLEVBRkRELEVBRUNDLFNBQVUxRCxFQUZYeUQsRUFFV3pELEdBQUkyRCxFQUZmRixFQUVlRSxZQUNoQkMsR0FBaUJGLEdBQVdBLEVBQVdOLEVBQWdCMUMsT0FFN0QsT0FDRXVDLEVBQUFYLFFBQUF1QixjQUFBLE9BQ0VDLElBQUt2RixLQUFLeUUsVUFDVmUsV0FBZUgsRUFBOEIsR0FBYixZQUFoQyxLQUEwRCxTQUFQNUQsRUFBZ0IsU0FBVyxJQUE5RSxLQUFxRm9ELEVBQWdCMUMsT0FBbUIsR0FBVixTQUE5RyxZQUNBc0QsV0FBWXpGLEtBQUswRixZQUNqQkMsWUFBYTNGLEtBQUs0RixhQUNsQkMsWUFBYTdGLEtBQUs4RixhQUNsQkMsT0FBUS9GLEtBQUtnRyxRQUNiQyxVQUFXakcsS0FBS2tHLFlBR2RyQixFQUFnQjFCLElBQUksU0FBQ3RCLEVBQUd6RCxHQUFKLE9BQ2xCNkcsRUFBS2tCLGdCQUFMQyxLQUNLdkUsR0FDSHdFLE1BQU9qSSxFQUNQaUgsaUJBQ0FQLFNBQVVHLEVBQUs3RCxNQUFNMEQsU0FDckJ3QixlQUNFeEIsU0FBVUcsRUFBSzdELE1BQU0wRCxTQUNyQjlDLFNBQVVILEVBQUVKLFNBT2pCb0QsRUFBZ0IxQyxPQUN5QyxLQUF4RHVDLEVBQUFYLFFBQUF1QixjQUFBLEtBQUdFLFVBQVUsd0JBQXdCSiwwQ0EvVS9DbUIsdUJBQXlCLFNBQUNDLEVBQU1DLEdBQzlCLElBQUlDLEtBRUZBLEVBRGtCLG1CQUFURixFQUNFQSxFQUFLRyxFQUFLdkYsTUFBTXlELHFCQUVoQjJCLEVBTDBCLElBTzNCekUsRUFBZTRFLEVBQUt4QyxNQUF4QjFDLEdBRVJpRixFQUFXQSxFQUFTdkQsSUFBSSxTQUFBdEIsR0FBQSxPQUFBdUUsS0FDbkJ2RSxHQUNIRSxhQUNBNkUsa0JBQWtCLEVBQ2xCOUUsWUFBYTZFLEVBQUtFLGFBQ2xCQyxjQUFlSCxFQUFLSSxlQUNwQnJELHFCQUFzQmlELEVBQUtLLHNCQUMzQkMsc0JBQXVCTixFQUFLTywyQkFHOUJQLEVBQUtRLFVBQ0h2QyxnQkFBaUI4QixFQUNqQjdCLGdCQUFpQjZCLEdBQ2hCLGtCQUFNQyxFQUFLRSxhQUFhSixXQU03Qlcsb0JBQXNCLGNBQ2pCeEYsUUFBUXJELEtBQUtvSSxFQUFLbEMsVUFBVTRDLFFBQVFDLGlCQUFpQixjQUFlLFNBQUF6RixHQUFBLE9BQUtBLEVBQUUwRixVQUFVQyxPQUFPLFNBQVUsaUJBTzNHekMsb0JBQXNCLFNBQUNILEdBUXJCLEdBTHdCNkMsTUFBTUMsUUFBUTlDLElBQ2RBLEVBQWdCekMsU0FDZndFLEVBQUt2RixNQUFNd0QsZ0JBQWdCekMsT0FHL0IsS0FDUEosRUFBZTRFLEVBQUt4QyxNQUF4QjFDLEdBQ0ZrRyxFQUFzQi9DLEVBQWdCekIsSUFBSSxTQUFBdEIsR0FBQSxPQUFBdUUsS0FDM0N2RSxHQUNIK0YsSUFBSy9GLEVBQUVKLEdBQ1BNLGFBQ0E2RSxrQkFBa0IsRUFDbEI5RSxZQUFhNkUsRUFBS0UsYUFDbEJDLGNBQWVILEVBQUtJLGVBQ3BCckQscUJBQXNCaUQsRUFBS0ssc0JBQzNCQyxzQkFBdUJOLEVBQUtPLDJCQUc5QlAsRUFBS1EsVUFDSHZDLGdCQUFpQitDLEVBQ2pCOUMsZ0JBQWlCOEMsR0FDaEIsa0JBQU9oQixFQUFLRSxhQUFhLFdBQzFCRixFQUFLUSxVQUNIckMsVUFBVSxlQVlsQitDLG1CQUFxQixTQUFBQyxFQUFhQyxHQUFXLElBQXJCQyxFQUFxQkYsRUFBckJFLE9BQ2xCckIsRUFBS2xDLFVBQVU0QyxVQUFZVyxHQUM3QkEsRUFBT1QsVUFBVVEsR0FBUSxnQkFRN0JoQixlQUFpQixTQUFDa0IsR0FBNkIsSUFBbEJoRyxFQUFrQkMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBYixhQUMxQm1FLEVBQVFNLEVBQUt2RixNQUFNeUQsZ0JBQWdCNUIsVUFBVSxTQUFBcEIsR0FBQSxPQUFLQSxFQUFFSixLQUFPd0csSUFFakV0QixFQUFLUSxVQUNIdEMsZ0JBQWlCOEIsRUFBS3ZGLE1BQU15RCxnQkFBZ0JqQyxPQUFPLFNBQUNsRSxFQUFHTixHQUFKLE9BQVdBLElBQU1pSSxLQUNuRSxrQkFBTU0sRUFBS0UsYUFBYTVFLFdBUTdCNEUsYUFBZSxXQUFtQixJQUFsQjVFLEVBQWtCQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFiLGFBQWFnRyxFQUk1QnZCLEVBQUt4QyxNQUZIcEMsRUFGMEJtRyxFQUU5QnpHLEdBQ0FPLEVBSDhCa0csRUFHOUJsRyxTQUdGbUcsRUFBQXBFLFFBQU1qQyxZQUNKQyxFQUNBQyxFQUNBMkUsRUFBS3ZGLE1BQU15RCxnQkFDWDVDLFNBVUorRSxzQkFBd0IsV0FBbUIsSUFBbEIvRSxFQUFrQkMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBYixhQUM1QnlFLEVBQUtRLFVBQ0h2QyxtQkFDQUMsb0JBQ0Msa0JBQU84QixFQUFLRSxhQUFhNUUsV0FTOUJpRix1QkFBeUIsV0FDdkIsSUFBTWtCLEVBQWV0RSxFQUFBQyxRQUFLeEQsb0JBQ2xCdUcsRUFBNkJzQixFQUE3QnRCLGNBQWVtQixFQUFjRyxFQUFkSCxVQUNqQjdILEVBQVN1RyxFQUFLeEMsTUFBTWtFLGNBQWNELEdBQ2xDRSxHQUFpQnhFLEVBQUFDLFFBQUs5RCxxQkFFeEJHLEdBQVVrSSxHQUNaeEIsRUFBY21CLFNBT2xCdkMsWUFBYyxTQUFDN0QsR0FDYkEsRUFBRTBHLGlCQUNGMUcsRUFBRTJHLHdCQU9KNUMsYUFBZSxTQUFDL0QsR0FDZDhFLEVBQUtrQixtQkFBbUJoRyxFQUFHLFVBQzNCaUMsRUFBQUMsUUFBSzVELG9CQUFtQixTQU8xQjJGLGFBQWUsU0FBQ2pFLEdBQ2Q4RSxFQUFLa0IsbUJBQW1CaEcsRUFBRyxPQUMzQmlDLEVBQUFDLFFBQUs1RCxvQkFBbUIsU0FVMUI2RixRQUFVLFNBQUNuRSxHQUNUQSxFQUFFMEcsaUJBQ0YxRyxFQUFFMkcsa0JBRUYxRSxFQUFBQyxRQUFLNUQsb0JBQW1CLEdBQ3hCd0csRUFBS2tCLG1CQUFtQmhHLEVBQUcsVUFMWixJQU9Qa0UsRUFBV1ksRUFBS3hDLE1BQWhCNEIsT0FDSlMsRUFBT2lDLEtBQUtDLE1BQU03RyxFQUFFOEcsYUFBYUMsUUFBUSxTQUs3QyxPQUpBcEMsT0FBWUEsR0FFWkcsRUFBS1Msc0JBRUVyQixFQUFTQSxFQUFPUyxFQUFNRyxFQUFLa0MsYUFDaENDLFVBQVdoRixFQUFBQyxRQUFLbEQsaUJBQW1CLEVBQ25Da0ksZ0JBQWlCcEMsRUFBS3ZGLE1BQU15RCxrQkFDekI4QixFQUFLa0MsWUFBWXJDLFNBYXhCcUMsWUFBYyxTQUFDRyxHQUFnQixJQUFBQyxFQUl6QnRDLEVBQUt4QyxNQUZIcEMsRUFGdUJrSCxFQUUzQnhILEdBQ0EwRCxFQUgyQjhELEVBRzNCOUQsU0FFSXZFLEVBQWVrRCxFQUFBQyxRQUFLbEQsaUJBQ3BCUCxFQUFpQndELEVBQUFDLFFBQUt4RCxvQkFDdEIySSxHQUFzQkYsSUFBZ0JBLEVBQVl2SCxHQUNwRDBILEdBQXlCLEVBQ3ZCQyxFQUFvQkosRUFBWXZILElBQ3BDa0YsRUFBS3ZGLE1BQU15RCxnQkFBZ0JqQyxPQUFPLFNBQUNmLEVBQUd6RCxHQUNwQyxPQUFJeUQsRUFBRUosS0FBT3VILEVBQVl2SCxLQUN2QjBILEVBQXdCL0ssR0FFakIsS0FJUitELE9BQ0NrSCxFQUFjRixJQUEwQnZJLEVBQzFDMEksS0FBaUJ4RyxPQUFPNkQsRUFBS3ZGLE1BQU15RCxpQkFDbkMwRSxHQUF3QixFQUc1QixHQUFJTCxHQUFzQkUsRUFBbUIsQ0FDM0MsR0FBSUMsRUFDRixPQUFPdkYsRUFBQUMsUUFBS2pELE1BQU0sMkJBR3BCeUksR0FBd0IsRUFDeEJELEVBQWNBLEVBQVluRyxJQUFJLFNBQUN0QixHQUM3QixPQUFJQSxFQUFFSixLQUFPdUgsRUFBWXZILEdBQ3ZCMkUsS0FBWXZFLEdBQUcyRixRQUFRLElBRWxCM0YsSUFJWCxJQUFNMkgsT0FDRFIsR0FDSHBCLElBQUtvQixFQUFZdkgsR0FDakJNLGFBQ0E2RSxrQkFBa0IsRUFDbEI5RSxZQUFhNkUsRUFBS0UsYUFDbEJDLGNBQWVILEVBQUtJLGVBQ3BCckQscUJBQXNCaUQsRUFBS0ssc0JBQzNCQyxzQkFBdUJOLEVBQUtPLHlCQXFCOUIsT0FqQkVvQyxFQURFMUksRUFBZSxLQUNqQjBJLFNBQ0tBLEVBQVlHLE1BQU0sRUFBRzdJLEtBQ3hCNEksR0FGRkUsRUFHS0osRUFBWUcsTUFBTTdJLE1BSXJCNEksR0FERjFHLE9BQUE0RyxFQUVLSixJQUlGRCxJQUNIQyxFQUFjQSxFQUFZMUcsT0FBTyxTQUFBZixHQUFBLE9BQU1BLEVBQUUyRixVQUl2Q3JDLEdBQVltRSxFQUFZbkgsT0FBU2dELEVBQzVCckIsRUFBQUMsUUFBS2pELE1BQUwsOEJBQXlDaUIsRUFBekMsUUFBMkRvRCxJQUlwRXdCLEVBQUtRLFVBQ0h0QyxnQkFBaUJ5RSxHQUNoQixZQUVJQyxHQUF5QmpKLEdBQWtFLG1CQUF6Q0EsRUFBZTJHLHVCQUNwRTNHLEVBQWUyRyx3QkFJakJOLEVBQUtFLGtCQUlMOUUsYUFDQTJFLFNBQVU0QyxVQVNkbkQsZ0JBQWtCLFNBQUNoQyxHQUNqQixJQUFNd0YsRUFBVTdGLEVBQUFDLFFBQUtyRCwrQkFBK0I4QixLQUFLLFNBQUFYLEdBQUEsT0FBS0EsRUFBRStILE9BQVN6RixFQUFNeUYsT0FDL0UsT0FBT0QsRUFBVWpGLEVBQUFYLFFBQUF1QixjQUFDcUUsRUFBUUUsVUFBYzFGLEdBQVksT0EwQ3hERCxFQUFTNEYsV0FDUHJJLEdBQUlzSSxFQUFBaEcsUUFBVWlHLE9BQU9DLFdBQ3JCOUUsU0FBVTRFLEVBQUFoRyxRQUFVbUcsT0FDcEJuRSxPQUFRZ0UsRUFBQWhHLFFBQVVvRyxLQUNsQjlCLGNBQWUwQixFQUFBaEcsUUFBVW9HLEtBQ3pCdkYsZ0JBQWlCbUYsRUFBQWhHLFFBQVVxRyxRQUFRdEwsUUFDbkNrRCxTQUFVK0gsRUFBQWhHLFFBQVVpRyxPQUFPQyxXQUMzQjdFLFlBQWEyRSxFQUFBaEcsUUFBVWlHLFFBR3pCOUYsRUFBU21HLGNBQ1B6RixtQkFDQVEsWUFBYSxZQUNiaUQsY0FBZSxrQkFBTyxjQUdUbkUsaUJDaFlmL0YsRUFBQUQsUUFBQSxTQUFBb00sR0FFQSxJQUFBQyxFQUFBLG9CQUFBQyxlQUFBRCxTQUVBLElBQUFBLEVBQ0EsVUFBQUUsTUFBQSxvQ0FJQSxJQUFBSCxHQUFBLGlCQUFBQSxFQUNBLE9BQUFBLEVBR0EsSUFBQUksRUFBQUgsRUFBQUksU0FBQSxLQUFBSixFQUFBSyxLQUNBQyxFQUFBSCxFQUFBSCxFQUFBTyxTQUFBQyxRQUFBLGlCQTJEQSxPQS9CQVQsRUFBQVMsUUFBQSwrREFBQUMsRUFBQUMsR0FFQSxJQVdBQyxFQVhBQyxFQUFBRixFQUNBRyxPQUNBTCxRQUFBLG9CQUFBbE0sRUFBQXdNLEdBQXdDLE9BQUFBLElBQ3hDTixRQUFBLG9CQUFBbE0sRUFBQXdNLEdBQXdDLE9BQUFBLElBR3hDLDBEQUFBQyxLQUFBSCxHQUNBSCxHQVFBRSxFQUZBLElBQUFDLEVBQUFJLFFBQUEsTUFFQUosRUFDRyxJQUFBQSxFQUFBSSxRQUFBLEtBRUhiLEVBQUFTLEVBR0FOLEVBQUFNLEVBQUFKLFFBQUEsWUFJQSxPQUFBdEMsS0FBQStDLFVBQUFOLEdBQUEseUJDOUVBLElBRUFPLEVBQ0FDLEVBSEFDLEtBV0FDLEdBVEFILEVBU0EsV0FNQSxPQUFBakIsUUFBQXFCLG1CQUFBQyxNQUFBdEIsT0FBQXVCLE1BWkEsV0FFQSxZQURBLElBQUFMLE1BQUFELEVBQUFPLE1BQUFoTSxLQUFBa0MsWUFDQXdKLElBaUJBTyxFQUFBLFNBQUFSLEdBQ0EsSUFBQUMsS0FFQSxnQkFBQTFELEdBTUEsc0JBQUFBLEVBQ0EsT0FBQUEsSUFFQSxZQUFBMEQsRUFBQTFELEdBQUEsQ0FDQSxJQUFBa0UsRUFqQkEsU0FBQWxFLEdBQ0EsT0FBQTZELFNBQUFNLGNBQUFuRSxJQWdCQXpKLEtBQUF5QixLQUFBZ0ksR0FFQSxHQUFBd0MsT0FBQTRCLG1CQUFBRixhQUFBMUIsT0FBQTRCLGtCQUNBLElBR0FGLElBQUFHLGdCQUFBQyxLQUNLLE1BQUF6SyxHQUNMcUssRUFBQSxLQUdBUixFQUFBMUQsR0FBQWtFLEVBRUEsT0FBQVIsRUFBQTFELElBMUJBLEdBOEJBdUUsRUFBQSxLQUNBQyxFQUFBLEVBQ0FDLEtBRUFDLEVBQUExTyxFQUFBLEdBcURBLFNBQUEyTyxFQUFBQyxFQUFBQyxHQUNBLFFBQUF6TyxFQUFBLEVBQWdCQSxFQUFBd08sRUFBQXpLLE9BQW1CL0QsSUFBQSxDQUNuQyxJQUFBME8sRUFBQUYsRUFBQXhPLEdBQ0EyTyxFQUFBcEIsRUFBQW1CLEVBQUFyTCxJQUVBLEdBQUFzTCxFQUFBLENBQ0FBLEVBQUFDLE9BRUEsUUFBQUMsRUFBQSxFQUFpQkEsRUFBQUYsRUFBQUcsTUFBQS9LLE9BQTJCOEssSUFDNUNGLEVBQUFHLE1BQUFELEdBQUFILEVBQUFJLE1BQUFELElBR0EsS0FBUUEsRUFBQUgsRUFBQUksTUFBQS9LLE9BQXVCOEssSUFDL0JGLEVBQUFHLE1BQUFoSyxLQUFBaUssRUFBQUwsRUFBQUksTUFBQUQsR0FBQUosUUFFRyxDQUNILElBQUFLLEtBRUEsSUFBQUQsRUFBQSxFQUFpQkEsRUFBQUgsRUFBQUksTUFBQS9LLE9BQXVCOEssSUFDeENDLEVBQUFoSyxLQUFBaUssRUFBQUwsRUFBQUksTUFBQUQsR0FBQUosSUFHQWxCLEVBQUFtQixFQUFBckwsS0FBMkJBLEdBQUFxTCxFQUFBckwsR0FBQXVMLEtBQUEsRUFBQUUsV0FLM0IsU0FBQUUsRUFBQUMsRUFBQVIsR0FJQSxJQUhBLElBQUFELEtBQ0FVLEtBRUFsUCxFQUFBLEVBQWdCQSxFQUFBaVAsRUFBQWxMLE9BQWlCL0QsSUFBQSxDQUNqQyxJQUFBME8sRUFBQU8sRUFBQWpQLEdBQ0FxRCxFQUFBb0wsRUFBQVUsS0FBQVQsRUFBQSxHQUFBRCxFQUFBVSxLQUFBVCxFQUFBLEdBSUFVLEdBQWNsRCxJQUhkd0MsRUFBQSxHQUdjVyxNQUZkWCxFQUFBLEdBRWNZLFVBRGRaLEVBQUEsSUFHQVEsRUFBQTdMLEdBQ0E2TCxFQUFBN0wsR0FBQXlMLE1BQUFoSyxLQUFBc0ssR0FEQVosRUFBQTFKLEtBQUFvSyxFQUFBN0wsSUFBa0RBLEtBQUF5TCxPQUFBTSxLQUlsRCxPQUFBWixFQUdBLFNBQUFlLEVBQUFkLEVBQUFlLEdBQ0EsSUFBQTVGLEVBQUFpRSxFQUFBWSxFQUFBZ0IsWUFFQSxJQUFBN0YsRUFDQSxVQUFBeUMsTUFBQSwrR0FHQSxJQUFBcUQsRUFBQXJCLElBQUF0SyxPQUFBLEdBRUEsV0FBQTBLLEVBQUFrQixTQUNBRCxFQUVHQSxFQUFBRSxZQUNIaEcsRUFBQWlHLGFBQUFMLEVBQUFFLEVBQUFFLGFBRUFoRyxFQUFBa0csWUFBQU4sR0FKQTVGLEVBQUFpRyxhQUFBTCxFQUFBNUYsRUFBQW1HLFlBTUExQixFQUFBdkosS0FBQTBLLFFBQ0UsY0FBQWYsRUFBQWtCLFNBQ0YvRixFQUFBa0csWUFBQU4sT0FDRSxxQkFBQWYsRUFBQWtCLFdBQUFsQixFQUFBa0IsU0FBQUssT0FJRixVQUFBM0QsTUFBQSw4TEFIQSxJQUFBdUQsRUFBQS9CLEVBQUFZLEVBQUFnQixXQUFBLElBQUFoQixFQUFBa0IsU0FBQUssUUFDQXBHLEVBQUFpRyxhQUFBTCxFQUFBSSxJQU1BLFNBQUFLLEVBQUFULEdBQ0EsVUFBQUEsRUFBQVUsV0FBQSxTQUNBVixFQUFBVSxXQUFBQyxZQUFBWCxHQUVBLElBQUFZLEVBQUEvQixFQUFBbEIsUUFBQXFDLEdBQ0FZLEdBQUEsR0FDQS9CLEVBQUFnQyxPQUFBRCxFQUFBLEdBSUEsU0FBQUUsRUFBQTdCLEdBQ0EsSUFBQWUsRUFBQS9CLFNBQUF2RyxjQUFBLFNBT0EsT0FMQXVILEVBQUE4QixNQUFBL0UsS0FBQSxXQUVBZ0YsRUFBQWhCLEVBQUFmLEVBQUE4QixPQUNBaEIsRUFBQWQsRUFBQWUsR0FFQUEsRUFlQSxTQUFBZ0IsRUFBQUMsRUFBQUYsR0FDQTdQLE9BQUFnUSxLQUFBSCxHQUFBL00sUUFBQSxTQUFBZ0csR0FDQWlILEVBQUFFLGFBQUFuSCxFQUFBK0csRUFBQS9HLE1BSUEsU0FBQXVGLEVBQUE2QixFQUFBbkMsR0FDQSxJQUFBZSxFQUFBcUIsRUFBQXpILEVBQUEwSCxFQUdBLEdBQUFyQyxFQUFBc0MsV0FBQUgsRUFBQTFFLElBQUEsQ0FHQSxLQUZBNEUsRUFBQXJDLEVBQUFzQyxVQUFBSCxFQUFBMUUsTUFTQSxvQkFKQTBFLEVBQUExRSxJQUFBNEUsRUFVQSxHQUFBckMsRUFBQU4sVUFBQSxDQUNBLElBQUE2QyxFQUFBNUMsSUFFQW9CLEVBQUFyQixNQUFBbUMsRUFBQTdCLElBRUFvQyxFQUFBSSxFQUFBQyxLQUFBLEtBQUExQixFQUFBd0IsR0FBQSxHQUNBNUgsRUFBQTZILEVBQUFDLEtBQUEsS0FBQTFCLEVBQUF3QixHQUFBLFFBR0FKLEVBQUF0QixXQUNBLG1CQUFBNkIsS0FDQSxtQkFBQUEsSUFBQUMsaUJBQ0EsbUJBQUFELElBQUFFLGlCQUNBLG1CQUFBQyxNQUNBLG1CQUFBQyxNQUVBL0IsRUF0REEsU0FBQWYsR0FDQSxJQUFBK0MsRUFBQS9ELFNBQUF2RyxjQUFBLFFBUUEsT0FOQXVILEVBQUE4QixNQUFBL0UsS0FBQSxXQUNBaUQsRUFBQThCLE1BQUFrQixJQUFBLGFBRUFqQixFQUFBZ0IsRUFBQS9DLEVBQUE4QixPQUNBaEIsRUFBQWQsRUFBQStDLEdBRUFBLEVBNkNBRSxDQUFBakQsR0FDQW9DLEVBaUZBLFNBQUFXLEVBQUEvQyxFQUFBbUMsR0FDQSxJQUFBMUUsRUFBQTBFLEVBQUExRSxJQUNBb0QsRUFBQXNCLEVBQUF0QixVQVFBcUMsT0FBQTNOLElBQUF5SyxFQUFBbUQsdUJBQUF0QyxHQUVBYixFQUFBbUQsdUJBQUFELEtBQ0F6RixFQUFBb0MsRUFBQXBDLElBR0FvRCxJQUVBcEQsR0FBQSx1REFBdURxRixLQUFBTSxTQUFBQyxtQkFBQXpILEtBQUErQyxVQUFBa0MsTUFBQSxPQUd2RCxJQUFBeUMsRUFBQSxJQUFBVCxNQUFBcEYsSUFBNkJWLEtBQUEsYUFFN0J3RyxFQUFBUixFQUFBUyxLQUVBVCxFQUFBUyxLQUFBZCxJQUFBQyxnQkFBQVcsR0FFQUMsR0FBQWIsSUFBQUUsZ0JBQUFXLElBNUdBZCxLQUFBLEtBQUExQixFQUFBZixHQUNBckYsRUFBQSxXQUNBNkcsRUFBQVQsR0FFQUEsRUFBQXlDLE1BQUFkLElBQUFFLGdCQUFBN0IsRUFBQXlDLFNBR0F6QyxFQUFBYyxFQUFBN0IsR0FDQW9DLEVBc0RBLFNBQUFyQixFQUFBb0IsR0FDQSxJQUFBMUUsRUFBQTBFLEVBQUExRSxJQUNBbUQsRUFBQXVCLEVBQUF2QixNQUVBQSxHQUNBRyxFQUFBbUIsYUFBQSxRQUFBdEIsR0FHQSxHQUFBRyxFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUFBQyxRQUFBakcsTUFDRSxDQUNGLEtBQUFzRCxFQUFBTyxZQUNBUCxFQUFBVyxZQUFBWCxFQUFBTyxZQUdBUCxFQUFBTSxZQUFBckMsU0FBQTJFLGVBQUFsRyxNQXJFQWdGLEtBQUEsS0FBQTFCLEdBQ0FwRyxFQUFBLFdBQ0E2RyxFQUFBVCxLQU1BLE9BRkFxQixFQUFBRCxHQUVBLFNBQUF5QixHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUNBQSxFQUFBbkcsTUFBQTBFLEVBQUExRSxLQUNBbUcsRUFBQWhELFFBQUF1QixFQUFBdkIsT0FDQWdELEVBQUEvQyxZQUFBc0IsRUFBQXRCLFVBRUEsT0FHQXVCLEVBQUFELEVBQUF5QixRQUVBakosS0FyT0FySixFQUFBRCxRQUFBLFNBQUFtUCxFQUFBUixHQUNBLHVCQUFBNkQsY0FDQSxpQkFBQTdFLFNBQUEsVUFBQXBCLE1BQUEsaUVBR0FvQyxTQUVBOEIsTUFBQSxpQkFBQTlCLEVBQUE4QixNQUFBOUIsRUFBQThCLFNBSUE5QixFQUFBTixXQUFBLGtCQUFBTSxFQUFBTixZQUFBTSxFQUFBTixVQUFBWCxLQUdBaUIsRUFBQWdCLGFBQUFoQixFQUFBZ0IsV0FBQSxRQUdBaEIsRUFBQWtCLFdBQUFsQixFQUFBa0IsU0FBQSxVQUVBLElBQUFuQixFQUFBUSxFQUFBQyxFQUFBUixHQUlBLE9BRkFGLEVBQUFDLEVBQUFDLEdBRUEsU0FBQThELEdBR0EsSUFGQSxJQUFBQyxLQUVBeFMsRUFBQSxFQUFpQkEsRUFBQXdPLEVBQUF6SyxPQUFtQi9ELElBQUEsQ0FDcEMsSUFBQTBPLEVBQUFGLEVBQUF4TyxJQUNBMk8sRUFBQXBCLEVBQUFtQixFQUFBckwsS0FFQXVMLE9BQ0E0RCxFQUFBMU4sS0FBQTZKLEdBR0E0RCxHQUVBaEUsRUFEQVMsRUFBQXVELEVBQUE5RCxHQUNBQSxHQUdBLElBQUF6TyxFQUFBLEVBQWlCQSxFQUFBd1MsRUFBQXpPLE9BQXNCL0QsSUFBQSxDQUN2QyxJQUFBMk8sRUFFQSxRQUZBQSxFQUFBNkQsRUFBQXhTLElBRUE0TyxLQUFBLENBQ0EsUUFBQUMsRUFBQSxFQUFtQkEsRUFBQUYsRUFBQUcsTUFBQS9LLE9BQTJCOEssSUFBQUYsRUFBQUcsTUFBQUQsWUFFOUN0QixFQUFBb0IsRUFBQXRMLFFBNkxBLElBQ0FvUCxFQURBQyxHQUNBRCxLQUVBLFNBQUF4SyxFQUFBMEssR0FHQSxPQUZBRixFQUFBeEssR0FBQTBLLEVBRUFGLEVBQUFqTyxPQUFBb08sU0FBQUMsS0FBQSxRQUlBLFNBQUE1QixFQUFBekIsRUFBQXZILEVBQUFtQixFQUFBd0gsR0FDQSxJQUFBMUUsRUFBQTlDLEVBQUEsR0FBQXdILEVBQUExRSxJQUVBLEdBQUFzRCxFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUFBQyxRQUFBTyxFQUFBekssRUFBQWlFLE9BQ0UsQ0FDRixJQUFBNEcsRUFBQXJGLFNBQUEyRSxlQUFBbEcsR0FDQTZHLEVBQUF2RCxFQUFBdUQsV0FFQUEsRUFBQTlLLElBQUF1SCxFQUFBVyxZQUFBNEMsRUFBQTlLLElBRUE4SyxFQUFBaFAsT0FDQXlMLEVBQUFLLGFBQUFpRCxFQUFBQyxFQUFBOUssSUFFQXVILEVBQUFNLFlBQUFnRCxvQkM5VEEvUyxFQUFBRCxRQUFBLFNBQUFrVCxHQUNBLElBQUEvRCxLQXdDQSxPQXJDQUEsRUFBQWdFLFNBQUEsV0FDQSxPQUFBclIsS0FBQW1ELElBQUEsU0FBQTJKLEdBQ0EsSUFBQXdFLEVBc0NBLFNBQUF4RSxFQUFBc0UsR0FDQSxJQUFBRSxFQUFBeEUsRUFBQSxPQUNBeUUsRUFBQXpFLEVBQUEsR0FDQSxJQUFBeUUsRUFDQSxPQUFBRCxFQUdBLEdBQUFGLEdBQUEsbUJBQUF6QixLQUFBLENBQ0EsSUFBQTZCLEdBWUE5RCxFQVpBNkQsRUFpQkEsbUVBSEE1QixLQUFBTSxTQUFBQyxtQkFBQXpILEtBQUErQyxVQUFBa0MsTUFHQSxPQWhCQStELEVBQUFGLEVBQUFHLFFBQUF2TyxJQUFBLFNBQUF3TyxHQUNBLHVCQUFBSixFQUFBSyxXQUFBRCxFQUFBLFFBR0EsT0FBQUwsR0FBQXhPLE9BQUEyTyxHQUFBM08sUUFBQTBPLElBQUFQLEtBQUEsTUFPQSxJQUFBdkQsRUFKQSxPQUFBNEQsR0FBQUwsS0FBQSxNQXREQVksQ0FBQS9FLEVBQUFzRSxHQUNBLE9BQUF0RSxFQUFBLEdBQ0EsVUFBQUEsRUFBQSxPQUFtQ3dFLEVBQUEsSUFFbkNBLElBRUdMLEtBQUEsS0FJSDVELEVBQUFqUCxFQUFBLFNBQUFFLEVBQUF3VCxHQUNBLGlCQUFBeFQsSUFDQUEsSUFBQSxLQUFBQSxFQUFBLE1BRUEsSUFEQSxJQUFBeVQsS0FDQTNULEVBQUEsRUFBZ0JBLEVBQUE0QixLQUFBbUMsT0FBaUIvRCxJQUFBLENBQ2pDLElBQUFxRCxFQUFBekIsS0FBQTVCLEdBQUEsR0FDQSxpQkFBQXFELElBQ0FzUSxFQUFBdFEsSUFBQSxHQUVBLElBQUFyRCxFQUFBLEVBQVlBLEVBQUFFLEVBQUE2RCxPQUFvQi9ELElBQUEsQ0FDaEMsSUFBQTBPLEVBQUF4TyxFQUFBRixHQUtBLGlCQUFBME8sRUFBQSxJQUFBaUYsRUFBQWpGLEVBQUEsTUFDQWdGLElBQUFoRixFQUFBLEdBQ0FBLEVBQUEsR0FBQWdGLEVBQ0tBLElBQ0xoRixFQUFBLE9BQUFBLEVBQUEsYUFBQWdGLEVBQUEsS0FFQXpFLEVBQUFuSyxLQUFBNEosTUFJQU8scUJDOUNBbFAsRUFBQUQsUUFBQUYsRUFBQSxFQUFBQSxFQUFBLElBS0FrRixNQUFBL0UsRUFBQUMsRUFBQSw4bUdBQWlvRyxzQkNKam9HLElBQUFrVCxFQUFBdFQsRUFBQSxHQUVBLGlCQUFBc1QsUUFBQW5ULEVBQUFDLEVBQUFrVCxFQUFBLE1BT0EsSUFBQXpFLEdBQWVtRixLQUFBLEVBRWY3QyxlQVBBQSxFQVFBdEIsZ0JBQUF6TCxHQUVBcEUsRUFBQSxFQUFBQSxDQUFBc1QsRUFBQXpFLEdBRUF5RSxFQUFBVyxTQUFBOVQsRUFBQUQsUUFBQW9ULEVBQUFXLGdWQ2pCQWhPLEVBQUFqRyxFQUFBLGNBQ0FBLEVBQUEsUUFFQUEsRUFBQSwyREFFTWtVLGNBQ0osU0FBQUEsRUFBWS9OLGdHQUFPcEUsQ0FBQUMsS0FBQWtTLEdBQUEsSUFBQTlOLG1LQUFBQyxDQUFBckUsTUFBQWtTLEVBQUE1TixXQUFBeEYsT0FBQXlGLGVBQUEyTixJQUFBM1QsS0FBQXlCLEtBQ1htRSxJQURXLE9BQUFDLEVBY25CeUQsbUJBQXFCLFNBQUE3QyxFQUFhK0MsR0FBVyxJQUFyQkMsRUFBcUJoRCxFQUFyQmdELE9BQ2xCNUQsRUFBSytOLFNBQVM5SyxVQUFZVyxHQUM1QkEsRUFBT1QsVUFBVVEsR0FBUSxXQWhCVjNELEVBb0JuQjRCLFFBQVUsU0FBQ25FLEdBQ1RBLEVBQUUwRyxpQkFDRjFHLEVBQUUyRyxrQkFHRixJQUFNNEosRUFBcUJ0TyxFQUFBQyxRQUFLeEQsb0JBR2hDLElBQUs2UixFQUNILE9BQU8sRUFUTSxJQUFBQyxFQVl5QmpPLEVBQUtELE1BQXJDbU8sRUFaT0QsRUFZUEMsY0FBZUMsRUFaUkYsRUFZUUUsYUFDZnpMLEVBQWtCc0wsRUFBbEJ0TCxjQUNGMUcsRUFBU2tTLEVBQWNGLEdBbUI3QixPQWpCQWhPLEVBQUt5RCxtQkFBbUJoRyxFQUFHLFVBR3ZCekIsR0FBVTBELEVBQUFDLFFBQUs5RCx1QkFFakI2RyxFQUFjc0wsRUFBbUJuSyxVQUFXLFdBRTFDc0ssTUFJRnpPLEVBQUFDLFFBQUsxRCxrQkFBa0IsT0FJekJ5RCxFQUFBQyxRQUFLNUQsb0JBQW1CLElBRWpCLEdBckRVaUUsRUEyRG5Cc0IsWUFBYyxTQUFDN0QsR0FDYkEsRUFBRTBHLGtCQTVEZW5FLEVBbUVuQndCLGFBQWUsU0FBQy9ELEdBQ2R1QyxFQUFLeUQsbUJBQW1CaEcsRUFBRyxXQXBFVnVDLEVBMkVuQjBCLGFBQWUsU0FBQ2pFLEdBQ2FpQyxFQUFBQyxRQUFLeEQscUJBRzlCNkQsRUFBS3lELG1CQUFtQmhHLEVBQUcsUUExRTdCdUMsRUFBSytOLFNBQVd6TixFQUFBWCxRQUFNWSxZQUxMUCxzWEFvRmpCLE9BQ0VNLEVBQUFYLFFBQUF1QixjQUFBLE9BQ0VDLElBQUt2RixLQUFLbVMsU0FDVjNNLFVBQVUsWUFDVkcsWUFBYTNGLEtBQUs0RixhQUNsQkMsWUFBYTdGLEtBQUs4RixhQUNsQkwsV0FBWXpGLEtBQUswRixZQUNqQkssT0FBUS9GLEtBQUtnRyxTQUVYaEcsS0FBS21FLE1BQU1xTyxVQUFZOU4sRUFBQVgsUUFBQXVCLGNBQUEsbUNBTWpDNE0sRUFBTXBJLFdBQ0p3SSxjQUFldkksRUFBQWhHLFFBQVVvRyxLQUN6Qm9JLGFBQWN4SSxFQUFBaEcsUUFBVW9HLEtBQ3hCcUksU0FBVXpJLEVBQUFoRyxRQUFVME8sV0FDbEIxSSxFQUFBaEcsUUFBVXFHLFFBQVFMLEVBQUFoRyxRQUFVNEYsU0FDNUJJLEVBQUFoRyxRQUFVNEYsV0FJZHVJLEVBQU03SCxjQUNKaUksY0FBZSxrQkFBTyxHQUN0QkMsYUFBYyxrQkFBTyxjQUdSTCw4ZUN2SGZqTyxFQUFBakcsRUFBQSxjQUNBQSxFQUFBLFFBRUFBLEVBQUEsOE5BRU0wVSw2U0FNSkMsWUFBYyxTQUFDeE8sR0FDYixJQUFNd0YsRUFBVTdGLEVBQUFDLFFBQUtyRCwrQkFBK0I4QixLQUFLLFNBQUFYLEdBQUEsT0FBS0EsRUFBRStILE9BQVN6RixFQUFNeUYsT0FDL0UsT0FBT0QsRUFBVWpGLEVBQUFYLFFBQUF1QixjQUFDcUUsRUFBUUUsVUFBYzFGLEdBQVksaVlBRzdDLElBQUFjLEVBQUFqRixLQUNDNFMsRUFBb0I1UyxLQUFLbUUsTUFBekJ5TyxnQkFFUixPQUNFbE8sRUFBQVgsUUFBQXVCLGNBQUEsT0FBS0UsVUFBVSxXQUVYb04sRUFBZ0J6UCxJQUFJLFNBQUEySixHQUFBLE9BQ2xCN0gsRUFBSzBOLFlBQUx2TSxLQUFzQjBHLEdBQU1sRixJQUFLa0YsRUFBS3JMLEdBQUltRixrQkFBa0IsaUJBUXhFOEwsRUFBUTVJLFdBQ044SSxnQkFBaUI3SSxFQUFBaEcsUUFBVXFHLFFBQVEsU0FBQ3lJLEdBQ2xDLElBQUlDLEdBQVUsRUFhZCxPQVZBRCxFQUFValIsUUFBUSxTQUFDa0wsR0FDYkEsSUFBU0EsRUFBS3JMLEtBQ2hCcVIsRUFBVSwyQ0FHUkQsRUFBVWpRLE9BQU8sU0FBQXhFLEdBQUEsT0FBS0EsRUFBRXFELEtBQU9xTCxFQUFLckwsS0FBSVUsT0FBUyxJQUNuRDJRLEVBQVUsK0NBSVBBLEdBQVUsSUFBSXJJLE1BQU1xSSxNQUkvQkosRUFBUXJJLGNBQ051SSw4QkFHYUYsOGVDdERmek8sRUFBQWpHLEVBQUEsY0FDQUEsRUFBQSxRQUVBQSxFQUFBLDJEQUVNK1UsY0FDSixTQUFBQSxFQUFZNU8sZ0dBQU9wRSxDQUFBQyxLQUFBK1MsR0FBQSxJQUFBM08sbUtBQUFDLENBQUFyRSxNQUFBK1MsRUFBQXpPLFdBQUF4RixPQUFBeUYsZUFBQXdPLElBQUF4VSxLQUFBeUIsS0FDWG1FLElBRFcsT0FBQUMsRUFhbkI0TyxTQUFXLFNBQUNuUixHQUNWQSxFQUFFMkcsa0JBRUZwRSxFQUFLNk8sWUFBWTVMLFFBQVFFLFVBQVVDLE9BQU8sU0FBVSxTQUdwRDFELEVBQUFDLFFBQUsxRCxrQkFBa0IsT0FuQk4rRCxFQXNCbkI4TyxXQUFhLFNBQUNyUixHQUNaQSxFQUFFMkcsa0JBRGdCLElBQUE2SixFQVdkak8sRUFBS0QsTUFQUDFDLEVBSmdCNFEsRUFJaEI1USxHQUNBbUksRUFMZ0J5SSxFQUtoQnpJLEtBQ0FqTCxFQU5nQjBULEVBTWhCMVQsS0FDQXdVLEVBUGdCZCxFQU9oQmMsUUFDQXBSLEVBUmdCc1EsRUFRaEJ0USxXQUNBK0UsRUFUZ0J1TCxFQVNoQnZMLGNBQ0FHLEVBVmdCb0wsRUFVaEJwTCxzQkFHSVQsR0FDSi9FLEtBQ0FtSSxPQUNBakwsT0FDQXdVLFdBR0Z0UixFQUFFOEcsYUFBYXlLLGNBQWdCLE9BQy9CdlIsRUFBRThHLGFBQWEwSyxRQUFRLE9BQVE1SyxLQUFLK0MsVUFBVWhGLElBSTFDekUsR0FDRitCLEVBQUFDLFFBQUsxRCxtQkFDSDRILFVBQVd4RyxFQUNYTSxhQUNBK0UsZ0JBQ0FHLDJCQXBEYTdDLEVBOERuQnNCLFlBQWMsU0FBQzdELEdBQ2IsSUFBTXlSLEVBQVdsUCxFQUFLNk8sWUFBWTVMLFFBQVFrTSx3QkFDcENDLEVBQVkzUixFQUFFNFIsUUFFcEIsSUFBS3JQLEVBQUtELE1BQU1rQixlQUNkLE9BQU8sRUFHTG1PLEdBQWFGLEVBQVNJLEdBQUtGLEdBQWFGLEVBQVNJLEVBQUlKLEVBQVNLLFNBRTVESCxFQURTRixFQUFTSSxFQUFJSixFQUFTSyxPQUFTLEdBRTFDdlAsRUFBSzZPLFlBQVk1TCxRQUFRRSxVQUFVQyxPQUFPLFNBQzFDcEQsRUFBSzZPLFlBQVk1TCxRQUFRRSxVQUFVcU0sSUFBSSxVQUN2QzlQLEVBQUFDLFFBQUtwRCxlQUFleUQsRUFBS0QsTUFBTWtDLFNBRS9CakMsRUFBSzZPLFlBQVk1TCxRQUFRRSxVQUFVQyxPQUFPLFVBQzFDcEQsRUFBSzZPLFlBQVk1TCxRQUFRRSxVQUFVcU0sSUFBSSxTQUN2QzlQLEVBQUFDLFFBQUtwRCxlQUFleUQsRUFBS0QsTUFBTWtDLE1BQVEsS0FJM0MsT0FBTyxHQW5GVWpDLEVBc0ZuQndCLGFBQWUsV0FFYnhCLEVBQUs2TyxZQUFZNUwsUUFBUUUsVUFBVUMsT0FBTyxTQUFVLFVBckZwRHBELEVBQUs2TyxZQUFjdk8sRUFBQVgsUUFBTVksWUFIUlAsdVlBTU95UCxHQUVwQjdULEtBQUttRSxNQUFNVyxXQUFhK08sRUFBVS9PLFVBQVkrTyxFQUFVL08sVUFDMUQ5RSxLQUFLbUUsTUFBTXJDLCtDQWtGTixJQUFBb0QsRUFDNkJsRixLQUFLbUUsTUFBakMyUCxFQURENU8sRUFDQzRPLGFBQWNDLEVBRGY3TyxFQUNlNk8sVUFDbEJsUyxFQUFJLEtBaUJSLE9BZkk3QixLQUFLbUUsTUFBTXBDLGFBRWJGLEdBQ0U0RCxXQUFZekYsS0FBSzBGLFlBQ2pCQyxZQUFhM0YsS0FBSzRGLGVBSWxCbU8sSUFDRmxTLE9BQ0tBLEdBQ0hrUyxXQUFXLEtBS2JyUCxFQUFBWCxRQUFBdUIsY0FBQSxNQUFBYyxHQUNFYixJQUFLdkYsS0FBS2lULFlBQ1Z6TixVQUFVLFlBQ1Z3TyxZQUFhaFUsS0FBS2tULFdBQ2xCak4sVUFBV2pHLEtBQUtnVCxVQUNaYyxFQUNBalMsR0FHRjdCLEtBQUttRSxNQUFNcU8sbUJBT3JCTyxFQUFVakosV0FDUnJJLEdBQUlzSSxFQUFBaEcsUUFBVWlHLE9BQU9DLFdBQ3JCdEwsS0FBTW9MLEVBQUFoRyxRQUFVaUcsT0FDaEJsRixTQUFVaUYsRUFBQWhHLFFBQVVrUSxLQUNwQjVOLE1BQU8wRCxFQUFBaEcsUUFBVW1HLE9BQ2pCNkosVUFBV2hLLEVBQUFoRyxRQUFVa1EsS0FDckI1TyxlQUFnQjBFLEVBQUFoRyxRQUFVa1EsS0FDMUJuUyxZQUFhaUksRUFBQWhHLFFBQVVvRyxLQUN2QnBJLFdBQVlnSSxFQUFBaEcsUUFBVWlHLE9BQ3RCbUosUUFBU3BKLEVBQUFoRyxRQUFVbVEsV0FBV3BWLFFBQzlCZ1YsYUFBYy9KLEVBQUFoRyxRQUFVbVEsV0FBV3BWLFFBQ25DOEssS0FBTUcsRUFBQWhHLFFBQVVpRyxPQUFPQyxXQUN2QnVJLFNBQVV6SSxFQUFBaEcsUUFBVTBPLFdBQ2xCMUksRUFBQWhHLFFBQVVxRyxRQUFRTCxFQUFBaEcsUUFBVTRGLFNBQzVCSSxFQUFBaEcsUUFBVTRGLFVBQ1RNLFdBQ0huRCxjQUFlaUQsRUFBQWhHLFFBQVVvRyxLQUN6QmxELHNCQUF1QjhDLEVBQUFoRyxRQUFVb0csTUFHbkM0SSxFQUFVMUksY0FDUnBELHNCQUF1QixrQkFBTyxHQUM5QjZNLGFBQWMsS0FDZFgsUUFBUyxLQUNUWSxXQUFXLEVBQ1hqUyxZQUFhLGtCQUFPLGNBR1BpUixnQ0N0SmY1VSxFQUFBRCxRQUZBLDZFQ1lBLElBQUFpVyxFQUFBLFNBQUFDLEtBK0JBalcsRUFBQUQsUUFyQkEsU0FBQW1XLEVBQUFELEVBQUFFLEVBQUFDLEVBQUE5VixFQUFBQyxFQUFBbUQsRUFBQWdCLEdBR0EsR0FGQXNSLEVBQUFDLElBRUFDLEVBQUEsQ0FDQSxJQUFBdlQsRUFDQSxRQUFBc0IsSUFBQWdTLEVBQ0F0VCxFQUFBLElBQUEySixNQUFBLHFJQUNLLENBQ0wsSUFBQStKLEdBQUFGLEVBQUFDLEVBQUE5VixFQUFBQyxFQUFBbUQsRUFBQWdCLEdBQ0E0UixFQUFBLEdBQ0EzVCxFQUFBLElBQUEySixNQUFBMkosRUFBQXJKLFFBQUEsaUJBQ0EsT0FBQXlKLEVBQUFDLFNBRUE5VixLQUFBLHNCQUlBLE1BREFtQyxFQUFBNFQsWUFBQSxFQUNBNVQsa0NDckNBLFNBQUE2VCxFQUFBQyxHQUNBLGtCQUNBLE9BQUFBLEdBU0EsSUFBQUMsRUFBQSxhQUVBQSxFQUFBQyxZQUFBSCxFQUNBRSxFQUFBRSxpQkFBQUosR0FBQSxHQUNBRSxFQUFBRyxnQkFBQUwsR0FBQSxHQUNBRSxFQUFBSSxnQkFBQU4sRUFBQSxNQUNBRSxFQUFBSyxnQkFBQSxXQUNBLE9BQUFsVixNQUVBNlUsRUFBQU0sb0JBQUEsU0FBQVAsR0FDQSxPQUFBQSxHQUdBelcsRUFBQUQsUUFBQTJXLGdDQzFCQSxJQUFBQSxFQUFBN1csRUFBQSxJQUNBb1gsRUFBQXBYLEVBQUEsSUFDQXFYLEVBQUFyWCxFQUFBLElBRUFHLEVBQUFELFFBQUEsV0FDQSxTQUFBb1gsRUFBQW5SLEVBQUFvUixFQUFBQyxFQUFBakwsRUFBQWtMLEVBQUFDLEdBQ0FBLElBQUFMLEdBSUFELEdBQ0EsRUFDQSxtTEFNQSxTQUFBTyxJQUNBLE9BQUFMLEVBRkFBLEVBQUFyTCxXQUFBcUwsRUFNQSxJQUFBTSxHQUNBQyxNQUFBUCxFQUNBckIsS0FBQXFCLEVBQ0FuTCxLQUFBbUwsRUFDQXBMLE9BQUFvTCxFQUNBL1YsT0FBQStWLEVBQ0F0TCxPQUFBc0wsRUFDQVEsT0FBQVIsRUFFQVMsSUFBQVQsRUFDQWxMLFFBQUF1TCxFQUNBaE0sUUFBQTJMLEVBQ0FwQixXQUFBeUIsRUFDQUssS0FBQVYsRUFDQVcsU0FBQU4sRUFDQU8sTUFBQVAsRUFDQWxELFVBQUFrRCxFQUNBUSxNQUFBUixFQUNBUyxNQUFBVCxHQU1BLE9BSEFDLEVBQUFTLGVBQUF4QixFQUNBZSxFQUFBVSxVQUFBVixFQUVBQSw4UEN4REE1WCxFQUFBLFFBRUFBLEVBQUEsaUVBS2UsU0FBQW1HLEdBQUEsT0FDYk8sRUFBQVgsUUFBQXVCLGNBQUEsT0FBS0UsVUFBVSxlQUNiZCxFQUFBWCxRQUFBdUIsY0FBQWlSLEVBQUF4UyxRQUFBcUMsS0FBY2pDLEdBQU9uQyxTQUFTLE9BQU9QLEdBQUcsT0FBT3FELFVBQUEscUNDUm5ELFFBQUE5RyxFQUFBLFNBQ0FBLEVBQUEsUUFDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FHQUEsRUFBQSxRQUNBQSxFQUFBLHVEQUdBQSxFQUFBLEdBRUFHLEVBQU9ELFNBRUxzWSxpQkFDQXRTLG1CQUNBNk8sb0JBQ0FMLGtCQUNBUixnQkFHQTlRLGdCQUNBdkIsZUFHQVcsd0JBQXlCc0QsRUFBQUMsUUFBS3ZEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOCk7XG4iLCJjbGFzcyBDb3JlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIG1haW4gb2JqZWN0L3N0b3JlXHJcbiAgICBjb25zdCBjb3JlID0ge307XHJcblxyXG4gICAgLy8gYWxsIHB1YmxpYyBnZXR0ZXIvc2V0dGVyIGdvZXMgaGVyZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gZ2V0IGF0dGVtcHRUb1JlbW92ZVxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGF0dGVtcHRUb1JlbW92ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmdldEF0dGVtcHRUb1JlbW92ZSA9ICgpID0+IChjb3JlLmF0dGVtcHRUb1JlbW92ZSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgdXNlcidzIGF0dGVtcHQgdG8gcmVtb3ZlIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXR1c1xyXG4gICAgICovXHJcbiAgICB0aGlzLnNldEF0dGVtcHRUb1JlbW92ZSA9IChzdGF0dXMpID0+IHtcclxuICAgICAgY29yZS5hdHRlbXB0VG9SZW1vdmUgPSBzdGF0dXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyYWdnZWQgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRyYWdnZWRFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0RHJhZ2dlZEVsZW1lbnQgPSAoZHJhZ2dlZEVsZW1lbnQpID0+IHtcclxuICAgICAgY29yZS5kcmFnZ2VkRWxlbWVudCA9IGRyYWdnZWRFbGVtZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBkcmFnZ2VkIGVsZW1lbnRcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0RHJhZ2dlZEVsZW1lbnQgPSAoKSA9PiAoY29yZS5kcmFnZ2VkRWxlbWVudCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZWdpc3RlciBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIC0gcGFsZXR0ZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICB0aGlzLnJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzID0gKHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpID0+IHtcclxuICAgICAgY29yZS5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gcmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZXR1cm4gcmVnaXN0ZXJlZCBwYWxldHRlIGVsZW1lbnRzXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gYXJyYXkgb2YgcGFsZXR0ZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICB0aGlzLmdldFJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgPSAoKSA9PiAoY29yZS5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCBkcm9wIHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZHJvcFBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0RHJvcFBvc3Rpb24gPSAoZHJvcFBvc2l0aW9uKSA9PiB7XHJcbiAgICAgIGNvcmUuZHJvcFBvc2l0aW9uID0gZHJvcFBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBkcm9wIHBvc2l0aW9uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmdldERyb3BQb3N0aW9uID0gKCkgPT4gKGNvcmUuZHJvcFBvc2l0aW9uKTtcclxuXHJcbiAgICAvKiBlc2xpbnQgbm8tY29uc29sZTowICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byBnaXZlIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gYW55IG1lc3NhZ2UgdG8gYmUgcHJpbnRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLmVycm9yID0gKG1lc3NhZ2UpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGxvZyBhIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gYW55IG1lc3NhZ2UgdG8gYmUgcHJpbnRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLmxvZyA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjb3JlID0gbmV3IENvcmUoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvcmU7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsImltcG9ydCBjb3JlIGZyb20gJy4vY29yZSc7XHJcblxyXG5jbGFzcyBTdGF0ZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBhbGwgcHJpdmF0ZSB2YXJpYmFsZSBnb2VzIGhlcmVcclxuICAgIGNvbnN0IHN0YXRlID0ge307XHJcbiAgICBjb25zdCBldmVudCA9IHtcclxuICAgICAgY2hhbmdlOiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzZXQgYmFzZVxyXG4gICAgc3RhdGUudHJlZSA9IFt7XHJcbiAgICAgIGlkOiAncm9vdCcsXHJcbiAgICAgIGZpZWxkczogW11cclxuICAgIH1dO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgdXBkYXRlIHRoZSBjb3JyZXNwb25kaW5nIG5vZGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50SURcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZGF0ZWRGaWVsZHMgLSBuZXcgZmllbGRzL2VsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWVsZHMgLSBmaWVsZHMvZWxlbWVudHMgb2YgY3VycmVudCBjYW52YXNcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBjb25zdCB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGZpZWxkcyA9IHN0YXRlLnRyZWUpID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2hlZFBhcmVudENhbnZhcyA9IGZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLmlkID09PSBwYXJlbnRJRCk7XHJcbiAgICAgIGxldCByZXR1cm5TdGF0dXMgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIGZvdW5kIGVsZW1lbnRcclxuICAgICAgaWYgKG1hdGNoZWRQYXJlbnRDYW52YXMpIHtcclxuICAgICAgICBpZiAoZHJvcHpvbmVJRCA9PT0gcGFyZW50SUQpIHtcclxuICAgICAgICAgIC8vIGZpcnN0IHRpbWUsIGNyZWF0ZSBmaWVsZHNcclxuICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcclxuICAgICAgICB9IGVsc2UgaWYgKCFtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyB8fCAhdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vIHVzZXIgdHJpZWQgdG8gcmVtb3ZlIGVsZW1lbnRzXHJcbiAgICAgICAgICBpZiAoZHJvcHpvbmVJRCAmJiBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcykge1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXHJcbiAgICAgICAgICAgICAgLmZpbHRlcihmID0+IGYuZHJvcHpvbmVJRCAhPT0gZHJvcHpvbmVJRCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtYXRjaGVkIGNhbnZhcyBkb2VzIG5vdCBoYXMgc3VjaCBmaWVsZCwgY3JlYXRlIG9uZVxyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IHVwZGF0ZWRGaWVsZHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGZpZWxkc1RvQmVBZGRlZCA9IFtdO1xyXG5cclxuICAgICAgICAgIC8vIGlmIHVzZXIgd29ya2luZyBvbiBtdWx0aSBkcm9wem9uZSBmaWVsZFxyXG4gICAgICAgICAgY29uc3QgbWF0Y2hlZERyb3B6b25lRmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcclxuICAgICAgICAgICAgLmZpbHRlcihmID0+IGYuZHJvcHpvbmVJRCA9PT0gZHJvcHpvbmVJRCk7XHJcblxyXG4gICAgICAgICAgaWYgKG1hdGNoZWREcm9wem9uZUZpZWxkcy5sZW5ndGggIT09IHVwZGF0ZWRGaWVsZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIHNvbWUgb2YgdGhlIGZpZWxkIGdvdCBkZWxldGVkIGZyb20gZHJvcHpvbmVcclxuICAgICAgICAgICAgLy8gcmVwbGFjZSBhbGwgZmllbGRzIHdpdGggbmV3IGZpZWxkc1xyXG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IHVwZGF0ZWRGaWVsZHNcclxuICAgICAgICAgICAgICAuY29uY2F0KG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cGRhdGVkRmllbGRzLmZvckVhY2goKHVGaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZpZWxkSW5kZXggPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xyXG4gICAgICAgICAgICAgICAgLmZpbmRJbmRleChmID0+IGYuaWQgPT09IHVGaWVsZC5pZCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHVzZXIgdHJ5IHRvIGFkZCBuZXcgZmllbGRcclxuICAgICAgICAgICAgICBpZiAoZmllbGRJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkc1RvQmVBZGRlZC5wdXNoKHVGaWVsZCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHVzZXIgdHJ5IHRvIHVwZGF0ZSBleGlzdGluZyBmaWVsZFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xyXG4gICAgICAgICAgICAgICAgICAubWFwKChmLCBpKSA9PiAoaSA9PT0gZmllbGRJbmRleCA/IHVGaWVsZCA6IGYpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIGFkZCBuZXcgZmllbGQgdG8gZXhpc3RpbmcgYXJyYXlcclxuICAgICAgICAgIGlmIChmaWVsZHNUb0JlQWRkZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMuY29uY2F0KGZpZWxkc1RvQmVBZGRlZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm5TdGF0dXMgPSB0cnVlO1xyXG5cclxuICAgICAgICAvKiBlc2xpbnQgbm8tZWxzZS1yZXR1cm46IDAgKi9cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgY2hpbGRGaWVsZHMgPSBmaWVsZHNbaV0uZmllbGRzO1xyXG4gICAgICAgICAgbGV0IHN0YXR1cyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIC8vIGZpZWxkIGhhcyBzdWItZmllbGRzLCBjaGVjayBpbnNpZGUgc3ViLWZpZWxkc1xyXG4gICAgICAgICAgaWYgKGNoaWxkRmllbGRzKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9IHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgY2hpbGRGaWVsZHMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmV0dXJuU3RhdHVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyaWdnZXIgYWxsIGNoYW5nZSBDQlxyXG4gICAgY29uc3Qgbm90aWZ5U3RhdGVDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgIC8vIHRyaWdnZXIgYWxsIGV2ZW50c1xyXG4gICAgICBldmVudC5jaGFuZ2UuZm9yRWFjaChlID0+IGUoc3RhdGUudHJlZSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byB1cGRhdGUgc3RhdGVcclxuICAgIC8vIG9uY2UgdXBkYXRlIGRvbmUsIHRyaWdnZXJzIENCIGFuZCBub3RpZnlTdGF0ZUNoYW5nZVxyXG4gICAgdGhpcy51cGRhdGVTdGF0ZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzLCBjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICAgIHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzKTtcclxuICAgICAgY2Ioc3RhdGUudHJlZSk7XHJcbiAgICAgIG5vdGlmeVN0YXRlQ2hhbmdlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGN1cnJlbnQgc3RhdGUgb2YgdHJlZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gc3RhdGUgdHJlZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmdldFN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWUpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdG8gY2xlYXIgdGhlIHN0YXRlXHJcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cclxuICAgICAqIHNvIHRoYXQgY29tcG9uZW50IGFzIHdlbGwgYXMgYXBwbGljYXRpb24gc3RhdGUgZ2V0cyBmbHVzaGVkXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY2xlYXJTdGF0ZSA9IChjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gc3RhdGUudHJlZVswXTtcclxuICAgICAgY29uc3QgdG9wTGV2ZWxGaWVsZHMgPSByb290Tm9kZS5maWVsZHMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gY2FudmFzIGlzIGVtcHR5LCBqdXN0IG5vdGlmeSBvdGhlclxyXG4gICAgICBpZiAoIXJvb3ROb2RlLmZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgIGNiKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJvb3ROb2RlLmZpZWxkcy5mb3JFYWNoKCh0b3BMZXZlbEVsZW1lbnQsIGkpID0+IHtcclxuICAgICAgICB0b3BMZXZlbEVsZW1lbnQuZmx1c2hEcm9wcGVkRWxlbWVudHMoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGkgPT09IHRvcExldmVsRmllbGRzIC0gMSkge1xyXG4gICAgICAgICAgICBub3RpZnlTdGF0ZUNoYW5nZSgpO1xyXG4gICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIGFkZCBldmVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSAoZXZlbnROYW1lLCBjYikgPT4ge1xyXG4gICAgICBsZXQgcmV0dXJuQ0IgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvcmUuZXJyb3IoJ2BjYmAgcGFyYW0gaGFzIHRvIGJlIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50LCBldmVudE5hbWUpKSB7XHJcbiAgICAgICAgZXZlbnRbZXZlbnROYW1lXS5wdXNoKGNiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuQ0IgPSBjYjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXR1cm5DQjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gKGV2ZW50TmFtZSwgY2IpID0+IHtcclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgIGV2ZW50W2V2ZW50TmFtZV0gPSBldmVudFtldmVudE5hbWVdLmZpbHRlcihlID0+IGUgIT09IGNiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3RhdGU7XHJcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vLi4vY29yZS9zdGF0ZSc7XHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBEcm9wem9uZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIGNhbnZhc1xyXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiBjdXJyZW50IGNhbnZhcyBvciBub3RcclxuICAgIHRoaXMuY2FudmFzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgLy8gY29tcG9uZW50IHN0YXRlXHJcbiAgICAvLyBpbml0aWFsRWxlbWVudHMgLSB0byBrZWVwIHRyYWNrIG9mIGluaXRpYWwgZWxlbWVudHNcclxuICAgIC8vIGRyb3BwZWRFbGVtZW50cyAtIHRvIGtlZXAgdHJhY2sgb2YgbmV3bHkgYWRkZWQgZWxlbWVudHNcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW10sXHJcbiAgICAgIGluaXREb25lOiBmYWxzZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyh0aGlzLnByb3BzLmluaXRpYWxFbGVtZW50cyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHsgaW5pdGlhbEVsZW1lbnRzIH0pIHtcclxuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gYWxsb3cgbWFudWFsIGVsZW1lbnQgdXBkYXRlXHJcbiAgICogTm90ZSAtIGZ1bmN0aW9uIGlzIG9ubHkgYWNjZXNzaWJsZSB0aHJvdWdoIHJlZiBhbmQgbWFrZSBzdXJlXHJcbiAgICogdmFsaWQgZGF0YSBpcyBwYXNzIHRocm91Z2ggZWxzZSBhcHBsaWNhdGlvbiBzdGF0ZS9oaWVyYXJjaHkgY2FuIGJyZWFrXHJcbiAgICogQHBhcmFtIGRhdGEge0FycmF5L0Z1bmN0aW9ufSAtIGlmIGl0cyBmdW5jdGlvbiB0aGVuIG1ha2Ugc3VyZSB5b3UgYXJlXHJcbiAgICogcmV0dXJuaW5nIHZhbGlkYSBhcnJheVxyXG4gICAqIEBwYXJhbSBkb25lIHtmdW5jdGlvbn0gLSBzdWNjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIGRhbmdlcm91c2x5U2V0RWxlbWVudHMgPSAoZGF0YSwgZG9uZSkgPT4ge1xyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgZWxlbWVudHMgPSBkYXRhKHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKSB8fCBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnRzID0gZGF0YTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZSA9PiAoe1xyXG4gICAgICAuLi5lLFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBzaG93QmFzaWNDb250ZW50OiBmYWxzZSxcclxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxyXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogdGhpcy5fY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9KSk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogZWxlbWVudHMsXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogZWxlbWVudHNcclxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGRvbmUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBiZWZvcmUvYWZ0ZXIgY2xhc3MgZm9ybSBhbGwgY2FudmFzIGVsZW1lbnRzXHJcbiAgICovXHJcbiAgX3VubWFya0RyYWdFbGVtZW50cyA9ICgpID0+IHtcclxuICAgIFtdLmZvckVhY2guY2FsbCh0aGlzLmNhbnZhc1JlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcmFnLWl0ZW0nKSwgZSA9PiBlLmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBpbml0aWFsIGVsZW1lbnRzXHJcbiAgICogQHBhcmFtIGluaXRpYWxFbGVtZW50cyB7QXJyYXl9IC0gSXQgaG9sZHMgYWxsIGluaXRpYWwgZWxlbWVudHMgdG8gYmUgc2hvd24gaW4gY2FudmFzXHJcbiAgICovXHJcbiAgX3NldEluaXRpYWxFbGVtZW50cyA9IChpbml0aWFsRWxlbWVudHMpID0+IHtcclxuICAgIC8vIGN1cnJlbnQgY29tcG9uZW50IHN0YXRlKGRyb3BwZWRFbGVtZW50cykgZG9lc24ndCBob2xkIGFueSBlbGVtZW50c1xyXG4gICAgLy8gYnV0IGluaXRpYWxFbGVtZW50cyBoYXMgc29tZSBlbGVtZW50IHRvIGJlIHNldFxyXG4gICAgY29uc3QgZ290SW5pdGlhbEl0ZW1zID0gQXJyYXkuaXNBcnJheShpbml0aWFsRWxlbWVudHMpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsRWxlbWVudHMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pbml0aWFsRWxlbWVudHMubGVuZ3RoO1xyXG5cclxuICAgIC8vIGZvciBmaXJzdCB0aW1lIGFkZCBpbml0aWFsRWxlbWVudHMgdG8gZHJvcHBlZEVsZW1lbnRzXHJcbiAgICBpZiAoZ290SW5pdGlhbEl0ZW1zKSB7XHJcbiAgICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRJbml0aWFsSXRlbXMgPSBpbml0aWFsRWxlbWVudHMubWFwKGUgPT4gKHtcclxuICAgICAgICAuLi5lLFxyXG4gICAgICAgIGtleTogZS5pZCxcclxuICAgICAgICBkcm9wem9uZUlELFxyXG4gICAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxyXG4gICAgICAgIHVwZGF0ZVN0YXRlOiB0aGlzLl91cGRhdGVTdGF0ZSxcclxuICAgICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxyXG4gICAgICAgIGZsdXNoRHJvcHBlZEVsZW1lbnRzOiB0aGlzLl9mbHVzaERyb3BwZWRFbGVtZW50cyxcclxuICAgICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpbml0aWFsRWxlbWVudHM6IHVwZGF0ZWRJbml0aWFsSXRlbXMsXHJcbiAgICAgICAgZHJvcHBlZEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zXHJcbiAgICAgIH0sICgpID0+ICh0aGlzLl91cGRhdGVTdGF0ZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpbml0RG9uZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gdG9nZ2xlL21hbmFnZSBjbGFzcyhpbnNpZGUpXHJcbiAgICogY2xhc3MgZ2V0cyBhcHBlbmRlZCB0byBjYW52YXNcclxuICAgKiBAcGFyYW0gdGFyZ2V0IHtET019IC0gY3VycmVudCBjYW52YXMgdXBvbiB3aGljaCB1c2UgaXMgaG92ZXJpbmdcclxuICAgKiBAcGFyYW0gYWN0aW9uIHtTdHJpbmd9IC0gYWRkL3JlbW92ZSAtIG5hbWUgb2YgYWN0aW9uXHJcbiAgICovXHJcbiAgX21hbmFnZUluc2lkZUNsYXNzID0gKHsgdGFyZ2V0IH0sIGFjdGlvbikgPT4ge1xyXG4gICAgaWYgKHRoaXMuY2FudmFzUmVmLmN1cnJlbnQgPT09IHRhcmdldCkge1xyXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0W2FjdGlvbl0oJ2luc2lkZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBkcm9wcGVkRWxlbWVudHNcclxuICAgKiBAcGFyYW0gZWxlbWVudElEIC0ge1N0cmluZ30gLSBJRCBvZiBlbGVtZW50XHJcbiAgICovXHJcbiAgX3JlbW92ZUVsZW1lbnQgPSAoZWxlbWVudElELCBjYiA9ICgpID0+IHt9KSA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLmZpbmRJbmRleChlID0+IGUuaWQgPT09IGVsZW1lbnRJRCk7XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChkLCBpKSA9PiAoaSAhPT0gaW5kZXgpKVxyXG4gICAgfSwgKCkgPT4gdGhpcy5fdXBkYXRlU3RhdGUoY2IpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgYXBwbGljYXRpb24gc3RhdGUgKG5vdCBjb21wb25lbnQgc3RhdGUpXHJcbiAgICogZnVuY3Rpb24gd2lsbCBmdXJ0aGVyIGNhbGwgYHVwZGF0ZVN0YXRlYCBmcm9tIHN0YXRlIEFQSSwgd2hpY2ggdXBkYXRlcyB0aGUgYXBwbGljYXRpb24gc3RhdGVcclxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcclxuICAgKi9cclxuICBfdXBkYXRlU3RhdGUgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBpZDogZHJvcHpvbmVJRCxcclxuICAgICAgcGFyZW50SURcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHN0YXRlLnVwZGF0ZVN0YXRlKFxyXG4gICAgICBkcm9wem9uZUlELFxyXG4gICAgICBwYXJlbnRJRCxcclxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMsXHJcbiAgICAgIGNiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gZmx1c2ggdGhlIGNvbXBvbmVudCBzdGF0ZVxyXG4gICAqIG9uY2UgY29tcG9uZW50IHN0YXRlIHRocyBmbHVzaGVkLCB0aGlzIHdpbGwgY2FsbCBgX3VwZGF0ZVN0YXRlYCB0byB1cGRhdGUgdGhlXHJcbiAgICogYXBwbGljYXRpb24gc3RhdGVcclxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcclxuICAgKi9cclxuICBfZmx1c2hEcm9wcGVkRWxlbWVudHMgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW11cclxuICAgIH0sICgpID0+ICh0aGlzLl91cGRhdGVTdGF0ZShjYikpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIGNoZWNrIGJlbG93IHBhcmFtZXRlcnNcclxuICAgKiAxIC0gdXNlcidzIGludGVuZCBpcyB0byBtb3ZlIGVsZW1lbnQgZnJvbSBvbmUgY2FudmFzIHRvIG90aGVyXHJcbiAgICogMiAtIEdldCBjb25maXJtYXRpb24gYmVmb3JlIHJlbW92ZVxyXG4gICAqIG9uY2UgYm90aCBjb25kaXRpb24gbWF0Y2hlZCByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xyXG4gICAqL1xyXG4gIF9jaGVja0FuZFJlbW92ZUVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50TW92ZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XHJcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQsIGVsZW1lbnRJRCB9ID0gZWxlbWVudE1vdmVkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5wcm9wcy5vbkVsZW1lbnRNb3ZlKGVsZW1lbnRNb3ZlZCk7XHJcbiAgICBjb25zdCBhdHRlbXB0VG9Nb3ZlID0gIWNvcmUuZ2V0QXR0ZW1wdFRvUmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKHN0YXR1cyAmJiBhdHRlbXB0VG9Nb3ZlKSB7XHJcbiAgICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudElEKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgY2FudmFzXHJcbiAgLy8gYHByZXZlbnREZWZhdWx0YCAtIFJlcXVpcmVkLiBBbGxvd3MgdXMgdG8gZHJvcC5cclxuICAvLyBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgY2FudmFzXHJcbiAgICogQHBhcmFtIGUge2V2ZW50fVxyXG4gICAqL1xyXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XHJcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XHJcbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBjYW52YXNcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdhZGQnKTtcclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZSBoYXMgZHJvcHBlZCB0aGUgZWxlbWVudCBpbnRvIHRoZSBjYW52YXNcclxuICAgKiBwZXJmb3JtIGFsbCByZXF1aXJlZCBjaGVja3NcclxuICAgKiBmdW5jdGlvbiBhbHNvIHRyaWdnZXJzIGBvbkRyb3BgIHByb3Agc28gdGhhdCB1c2V0IGNhbiBwcm92aWRlIGFkZGl0aW9uYWwgaW5mb1xyXG4gICAqIG9uY2UgYWxsIGRvbmUgYF9hZGRFbGVtZW50YCBnZXQgY2FsbGVkIHdpdGggYWxsIHJlcXVpcmVkIGluZm9cclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJvcCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICBjb25zdCB7IG9uRHJvcCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdkYXRhJykpO1xyXG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xyXG5cclxuICAgIHRoaXMuX3VubWFya0RyYWdFbGVtZW50cygpO1xyXG5cclxuICAgIHJldHVybiBvbkRyb3AgPyBvbkRyb3AoZGF0YSwgdGhpcy5fYWRkRWxlbWVudCwge1xyXG4gICAgICBkcm9wSW5kZXg6IGNvcmUuZ2V0RHJvcFBvc3Rpb24oKSArIDEsXHJcbiAgICAgIGN1cnJlbnRFbGVtZW50czogdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHNcclxuICAgIH0pIDogdGhpcy5fYWRkRWxlbWVudChkYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIGFkZCBlbGVtZW50IGludG8gZHJvcHBlZEVsZW1lbnRzXHJcbiAgICogcHJpb3IgdG8gYWRkIGl0IHBlcmZvbSBiZWxvdyBjaGVja1xyXG4gICAqIDEgLSBlbGVtZW50IGhhcyB1bmlxdWUga2V5XHJcbiAgICogMiAtIGVsZW1lbnQgaGFzIGludmFsaWQgZGF0YVxyXG4gICAqIDMgLSBjaGVjayBhZ2FpbnN0IG1heC1jYXBhY2l0eVxyXG4gICAqIG9uY2UgZWxlbWVudCBhZGRlZCByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcclxuICAgKiBAcGFyYW0gdXBkYXRlZERhdGEge09iamVjdH0gLSBlbGVtZW50IGluZm9ybWF0aW9uXHJcbiAgICogQHJldHVybnMgT2JqZWN0IC0gbmV3IGxpc3Qgb2YgY2FudmFzIGVsZW1lbnRzXHJcbiAgICovXHJcbiAgX2FkZEVsZW1lbnQgPSAodXBkYXRlZERhdGEpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgaWQ6IGRyb3B6b25lSUQsXHJcbiAgICAgIGNhcGFjaXR5XHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IGRyb3BQb3NpdGlvbiA9IGNvcmUuZ2V0RHJvcFBvc3Rpb24oKTtcclxuICAgIGNvbnN0IGRyYWdnZWRFbGVtZW50ID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG4gICAgY29uc3QgaW52YWxpZFVwZGF0ZWREYXRhID0gIXVwZGF0ZWREYXRhIHx8ICF1cGRhdGVkRGF0YS5pZDtcclxuICAgIGxldCBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSAtMTtcclxuICAgIGNvbnN0IGtleUFscmVhZHlQcmVzZW50ID0gdXBkYXRlZERhdGEuaWQgJiZcclxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChlLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuaWQgPT09IHVwZGF0ZWREYXRhLmlkKSB7XHJcbiAgICAgICAgICBpbmRleE9mUHJlc2VudEVsZW1lbnQgPSBpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9KS5sZW5ndGg7XHJcbiAgICBjb25zdCBpc1NhbWVJbmRleCA9IGluZGV4T2ZQcmVzZW50RWxlbWVudCA9PT0gZHJvcFBvc2l0aW9uO1xyXG4gICAgbGV0IG5ld0VsZW1lbnRzID0gW10uY29uY2F0KHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzKTtcclxuICAgIGxldCBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBjaGVjayBmbyB1bmlxdWUga2V5XHJcbiAgICBpZiAoaW52YWxpZFVwZGF0ZWREYXRhIHx8IGtleUFscmVhZHlQcmVzZW50KSB7XHJcbiAgICAgIGlmIChpc1NhbWVJbmRleCkge1xyXG4gICAgICAgIHJldHVybiBjb3JlLmVycm9yKCdEdXBsaWNhdGUgb3IgaW52YWxpZCBJRCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50QWxyZWFkeVJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLm1hcCgoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4uZSwgcmVtb3ZlOiB0cnVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtZW50VG9Ecm9wID0ge1xyXG4gICAgICAuLi51cGRhdGVkRGF0YSxcclxuICAgICAga2V5OiB1cGRhdGVkRGF0YS5pZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UsXHJcbiAgICAgIHVwZGF0ZVN0YXRlOiB0aGlzLl91cGRhdGVTdGF0ZSxcclxuICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcclxuICAgICAgZmx1c2hEcm9wcGVkRWxlbWVudHM6IHRoaXMuX2ZsdXNoRHJvcHBlZEVsZW1lbnRzLFxyXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZHJvcFBvc2l0aW9uID4gMCkge1xyXG4gICAgICBuZXdFbGVtZW50cyA9IFtcclxuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZSgwLCBkcm9wUG9zaXRpb24pLFxyXG4gICAgICAgIGVsZW1lbnRUb0Ryb3AsXHJcbiAgICAgICAgLi4ubmV3RWxlbWVudHMuc2xpY2UoZHJvcFBvc2l0aW9uKVxyXG4gICAgICBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmV3RWxlbWVudHMgPSBbXHJcbiAgICAgICAgZWxlbWVudFRvRHJvcCxcclxuICAgICAgICAuLi5uZXdFbGVtZW50c1xyXG4gICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNTYW1lSW5kZXgpIHtcclxuICAgICAgbmV3RWxlbWVudHMgPSBuZXdFbGVtZW50cy5maWx0ZXIoZSA9PiAhZS5yZW1vdmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIG5ldyBsaXN0IGFnYWluc3QgbWF4LWNhcGFjaXR5XHJcbiAgICBpZiAoY2FwYWNpdHkgJiYgbmV3RWxlbWVudHMubGVuZ3RoID4gY2FwYWNpdHkpIHtcclxuICAgICAgcmV0dXJuIGNvcmUuZXJyb3IoYE1heGltdW0gY2FwYWNpdHkgb2YgY2FudmFzKCR7ZHJvcHpvbmVJRH0pIGlzICR7Y2FwYWNpdHl9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBjdXJyZW50IGxpc3RcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcm9wcGVkRWxlbWVudHM6IG5ld0VsZW1lbnRzXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXHJcbiAgICAgIGlmICghZWxlbWVudEFscmVhZHlSZW1vdmVkICYmIGRyYWdnZWRFbGVtZW50ICYmIHR5cGVvZiBkcmFnZ2VkRWxlbWVudC5jaGVja0FuZFJlbW92ZUVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBkcmFnZ2VkRWxlbWVudC5jaGVja0FuZFJlbW92ZUVsZW1lbnQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gdXBkYXRlIHRoZSBhcHBsaWNhdGlvbiBzdGF0ZVxyXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgZWxlbWVudHM6IG5ld0VsZW1lbnRzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XHJcbiAgICogQHJldHVybnMgSlNYXHJcbiAgICovXHJcbiAgX3JlbmRlckRyYWdJdGVtID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XHJcbiAgICByZXR1cm4gZWxlbWVudCA/IDxlbGVtZW50LmNvbXBvbmVudCB7Li4ucHJvcHN9IC8+IDogbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3QgeyBjYXBhY2l0eSwgaWQsIHBsYWNlaG9sZGVyIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3Qgc3BhY2VBdmFpbGFibGUgPSBjYXBhY2l0eSA/IGNhcGFjaXR5ID4gZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA6IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy5jYW52YXNSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgJHshc3BhY2VBdmFpbGFibGUgPyAnbm8tc3BhY2UnIDogJyd9ICR7aWQgPT09ICdyb290JyA/ICdjYW52YXMnIDogJyd9ICR7IWRyb3BwZWRFbGVtZW50cy5sZW5ndGggPyAnZW1wdHknIDogJyd9IGRyb3B6b25lYH1cclxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLl9vbkRyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XHJcbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XHJcbiAgICAgICAgb25EcmFnRW5kPXt0aGlzLl9vbkRyYWdFbmR9XHJcbiAgICAgID5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkcm9wcGVkRWxlbWVudHMubWFwKChlLCBpKSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYWdJdGVtKHtcclxuICAgICAgICAgICAgICAuLi5lLFxyXG4gICAgICAgICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgICAgICAgIHNwYWNlQXZhaWxhYmxlLFxyXG4gICAgICAgICAgICAgIGluaXREb25lOiB0aGlzLnN0YXRlLmluaXREb25lLFxyXG4gICAgICAgICAgICAgIGRyb3B6b25lUHJvcHM6IHtcclxuICAgICAgICAgICAgICAgIGluaXREb25lOiB0aGlzLnN0YXRlLmluaXREb25lLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50SUQ6IGUuaWRcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIWRyb3BwZWRFbGVtZW50cy5sZW5ndGggP1xyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkcm9wem9uZS1wbGFjZWhvbGRlclwiPntwbGFjZWhvbGRlcn08L3A+IDogbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuRHJvcHpvbmUucHJvcFR5cGVzID0ge1xyXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgY2FwYWNpdHk6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgb25Ecm9wOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkVsZW1lbnRNb3ZlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBpbml0aWFsRWxlbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKE9iamVjdCksXHJcbiAgcGFyZW50SUQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLnN0cmluZ1xyXG59O1xyXG5cclxuRHJvcHpvbmUuZGVmYXVsdFByb3BzID0ge1xyXG4gIGluaXRpYWxFbGVtZW50czogW10sXHJcbiAgcGxhY2Vob2xkZXI6ICdEcm9wIEhlcmUnLFxyXG4gIG9uRWxlbWVudE1vdmU6ICgpID0+ICh0cnVlKVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJvcHpvbmU7XHJcbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBWZXJ5IGJhc2ljIHN0eWxlICovXFxyXFxuXFxyXFxuLyogUHJldmVudCB0aGUgdGV4dCBjb250ZW50cyBvZiBkcmFnZ2FibGUgZWxlbWVudHMgZnJvbSBiZWluZyBzZWxlY3RhYmxlLiAqL1xcclxcbltkcmFnZ2FibGVdIHtcXHJcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuXFxyXFxuICAvKiBSZXF1aXJlZCB0byBtYWtlIGVsZW1lbnRzIGRyYWdnYWJsZSBpbiBvbGQgV2ViS2l0ICovXFxyXFxuICAta2h0bWwtdXNlci1kcmFnOiBlbGVtZW50O1xcclxcbiAgLXdlYmtpdC11c2VyLWRyYWc6IGVsZW1lbnQ7XFxyXFxufVxcclxcblxcclxcbi8qIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzIHdoZW4gdXNlciBkcmFnZ2luZyBvdmVyIG9uIGl0ICovXFxyXFxuLmluc2lkZSB7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXHJcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94Lmluc2lkZSxcXHJcXG4uZHJvcHpvbmUuaW5zaWRlLm5vLXNwYWNlIHtcXHJcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC41KTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxyXFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjc1KTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyb3B6b25lIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZjBmYWZmO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgIzAyNzdiZDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyb3B6b25lLmVtcHR5IHtcXHJcXG4gIHBhZGRpbmc6IDQwcHg7XFxyXFxufVxcclxcblxcclxcbi5wYWxldHRlIHtcXHJcXG4gIHBhZGRpbmc6IDEwcHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMTU3OWI7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0ge1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGNvbG9yOiAjMDE1NzliO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmM7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDE1NzliO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJvcHpvbmUtcGxhY2Vob2xkZXIge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBjb2xvcjogIzAxNTc5YjtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gIGxlZnQ6IDA7XFxyXFxuICB0b3A6IGNhbGMoNTAlIC0gMTBweCk7XFxyXFxuICBhbmltYXRpb24tbmFtZTogY2hhbmdlQ29sb3I7XFxyXFxuICBhbmltYXRpb24tZHVyYXRpb246IDJzO1xcclxcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XFxyXFxuICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBjaGFuZ2VDb2xvciB7XFxyXFxuICAyNSUge1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgfVxcclxcblxcclxcbiAgNzUlIHtcXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXHJcXG4gICAgb3BhY2l0eTogMC41O1xcclxcbiAgfVxcclxcbn1cXHJcXG5cXHJcXG4ucGFsZXR0ZS13cmFwcGVyIC5kcmFnLWl0ZW0ge1xcclxcbiAgY29sb3I6ICNmZmY7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDE1NzliO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtICsgZGl2IHtcXHJcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0uYWZ0ZXIsXFxyXFxuLmRyYWctaXRlbS5iZWZvcmUge1xcclxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZy1pdGVtLmFmdGVyOjphZnRlciB7XFxyXFxuICBjb250ZW50OiAnJztcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gIHdpZHRoOiA1MCU7XFxyXFxuICBoZWlnaHQ6IDFweDtcXHJcXG4gIGJhY2tncm91bmQ6ICMxNGI0NTE7XFxyXFxuICBsZWZ0OiA1MCU7XFxyXFxuICBib3R0b206IC0xcHg7XFxyXFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxyXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcXHJcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDIwLCAxODAsIDgxLCAxKTtcXHJcXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDIwLCAxODAsIDgxLCAxKTtcXHJcXG4gIGJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxyXFxufVxcclxcblxcclxcbi5kcmFnLWl0ZW0uYmVmb3JlOjpiZWZvcmUge1xcclxcbiAgY29udGVudDogJyc7XFxyXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICB3aWR0aDogNTAlO1xcclxcbiAgaGVpZ2h0OiAxcHg7XFxyXFxuICBiYWNrZ3JvdW5kOiAjMTRiNDUxO1xcclxcbiAgbGVmdDogNTAlO1xcclxcbiAgdG9wOiAtMXB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxyXFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAtMXB4IDEwcHggMC4zcHggcmdiYSgyMywgMTgwLCA4MSwgMSk7XFxyXFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAtMXB4IDEwcHggMC4zcHggcmdiYSgyMywgMTgwLCA4MSwgMSk7XFxyXFxuICBib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcclxcbn1cXHJcXG5cXHJcXG4udHJhc2gtYm94IHtcXHJcXG4gIHBhZGRpbmc6IDMwcHggMTBweDtcXHJcXG4gIG1hcmdpbjogMTBweCAwO1xcclxcbiAgY29sb3I6ICNiNzFjMWM7XFxyXFxuICBiYWNrZ3JvdW5kOiAjZmZjZGQyO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgI2I3MWMxYztcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuXHJcbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XHJcblxyXG5jbGFzcyBUcmFzaCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgcmVmcmVuY2UgZm9yIHRyYXNoXHJcbiAgICAvLyB0byBjaGVjayB3aGV0aGVyIGlzIGRyYWdnaW5nIG9uIHRyYXNoIGJveCBvciBub3RcclxuICAgIHRoaXMudHJhc2hSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxyXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXHJcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXHJcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxyXG4gICAqL1xyXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcclxuICAgIGlmICh0aGlzLnRyYXNoUmVmLmN1cnJlbnQgPT09IHRhcmdldCkge1xyXG4gICAgICB0YXJnZXQuY2xhc3NMaXN0W2FjdGlvbl0oJ2luc2lkZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uRHJvcCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIC8vIGdldCBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcclxuXHJcbiAgICAvLyBkb250IGFsbG93IGVsZW1lbnRzIHdoaWNoIGRpcmVjdGx5IGNvbWluZyBmcm9tIHBhbGV0dGVcclxuICAgIGlmICghZWxlbWVudFRvQmVUcmFzaGVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IG9uQmVmb3JlVHJhc2gsIG9uQWZ0ZXJUcmFzaCB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IHsgcmVtb3ZlRWxlbWVudCB9ID0gZWxlbWVudFRvQmVUcmFzaGVkO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gb25CZWZvcmVUcmFzaChlbGVtZW50VG9CZVRyYXNoZWQpO1xyXG5cclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuXHJcbiAgICAvLyB1c2VyIHRyaWVkIGFuZCBjb25maXJtIHRvIHJlbW92ZSBlbGVtZW50XHJcbiAgICBpZiAoc3RhdHVzICYmIGNvcmUuZ2V0QXR0ZW1wdFRvUmVtb3ZlKCkpIHtcclxuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xyXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRUb0JlVHJhc2hlZC5lbGVtZW50SUQsICgpID0+IHtcclxuICAgICAgICAvLyBhY2tub3dsZWRnZVxyXG4gICAgICAgIG9uQWZ0ZXJUcmFzaCgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGRvbmUgZHJhZ2dpbmcsIGZsdXNoIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudChudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXNldCBhdHRlbXB0IHRvIHJlbW92ZVxyXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gdXNlciBpcyBkcmFnZ2luZyBvdmVyIHRoZSB0cmFzaFxyXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXHJcbiAgLy8gQHBhcmFtIGUge2V2ZW50fVxyXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgdHJhc2hcclxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XHJcbiAgICovXHJcbiAgX29uRHJhZ0xlYXZlID0gKGUpID0+IHtcclxuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0cmFzaFxyXG4gICAqIEBwYXJhbSBlIHtldmVudH1cclxuICAgKi9cclxuICBfb25EcmFnRW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudFRvQmVUcmFzaGVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xyXG5cclxuICAgIGlmIChlbGVtZW50VG9CZVRyYXNoZWQpIHtcclxuICAgICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ2FkZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17dGhpcy50cmFzaFJlZn1cclxuICAgICAgICBjbGFzc05hbWU9XCJ0cmFzaC1ib3hcIlxyXG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cclxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XHJcbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5fb25EcmFnT3Zlcn1cclxuICAgICAgICBvbkRyb3A9e3RoaXMuX29uRHJvcH1cclxuICAgICAgPlxyXG4gICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCA8c3Bhbj5UcmFzaCBCb3g8L3NwYW4+IH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuVHJhc2gucHJvcFR5cGVzID0ge1xyXG4gIG9uQmVmb3JlVHJhc2g6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uQWZ0ZXJUcmFzaDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpLFxyXG4gICAgUHJvcFR5cGVzLmVsZW1lbnRcclxuICBdKSxcclxufTtcclxuXHJcblRyYXNoLmRlZmF1bHRQcm9wcyA9IHtcclxuICBvbkJlZm9yZVRyYXNoOiAoKSA9PiAodHJ1ZSksXHJcbiAgb25BZnRlclRyYXNoOiAoKSA9PiAodHJ1ZSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYXNoO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuXHJcbmNsYXNzIFBhbGV0dGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICogQHBhcmFtIHByb3BzIHtPYmplY3R9IC0gQW4gb2JqZWN0IHdoaWNoIGhvbGQgdGhlIGluZm8gb2YgZHJhZ2dlZCBlbGVtZW50L2NvbXBvbmVudFxyXG4gICAqIEByZXR1cm5zIEpTWFxyXG4gICAqL1xyXG4gIF9yZW5kZXJMaXN0ID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XHJcbiAgICByZXR1cm4gZWxlbWVudCA/IDxlbGVtZW50LmNvbXBvbmVudCB7Li4ucHJvcHN9IC8+IDogbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgcGFsZXR0ZUVsZW1lbnRzIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFsZXR0ZVwiPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHBhbGV0dGVFbGVtZW50cy5tYXAoaXRlbSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QoeyAuLi5pdGVtLCBrZXk6IGl0ZW0uaWQsIHNob3dCYXNpY0NvbnRlbnQ6IHRydWUgfSlcclxuICAgICAgICAgICkpXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5QYWxldHRlLnByb3BUeXBlcyA9IHtcclxuICBwYWxldHRlRWxlbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKChwcm9wVmFsdWUpID0+IHtcclxuICAgIGxldCBpc0Vycm9yID0gZmFsc2U7XHJcblxyXG4gICAgLy8gYWxsIHBhbGV0dGUgZWxlbWVudHMgc2hvdWxkIGhhdmUgdW5pcXVlIElEXHJcbiAgICBwcm9wVmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpZiAoaXRlbSAmJiAhaXRlbS5pZCkge1xyXG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBpcyByZXF1aXJlZCBpbiBhbGwgcGFsZXR0ZSBlbGVtZW50JztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByb3BWYWx1ZS5maWx0ZXIoaSA9PiBpLmlkID09PSBpdGVtLmlkKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgaXNFcnJvciA9ICdgaWRgIG9mIHBhbGV0dGUgZWxlbWVudCBzaG91bGQgYmUgdW5pcXVlJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzRXJyb3IgPyBuZXcgRXJyb3IoaXNFcnJvcikgOiB0cnVlO1xyXG4gIH0pXHJcbn07XHJcblxyXG5QYWxldHRlLmRlZmF1bHRQcm9wcyA9IHtcclxuICBwYWxldHRlRWxlbWVudHM6IFtdXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWxldHRlO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcclxuXHJcbmNsYXNzIERyYWdnYWJsZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLmRyYWdFbGVtUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSBvbmNlIHBhcmVudCBzdGF0ZSBpbml0aWFsaXNhdGlvbiBpcyBkb25lXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pbml0RG9uZSAhPT0gbmV4dFByb3BzLmluaXREb25lICYmIG5leHRQcm9wcy5pbml0RG9uZSkge1xyXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZVN0YXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZHJhZ0VuZCA9IChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnLCAnYWZ0ZXInKTtcclxuXHJcbiAgICAvLyBkb25lIGRyYWdnaW5nLCByZXNldCBkcmFnZ2VkIGVsZW1lbnRcclxuICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQobnVsbCk7XHJcbiAgfVxyXG5cclxuICBfZHJhZ1N0YXJ0ID0gKGUpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBpZCxcclxuICAgICAgdHlwZSxcclxuICAgICAgbmFtZSxcclxuICAgICAgcGF5bG9hZCxcclxuICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgcmVtb3ZlRWxlbWVudCxcclxuICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50XHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBpZCxcclxuICAgICAgdHlwZSxcclxuICAgICAgbmFtZSxcclxuICAgICAgcGF5bG9hZFxyXG4gICAgfTtcclxuXHJcbiAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xyXG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnZGF0YScsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsgLy8gcmVxdWlyZWQsIHdlIGNhbm4ndCBwYXNzIEpTIG9iamVjdFxyXG5cclxuICAgIC8vIGlmIGVsZW1lbnQgaXMgYWxyZWFkeSBwcmVzZW50IGluIHNvbWUgY2FudmFzXHJcbiAgICAvLyB0aGVuIHNldCBkcmFnZ2VkRWxlbWVudCwgc28gdGhhdCB0aGlzIHdpbGwgaGVscCB0byByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcclxuICAgIGlmIChkcm9wem9uZUlEKSB7XHJcbiAgICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQoe1xyXG4gICAgICAgIGVsZW1lbnRJRDogaWQsXHJcbiAgICAgICAgZHJvcHpvbmVJRCxcclxuICAgICAgICByZW1vdmVFbGVtZW50LFxyXG4gICAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBkcm9wIHBvc2l0aW9uLlxyXG4gICAqIGZpcnN0IGZpbmUgbWlkIG9mIGVsZW1lbnQgdXBvbiB3aGljaCB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgYW5kXHJcbiAgICogYmFzZWQgb24gdGhhdCBkZWNpZGUgd2hldGhlciB1c2VyIHRyeWluZyB0byBkcm9wIGFuIGVsZW1lbnQgYWJvdmUgb3IgYmVsb3dcclxuICAgKi9cclxuICBfb25EcmFnT3ZlciA9IChlKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtQ29yZCA9IHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGRyYWdFbGVtWSA9IGUuY2xpZW50WTtcclxuXHJcbiAgICBpZiAoIXRoaXMucHJvcHMuc3BhY2VBdmFpbGFibGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkcmFnRWxlbVkgPj0gZWxlbUNvcmQueSAmJiBkcmFnRWxlbVkgPD0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCkge1xyXG4gICAgICBjb25zdCBtaWRZID0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCAvIDI7XHJcbiAgICAgIGlmIChkcmFnRWxlbVkgPCBtaWRZKSB7XHJcbiAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyJyk7XHJcbiAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2JlZm9yZScpO1xyXG4gICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScpO1xyXG4gICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdhZnRlcicpO1xyXG4gICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCArIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBfb25EcmFnTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAvLyByZW1vdmUgYmVmb3JlL2FmdGVyIGNsYXNzIGZyb20gZHJhZ2dlZCBlbGVtZW50XHJcbiAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJywgJ2FmdGVyJyk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGVsZW1lbnRQcm9wcywgZHJhZ2dhYmxlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgbGV0IGUgPSBudWxsO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmRyb3B6b25lSUQpIHtcclxuICAgICAgLy8gYWRkIHRoaXMgcmVxdWlyZWQgZnVuY3Rpb24gb25seSBpZiBlbGVtZW50IGlzIGRyb3BwZWQgaW4gY2FudmFzXHJcbiAgICAgIGUgPSB7XHJcbiAgICAgICAgb25EcmFnT3ZlcjogdGhpcy5fb25EcmFnT3ZlcixcclxuICAgICAgICBvbkRyYWdMZWF2ZTogdGhpcy5fb25EcmFnTGVhdmVcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZHJhZ2dhYmxlKSB7XHJcbiAgICAgIGUgPSB7XHJcbiAgICAgICAgLi4uZSxcclxuICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXt0aGlzLmRyYWdFbGVtUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImRyYWctaXRlbVwiXHJcbiAgICAgICAgb25EcmFnU3RhcnQ9e3RoaXMuX2RyYWdTdGFydH1cclxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX2RyYWdFbmR9XHJcbiAgICAgICAgey4uLmVsZW1lbnRQcm9wc31cclxuICAgICAgICB7Li4uZX1cclxuICAgICAgPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbkRyYWdnYWJsZS5wcm9wVHlwZXMgPSB7XHJcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGluaXREb25lOiBQcm9wVHlwZXMuYm9vbCxcclxuICBpbmRleDogUHJvcFR5cGVzLm51bWJlcixcclxuICBkcmFnZ2FibGU6IFByb3BUeXBlcy5ib29sLFxyXG4gIHNwYWNlQXZhaWxhYmxlOiBQcm9wVHlwZXMuYm9vbCxcclxuICB1cGRhdGVTdGF0ZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZHJvcHpvbmVJRDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBwYXlsb2FkOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihPYmplY3QpLFxyXG4gIGVsZW1lbnRQcm9wczogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KSxcclxuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpLFxyXG4gICAgUHJvcFR5cGVzLmVsZW1lbnRcclxuICBdKS5pc1JlcXVpcmVkLFxyXG4gIHJlbW92ZUVsZW1lbnQ6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGNoZWNrQW5kUmVtb3ZlRWxlbWVudDogUHJvcFR5cGVzLmZ1bmNcclxufTtcclxuXHJcbkRyYWdnYWJsZS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiAoKSA9PiAodHJ1ZSksXHJcbiAgZWxlbWVudFByb3BzOiBudWxsLFxyXG4gIHBheWxvYWQ6IG51bGwsXHJcbiAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gIHVwZGF0ZVN0YXRlOiAoKSA9PiAodHJ1ZSlcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyYWdnYWJsZTtcclxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IERyb3B6b25lIGZyb20gJy4uL0Ryb3B6b25lL0Ryb3B6b25lJztcclxuXHJcbi8vIGZ1bmN0aW9uYWwgY29tcG9uZW50IHdoaWNoIGV4dGVuZHMgRHJvcHpvbmUgYnV0IHdpdGggc29tZSBmaXhlZCBwcm9wZXJ0aWVzIC0gaWQgYW5kIHBhcmVudElEXHJcbi8vIGJvdGggcHJvcHMgc2V0IHRvIGByb290YCAtIHJlcXVpcmVkIHNpbmNlIGFwcGxpY2F0aW9uIHN0YXRlIGhvbGRzIGByb290YCBhcyBwYXJlbnQgbm9kZVxyXG4vLyBkZWZhdWx0IGluaXREb25lIHNldCB0byB0cnVlXHJcbmNvbnN0IENhbnZhcyA9IHByb3BzID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tY2FudmFzXCI+XHJcbiAgICA8RHJvcHpvbmUgey4uLnByb3BzfSBwYXJlbnRJRD1cInJvb3RcIiBpZD1cInJvb3RcIiBpbml0RG9uZSAvPlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xyXG4iLCIvLyBpbXBvcnQgYWxsIGNvbXBvbmVudHNcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NvbXBvbmVudHMvQ2FudmFzL0NhbnZhcyc7XHJcbmltcG9ydCBEcm9wem9uZSBmcm9tICcuL2NvbXBvbmVudHMvRHJvcHpvbmUvRHJvcHpvbmUnO1xyXG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJy4vY29tcG9uZW50cy9EcmFnZ2FibGUvRHJhZ2dhYmxlJztcclxuaW1wb3J0IFBhbGV0dGUgZnJvbSAnLi9jb21wb25lbnRzL1BhbGV0dGUvUGFsZXR0ZSc7XHJcbmltcG9ydCBUcmFzaCBmcm9tICcuL2NvbXBvbmVudHMvVHJhc2gvVHJhc2gnO1xyXG5cclxuLy8gaW1wb3J0IGFsbCBBUEknc1xyXG5pbXBvcnQgc3RhdGUgZnJvbSAnLi9jb3JlL3N0YXRlJztcclxuaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlL2NvcmUnO1xyXG5cclxuLy8gaW1wb3J0IGJhc2ljIHN0eWxlXHJcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgLy8gYWxsIGNvbXBvbmVudHNcclxuICBDYW52YXMsXHJcbiAgRHJvcHpvbmUsXHJcbiAgRHJhZ2dhYmxlLFxyXG4gIFBhbGV0dGUsXHJcbiAgVHJhc2gsXHJcblxyXG4gIC8vIGFsbCBvcGVuIEFQSSdzXHJcbiAgc3RhdGUsXHJcbiAgY29yZSxcclxuXHJcbiAgLy8gc2luY2UgdGhpcyBpcyByZXVpcmVkIGZ1bmN0aW9uLCBrZWVwaW5nIHNlcHJhdGVcclxuICByZWdpc3RlclBhbGV0dGVFbGVtZW50czogY29yZS5yZWdpc3RlclBhbGV0dGVFbGVtZW50c1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9